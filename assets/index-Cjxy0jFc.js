var W1=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var IP=W1((NP,Rc)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function I_(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var Ap={exports:{}},cc={},Cp={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function V1(){if(Wy)return ut;Wy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function S(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function P(I,z,X){this.props=I,this.context=z,this.refs=R,this.updater=X||b}P.prototype.isReactComponent={},P.prototype.setState=function(I,z){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,z,"setState")},P.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function M(){}M.prototype=P.prototype;function L(I,z,X){this.props=I,this.context=z,this.refs=R,this.updater=X||b}var F=L.prototype=new M;F.constructor=L,T(F,P.prototype),F.isPureReactComponent=!0;var j=Array.isArray,U=Object.prototype.hasOwnProperty,q={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function Z(I,z,X){var ie,he={},pe=null,_e=null;if(z!=null)for(ie in z.ref!==void 0&&(_e=z.ref),z.key!==void 0&&(pe=""+z.key),z)U.call(z,ie)&&!D.hasOwnProperty(ie)&&(he[ie]=z[ie]);var Ae=arguments.length-2;if(Ae===1)he.children=X;else if(1<Ae){for(var Re=Array(Ae),ye=0;ye<Ae;ye++)Re[ye]=arguments[ye+2];he.children=Re}if(I&&I.defaultProps)for(ie in Ae=I.defaultProps,Ae)he[ie]===void 0&&(he[ie]=Ae[ie]);return{$$typeof:n,type:I,key:pe,ref:_e,props:he,_owner:q.current}}function ue(I,z){return{$$typeof:n,type:I.type,key:z,ref:I.ref,props:I.props,_owner:I._owner}}function ce(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function Se(I){var z={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(X){return z[X]})}var Q=/\/+/g;function J(I,z){return typeof I=="object"&&I!==null&&I.key!=null?Se(""+I.key):z.toString(36)}function le(I,z,X,ie,he){var pe=typeof I;(pe==="undefined"||pe==="boolean")&&(I=null);var _e=!1;if(I===null)_e=!0;else switch(pe){case"string":case"number":_e=!0;break;case"object":switch(I.$$typeof){case n:case e:_e=!0}}if(_e)return _e=I,he=he(_e),I=ie===""?"."+J(_e,0):ie,j(he)?(X="",I!=null&&(X=I.replace(Q,"$&/")+"/"),le(he,z,X,"",function(ye){return ye})):he!=null&&(ce(he)&&(he=ue(he,X+(!he.key||_e&&_e.key===he.key?"":(""+he.key).replace(Q,"$&/")+"/")+I)),z.push(he)),1;if(_e=0,ie=ie===""?".":ie+":",j(I))for(var Ae=0;Ae<I.length;Ae++){pe=I[Ae];var Re=ie+J(pe,Ae);_e+=le(pe,z,X,Re,he)}else if(Re=S(I),typeof Re=="function")for(I=Re.call(I),Ae=0;!(pe=I.next()).done;)pe=pe.value,Re=ie+J(pe,Ae++),_e+=le(pe,z,X,Re,he);else if(pe==="object")throw z=String(I),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return _e}function be(I,z,X){if(I==null)return I;var ie=[],he=0;return le(I,ie,"","",function(pe){return z.call(X,pe,he++)}),ie}function B(I){if(I._status===-1){var z=I._result;z=z(),z.then(function(X){(I._status===0||I._status===-1)&&(I._status=1,I._result=X)},function(X){(I._status===0||I._status===-1)&&(I._status=2,I._result=X)}),I._status===-1&&(I._status=0,I._result=z)}if(I._status===1)return I._result.default;throw I._result}var G={current:null},C={transition:null},H={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:C,ReactCurrentOwner:q};function N(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:be,forEach:function(I,z,X){be(I,function(){z.apply(this,arguments)},X)},count:function(I){var z=0;return be(I,function(){z++}),z},toArray:function(I){return be(I,function(z){return z})||[]},only:function(I){if(!ce(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ut.Component=P,ut.Fragment=t,ut.Profiler=s,ut.PureComponent=L,ut.StrictMode=r,ut.Suspense=p,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,ut.act=N,ut.cloneElement=function(I,z,X){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var ie=T({},I.props),he=I.key,pe=I.ref,_e=I._owner;if(z!=null){if(z.ref!==void 0&&(pe=z.ref,_e=q.current),z.key!==void 0&&(he=""+z.key),I.type&&I.type.defaultProps)var Ae=I.type.defaultProps;for(Re in z)U.call(z,Re)&&!D.hasOwnProperty(Re)&&(ie[Re]=z[Re]===void 0&&Ae!==void 0?Ae[Re]:z[Re])}var Re=arguments.length-2;if(Re===1)ie.children=X;else if(1<Re){Ae=Array(Re);for(var ye=0;ye<Re;ye++)Ae[ye]=arguments[ye+2];ie.children=Ae}return{$$typeof:n,type:I.type,key:he,ref:pe,props:ie,_owner:_e}},ut.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:o,_context:I},I.Consumer=I},ut.createElement=Z,ut.createFactory=function(I){var z=Z.bind(null,I);return z.type=I,z},ut.createRef=function(){return{current:null}},ut.forwardRef=function(I){return{$$typeof:d,render:I}},ut.isValidElement=ce,ut.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:B}},ut.memo=function(I,z){return{$$typeof:g,type:I,compare:z===void 0?null:z}},ut.startTransition=function(I){var z=C.transition;C.transition={};try{I()}finally{C.transition=z}},ut.unstable_act=N,ut.useCallback=function(I,z){return G.current.useCallback(I,z)},ut.useContext=function(I){return G.current.useContext(I)},ut.useDebugValue=function(){},ut.useDeferredValue=function(I){return G.current.useDeferredValue(I)},ut.useEffect=function(I,z){return G.current.useEffect(I,z)},ut.useId=function(){return G.current.useId()},ut.useImperativeHandle=function(I,z,X){return G.current.useImperativeHandle(I,z,X)},ut.useInsertionEffect=function(I,z){return G.current.useInsertionEffect(I,z)},ut.useLayoutEffect=function(I,z){return G.current.useLayoutEffect(I,z)},ut.useMemo=function(I,z){return G.current.useMemo(I,z)},ut.useReducer=function(I,z,X){return G.current.useReducer(I,z,X)},ut.useRef=function(I){return G.current.useRef(I)},ut.useState=function(I){return G.current.useState(I)},ut.useSyncExternalStore=function(I,z,X){return G.current.useSyncExternalStore(I,z,X)},ut.useTransition=function(){return G.current.useTransition()},ut.version="18.3.1",ut}var Vy;function Kg(){return Vy||(Vy=1,Cp.exports=V1()),Cp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function X1(){if(Xy)return cc;Xy=1;var n=Kg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,g){var v,x={},S=null,b=null;g!==void 0&&(S=""+g),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(b=p.ref);for(v in p)r.call(p,v)&&!o.hasOwnProperty(v)&&(x[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)x[v]===void 0&&(x[v]=p[v]);return{$$typeof:e,type:d,key:S,ref:b,props:x,_owner:s.current}}return cc.Fragment=t,cc.jsx=c,cc.jsxs=c,cc}var Yy;function Y1(){return Yy||(Yy=1,Ap.exports=X1()),Ap.exports}var Xt=Y1(),Un=Kg();const pn=Cf(Un);var Ad={},Pp={exports:{}},Ln={},Rp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function q1(){return qy||(qy=1,function(n){function e(C,H){var N=C.length;C.push(H);e:for(;0<N;){var I=N-1>>>1,z=C[I];if(0<s(z,H))C[I]=H,C[N]=z,N=I;else break e}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var H=C[0],N=C.pop();if(N!==H){C[0]=N;e:for(var I=0,z=C.length,X=z>>>1;I<X;){var ie=2*(I+1)-1,he=C[ie],pe=ie+1,_e=C[pe];if(0>s(he,N))pe<z&&0>s(_e,he)?(C[I]=_e,C[pe]=N,I=pe):(C[I]=he,C[ie]=N,I=ie);else if(pe<z&&0>s(_e,N))C[I]=_e,C[pe]=N,I=pe;else break e}}return H}function s(C,H){var N=C.sortIndex-H.sortIndex;return N!==0?N:C.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,x=null,S=3,b=!1,T=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(C){for(var H=t(g);H!==null;){if(H.callback===null)r(g);else if(H.startTime<=C)r(g),H.sortIndex=H.expirationTime,e(p,H);else break;H=t(g)}}function j(C){if(R=!1,F(C),!T)if(t(p)!==null)T=!0,B(U);else{var H=t(g);H!==null&&G(j,H.startTime-C)}}function U(C,H){T=!1,R&&(R=!1,M(Z),Z=-1),b=!0;var N=S;try{for(F(H),x=t(p);x!==null&&(!(x.expirationTime>H)||C&&!Se());){var I=x.callback;if(typeof I=="function"){x.callback=null,S=x.priorityLevel;var z=I(x.expirationTime<=H);H=n.unstable_now(),typeof z=="function"?x.callback=z:x===t(p)&&r(p),F(H)}else r(p);x=t(p)}if(x!==null)var X=!0;else{var ie=t(g);ie!==null&&G(j,ie.startTime-H),X=!1}return X}finally{x=null,S=N,b=!1}}var q=!1,D=null,Z=-1,ue=5,ce=-1;function Se(){return!(n.unstable_now()-ce<ue)}function Q(){if(D!==null){var C=n.unstable_now();ce=C;var H=!0;try{H=D(!0,C)}finally{H?J():(q=!1,D=null)}}else q=!1}var J;if(typeof L=="function")J=function(){L(Q)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,be=le.port2;le.port1.onmessage=Q,J=function(){be.postMessage(null)}}else J=function(){P(Q,0)};function B(C){D=C,q||(q=!0,J())}function G(C,H){Z=P(function(){C(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_continueExecution=function(){T||b||(T=!0,B(U))},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(C){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var N=S;S=H;try{return C()}finally{S=N}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var N=S;S=C;try{return H()}finally{S=N}},n.unstable_scheduleCallback=function(C,H,N){var I=n.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?I+N:I):N=I,C){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=N+z,C={id:v++,callback:H,priorityLevel:C,startTime:N,expirationTime:z,sortIndex:-1},N>I?(C.sortIndex=N,e(g,C),t(p)===null&&C===t(g)&&(R?(M(Z),Z=-1):R=!0,G(j,N-I))):(C.sortIndex=z,e(p,C),T||b||(T=!0,B(U))),C},n.unstable_shouldYield=Se,n.unstable_wrapCallback=function(C){var H=S;return function(){var N=S;S=H;try{return C.apply(this,arguments)}finally{S=N}}}}(Ip)),Ip}var Qy;function Q1(){return Qy||(Qy=1,Rp.exports=q1()),Rp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function K1(){if(Ky)return Ln;Ky=1;var n=Kg(),e=Q1();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},x={};function S(i){return p.call(x,i)?!0:p.call(v,i)?!1:g.test(i)?x[i]=!0:(v[i]=!0,!1)}function b(i,a,h,f){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function T(i,a,h,f){if(a===null||typeof a>"u"||b(i,a,h,f))return!0;if(f)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(i,a,h,f,y,E,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=i,this.type=a,this.sanitizeURL=E,this.removeEmptyString=k}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new R(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];P[a]=new R(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new R(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new R(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new R(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new R(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new R(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new R(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new R(i,5,!1,i.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function L(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(M,L);P[a]=new R(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(M,L);P[a]=new R(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(M,L);P[a]=new R(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new R(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new R(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,a,h,f){var y=P.hasOwnProperty(a)?P[a]:null;(y!==null?y.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,h,y,f)&&(h=null),f||y===null?S(a)&&(h===null?i.removeAttribute(a):i.setAttribute(a,""+h)):y.mustUseProperty?i[y.propertyName]=h===null?y.type===3?!1:"":h:(a=y.attributeName,f=y.attributeNamespace,h===null?i.removeAttribute(a):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,f?i.setAttributeNS(f,a,h):i.setAttribute(a,h))))}var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),q=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),Se=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),C=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var N=Object.assign,I;function z(i){if(I===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);I=a&&a[1]||""}return`
`+I+i}var X=!1;function ie(i,a){if(!i||X)return"";X=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ae){var f=ae}Reflect.construct(i,[],a)}else{try{a.call()}catch(ae){f=ae}i.call(a.prototype)}else{try{throw Error()}catch(ae){f=ae}i()}}catch(ae){if(ae&&f&&typeof ae.stack=="string"){for(var y=ae.stack.split(`
`),E=f.stack.split(`
`),k=y.length-1,$=E.length-1;1<=k&&0<=$&&y[k]!==E[$];)$--;for(;1<=k&&0<=$;k--,$--)if(y[k]!==E[$]){if(k!==1||$!==1)do if(k--,$--,0>$||y[k]!==E[$]){var W=`
`+y[k].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=k&&0<=$);break}}}finally{X=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?z(i):""}function he(i){switch(i.tag){case 5:return z(i.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return i=ie(i.type,!1),i;case 11:return i=ie(i.type.render,!1),i;case 1:return i=ie(i.type,!0),i;default:return""}}function pe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case q:return"Portal";case ue:return"Profiler";case Z:return"StrictMode";case J:return"Suspense";case le:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Se:return(i.displayName||"Context")+".Consumer";case ce:return(i._context.displayName||"Context")+".Provider";case Q:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case be:return a=i.displayName||null,a!==null?a:pe(i.type)||"Memo";case B:a=i._payload,i=i._init;try{return pe(i(a))}catch{}}return null}function _e(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(a);case 8:return a===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ae(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Re(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ye(i){var a=Re(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),f=""+i[a];if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,E=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(k){f=""+k,E.call(this,k)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ke(i){i._valueTracker||(i._valueTracker=ye(i))}function Ue(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var h=a.getValue(),f="";return i&&(f=Re(i)?i.checked?"true":"false":i.value),i=f,i!==h?(a.setValue(i),!0):!1}function We(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function lt(i,a){var h=a.checked;return N({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function $e(i,a){var h=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;h=Ae(a.value!=null?a.value:h),i._wrapperState={initialChecked:f,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ve(i,a){a=a.checked,a!=null&&F(i,"checked",a,!1)}function Dt(i,a){Ve(i,a);var h=Ae(a.value),f=a.type;if(h!=null)f==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?ni(i,a.type,h):a.hasOwnProperty("defaultValue")&&ni(i,a.type,Ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function $t(i,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,h||a===i.value||(i.value=a),i.defaultValue=a}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function ni(i,a,h){(a!=="number"||We(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var pr=Array.isArray;function mr(i,a,h,f){if(i=i.options,a){a={};for(var y=0;y<h.length;y++)a["$"+h[y]]=!0;for(h=0;h<i.length;h++)y=a.hasOwnProperty("$"+i[h].value),i[h].selected!==y&&(i[h].selected=y),y&&f&&(i[h].defaultSelected=!0)}else{for(h=""+Ae(h),a=null,y=0;y<i.length;y++){if(i[y].value===h){i[y].selected=!0,f&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function ii(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return N({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function _i(i,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(t(92));if(pr(h)){if(1<h.length)throw Error(t(93));h=h[0]}a=h}a==null&&(a=""),h=a}i._wrapperState={initialValue:Ae(h)}}function tn(i,a){var h=Ae(a.value),f=Ae(a.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),a.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),f!=null&&(i.defaultValue=""+f)}function jl(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function Wl(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _a(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?Wl(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var xa,Ji=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,f,y){MSApp.execUnsafeLocalFunction(function(){return i(a,h,f,y)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=xa.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function xi(i,a){if(a){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=a;return}}i.textContent=a}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dh=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(i){dh.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),es[a]=es[i]})});function Vl(i,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||es.hasOwnProperty(i)&&es[i]?(""+a).trim():a+"px"}function wa(i,a){i=i.style;for(var h in a)if(a.hasOwnProperty(h)){var f=h.indexOf("--")===0,y=Vl(h,a[h],f);h==="float"&&(h="cssFloat"),f?i.setProperty(h,y):i[h]=y}}var Sa=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function re(i,a){if(a){if(Sa[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function se(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ht=null;function xt(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Et=null,rt=null,Br=null;function si(i){if(i=qa(i)){if(typeof Et!="function")throw Error(t(280));var a=i.stateNode;a&&(a=Qa(a),Et(i.stateNode,i.type,a))}}function _r(i){rt?Br?Br.push(i):Br=[i]:rt=i}function yn(){if(rt){var i=rt,a=Br;if(Br=rt=null,si(i),a)for(i=0;i<a.length;i++)si(a[i])}}function Ea(i,a){return i(a)}function Hn(){}var Ar=!1;function ba(i,a,h){if(Ar)return i(a,h);Ar=!0;try{return Ea(i,a,h)}finally{Ar=!1,(rt!==null||Br!==null)&&(Hn(),yn())}}function ts(i,a){var h=i.stateNode;if(h===null)return null;var f=Qa(h);if(f===null)return null;h=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(t(231,a,typeof h));return h}var Ta=!1;if(d)try{var $n={};Object.defineProperty($n,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{Ta=!1}function Aa(i,a,h,f,y,E,k,$,W){var ae=Array.prototype.slice.call(arguments,3);try{a.apply(h,ae)}catch(xe){this.onError(xe)}}var vn=!1,rs=null,ns=!1,wi=null,Xl={onError:function(i){vn=!0,rs=i}};function Po(i,a,h,f,y,E,k,$,W){vn=!1,rs=null,Aa.apply(Xl,arguments)}function Yl(i,a,h,f,y,E,k,$,W){if(Po.apply(this,arguments),vn){if(vn){var ae=rs;vn=!1,rs=null}else throw Error(t(198));ns||(ns=!0,wi=ae)}}function jn(i){var a=i,h=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(h=a.return),i=a.return;while(i)}return a.tag===3?h:null}function Ro(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function ql(i){if(jn(i)!==i)throw Error(t(188))}function Io(i){var a=i.alternate;if(!a){if(a=jn(i),a===null)throw Error(t(188));return a!==i?null:i}for(var h=i,f=a;;){var y=h.return;if(y===null)break;var E=y.alternate;if(E===null){if(f=y.return,f!==null){h=f;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===h)return ql(y),i;if(E===f)return ql(y),a;E=E.sibling}throw Error(t(188))}if(h.return!==f.return)h=y,f=E;else{for(var k=!1,$=y.child;$;){if($===h){k=!0,h=y,f=E;break}if($===f){k=!0,f=y,h=E;break}$=$.sibling}if(!k){for($=E.child;$;){if($===h){k=!0,h=E,f=y;break}if($===f){k=!0,f=E,h=y;break}$=$.sibling}if(!k)throw Error(t(189))}}if(h.alternate!==f)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?i:a}function Si(i){return i=Io(i),i!==null?Fs(i):null}function Fs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Fs(i);if(a!==null)return a;i=i.sibling}return null}var Ql=e.unstable_scheduleCallback,ko=e.unstable_cancelCallback,Hf=e.unstable_shouldYield,$f=e.unstable_requestPaint,qt=e.unstable_now,Mo=e.unstable_getCurrentPriorityLevel,Do=e.unstable_ImmediatePriority,Kl=e.unstable_UserBlockingPriority,Zl=e.unstable_NormalPriority,fh=e.unstable_LowPriority,Bs=e.unstable_IdlePriority,Wn=null,pt=null;function Ct(i){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Wn,i,void 0,(i.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:Ls,Cr=Math.log,jr=Math.LN2;function Ls(i){return i>>>=0,i===0?32:31-(Cr(i)/jr|0)|0}var Ei=64,Pr=4194304;function Us(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function No(i,a){var h=i.pendingLanes;if(h===0)return 0;var f=0,y=i.suspendedLanes,E=i.pingedLanes,k=h&268435455;if(k!==0){var $=k&~y;$!==0?f=Us($):(E&=k,E!==0&&(f=Us(E)))}else k=h&~y,k!==0?f=Us(k):E!==0&&(f=Us(E));if(f===0)return 0;if(a!==0&&a!==f&&!(a&y)&&(y=f&-f,E=a&-a,y>=E||y===16&&(E&4194240)!==0))return a;if(f&4&&(f|=h&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=f;0<a;)h=31-gr(a),y=1<<h,f|=i[h],a&=~y;return f}function zc(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(i,a){for(var h=i.suspendedLanes,f=i.pingedLanes,y=i.expirationTimes,E=i.pendingLanes;0<E;){var k=31-gr(E),$=1<<k,W=y[k];W===-1?(!($&h)||$&f)&&(y[k]=zc($,a)):W<=a&&(i.expiredLanes|=$),E&=~$}}function eu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function _n(){var i=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),i}function ph(i){for(var a=[],h=0;31>h;h++)a.push(i);return a}function Oo(i,a,h){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-gr(a),i[a]=h}function mh(i,a){var h=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<h;){var y=31-gr(h),E=1<<y;a[y]=0,f[y]=-1,i[y]=-1,h&=~E}}function Fo(i,a){var h=i.entangledLanes|=a;for(i=i.entanglements;h;){var f=31-gr(h),y=1<<f;y&a|i[f]&a&&(i[f]|=a),h&=~y}}var mt=0;function Bo(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Gc,Lo,gh,tu,Ca,Uo=!1,ct=[],bi=null,ai=null,Ti=null,zo=new Map,Go=new Map,Nt=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hc(i,a){switch(i){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":zo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(a.pointerId)}}function Pa(i,a,h,f,y,E){return i===null||i.nativeEvent!==E?(i={blockedOn:a,domEventName:h,eventSystemFlags:f,nativeEvent:E,targetContainers:[y]},a!==null&&(a=qa(a),a!==null&&Lo(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function jf(i,a,h,f,y){switch(a){case"focusin":return bi=Pa(bi,i,a,h,f,y),!0;case"dragenter":return ai=Pa(ai,i,a,h,f,y),!0;case"mouseover":return Ti=Pa(Ti,i,a,h,f,y),!0;case"pointerover":var E=y.pointerId;return zo.set(E,Pa(zo.get(E)||null,i,a,h,f,y)),!0;case"gotpointercapture":return E=y.pointerId,Go.set(E,Pa(Go.get(E)||null,i,a,h,f,y)),!0}return!1}function Ho(i){var a=fs(i.target);if(a!==null){var h=jn(a);if(h!==null){if(a=h.tag,a===13){if(a=Ro(h),a!==null){i.blockedOn=a,Ca(i.priority,function(){gh(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rn(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var h=Wr(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var f=new h.constructor(h.type,h);ht=f,h.target.dispatchEvent(f),ht=null}else return a=qa(h),a!==null&&Lo(a),i.blockedOn=h,!1;a.shift()}return!0}function xn(i,a,h){rn(i)&&h.delete(a)}function Ai(){Uo=!1,bi!==null&&rn(bi)&&(bi=null),ai!==null&&rn(ai)&&(ai=null),Ti!==null&&rn(Ti)&&(Ti=null),zo.forEach(xn),Go.forEach(xn)}function is(i,a){i.blockedOn===a&&(i.blockedOn=null,Uo||(Uo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ai)))}function zs(i){function a(y){return is(y,i)}if(0<ct.length){is(ct[0],i);for(var h=1;h<ct.length;h++){var f=ct[h];f.blockedOn===i&&(f.blockedOn=null)}}for(bi!==null&&is(bi,i),ai!==null&&is(ai,i),Ti!==null&&is(Ti,i),zo.forEach(a),Go.forEach(a),h=0;h<Nt.length;h++)f=Nt[h],f.blockedOn===i&&(f.blockedOn=null);for(;0<Nt.length&&(h=Nt[0],h.blockedOn===null);)Ho(h),h.blockedOn===null&&Nt.shift()}var Gs=j.ReactCurrentBatchConfig,nn=!0;function Ra(i,a,h,f){var y=mt,E=Gs.transition;Gs.transition=null;try{mt=1,ka(i,a,h,f)}finally{mt=y,Gs.transition=E}}function Ia(i,a,h,f){var y=mt,E=Gs.transition;Gs.transition=null;try{mt=4,ka(i,a,h,f)}finally{mt=y,Gs.transition=E}}function ka(i,a,h,f){if(nn){var y=Wr(i,a,h,f);if(y===null)wu(i,a,f,Hs,h),Hc(i,f);else if(jf(y,i,a,h,f))f.stopPropagation();else if(Hc(i,f),a&4&&-1<yh.indexOf(i)){for(;y!==null;){var E=qa(y);if(E!==null&&Gc(E),E=Wr(i,a,h,f),E===null&&wu(i,a,f,Hs,h),E===y)break;y=E}y!==null&&f.stopPropagation()}else wu(i,a,f,null,h)}}var Hs=null;function Wr(i,a,h,f){if(Hs=null,i=xt(f),i=fs(i),i!==null)if(a=jn(i),a===null)i=null;else if(h=a.tag,h===13){if(i=Ro(a),i!==null)return i;i=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Hs=i,null}function sn(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mo()){case Do:return 1;case Kl:return 4;case Zl:case fh:return 16;case Bs:return 536870912;default:return 16}default:return 16}}var Vr=null,wn=null,Sn=null;function ss(){if(Sn)return Sn;var i,a=wn,h=a.length,f,y="value"in Vr?Vr.value:Vr.textContent,E=y.length;for(i=0;i<h&&a[i]===y[i];i++);var k=h-i;for(f=1;f<=k&&a[h-f]===y[E-f];f++);return Sn=y.slice(i,1<f?1-f:void 0)}function $o(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ma(){return!0}function ru(){return!1}function Ot(i){function a(h,f,y,E,k){this._reactName=h,this._targetInst=y,this.type=f,this.nativeEvent=E,this.target=k,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(h=i[$],this[$]=h?h(E):E[$]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ma:ru,this.isPropagationStopped=ru,this}return N(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),a}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pt=Ot(xr),Ci=N({},xr,{view:0,detail:0}),Vn=Ot(Ci),nu,iu,$s,Da=N({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$s&&($s&&i.type==="mousemove"?(nu=i.screenX-$s.screenX,iu=i.screenY-$s.screenY):iu=nu=0,$s=i),nu)},movementY:function(i){return"movementY"in i?i.movementY:iu}}),vh=Ot(Da),su=N({},Da,{dataTransfer:0}),$c=Ot(su),Na=N({},Ci,{relatedTarget:0}),jo=Ot(Na),Wf=N({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),au=Ot(Wf),Vf=N({},xr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xn=Ot(Vf),ou=N({},xr,{data:0}),Wo=Ot(ou),Oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=xh[i])?!!a[i]:!1}function Vo(){return jc}var wh=N({},Ci,{key:function(i){if(i.key){var a=Oa[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=$o(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?_h[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(i){return i.type==="keypress"?$o(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$o(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Fa=Ot(wh),En=N({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Ot(En),Sh=N({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),Wc=Ot(Sh),oi=N({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),os=Ot(oi),Eh=N({},Da,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Vc=Ot(Eh),Pi=[9,13,27,32],li=d&&"CompositionEvent"in window,ls=null;d&&"documentMode"in document&&(ls=document.documentMode);var Xc=d&&"TextEvent"in window&&!ls,Xo=d&&(!li||ls&&8<ls&&11>=ls),bh=" ",Th=!1;function lu(i,a){switch(i){case"keyup":return Pi.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var js=!1;function Yc(i,a){switch(i){case"compositionend":return Yo(a);case"keypress":return a.which!==32?null:(Th=!0,bh);case"textInput":return i=a.data,i===bh&&Th?null:i;default:return null}}function qc(i,a){if(js)return i==="compositionend"||!li&&lu(i,a)?(i=ss(),Sn=wn=Vr=null,js=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xo&&a.locale!=="ko"?null:a.data;default:return null}}var Ah={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ba(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Ah[i.type]:a==="textarea"}function qo(i,a,h,f){_r(f),a=rl(a,"onChange"),0<a.length&&(h=new Pt("onChange","change",null,h,f),i.push({event:h,listeners:a}))}var La=null,Ua=null;function za(i){vu(i,0)}function Qo(i){var a=Ys(i);if(Ue(a))return i}function Ko(i,a){if(i==="change")return a}var an=!1;if(d){var Ws;if(d){var us="oninput"in document;if(!us){var Yn=document.createElement("div");Yn.setAttribute("oninput","return;"),us=typeof Yn.oninput=="function"}Ws=us}else Ws=!1;an=Ws&&(!document.documentMode||9<document.documentMode)}function uu(){La&&(La.detachEvent("onpropertychange",Vs),Ua=La=null)}function Vs(i){if(i.propertyName==="value"&&Qo(Ua)){var a=[];qo(a,Ua,i,xt(i)),ba(za,a)}}function Qc(i,a,h){i==="focusin"?(uu(),La=a,Ua=h,La.attachEvent("onpropertychange",Vs)):i==="focusout"&&uu()}function Ch(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Qo(Ua)}function jt(i,a){if(i==="click")return Qo(a)}function hu(i,a){if(i==="input"||i==="change")return Qo(a)}function Ph(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var on=typeof Object.is=="function"?Object.is:Ph;function hs(i,a){if(on(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var h=Object.keys(i),f=Object.keys(a);if(h.length!==f.length)return!1;for(f=0;f<h.length;f++){var y=h[f];if(!p.call(a,y)||!on(i[y],a[y]))return!1}return!0}function cu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cs(i,a){var h=cu(i);i=0;for(var f;h;){if(h.nodeType===3){if(f=i+h.textContent.length,i<=a&&f>=a)return{node:h,offset:a-i};i=f}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=cu(h)}}function Ut(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Ut(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function or(){for(var i=window,a=We();a instanceof i.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)i=a.contentWindow;else break;a=We(i.document)}return a}function Jt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function du(i){var a=or(),h=i.focusedElem,f=i.selectionRange;if(a!==h&&h&&h.ownerDocument&&Ut(h.ownerDocument.documentElement,h)){if(f!==null&&Jt(h)){if(a=f.start,i=f.end,i===void 0&&(i=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(i,h.value.length);else if(i=(a=h.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=h.textContent.length,E=Math.min(f.start,y);f=f.end===void 0?E:Math.min(f.end,y),!i.extend&&E>f&&(y=f,f=E,E=y),y=cs(h,E);var k=cs(h,f);y&&k&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),E>f?(i.addRange(a),i.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),i.addRange(a)))}}for(a=[],i=h;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)i=a[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Zo=d&&"documentMode"in document&&11>=document.documentMode,ui=null,Rh=null,er=null,Jo=!1;function fu(i,a,h){var f=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Jo||ui==null||ui!==We(f)||(f=ui,"selectionStart"in f&&Jt(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),er&&hs(er,f)||(er=f,f=rl(Rh,"onSelect"),0<f.length&&(a=new Pt("onSelect","select",null,a,h),i.push({event:a,listeners:f}),a.target=ui)))}function Ga(i,a){var h={};return h[i.toLowerCase()]=a.toLowerCase(),h["Webkit"+i]="webkit"+a,h["Moz"+i]="moz"+a,h}var Lr={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},Xr={},Ha={};d&&(Ha=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function $a(i){if(Xr[i])return Xr[i];if(!Lr[i])return i;var a=Lr[i],h;for(h in a)if(a.hasOwnProperty(h)&&h in Ha)return Xr[i]=a[h];return i}var pu=$a("animationend"),Ih=$a("animationiteration"),kh=$a("animationstart"),Mh=$a("transitionend"),Dh=new Map,Nh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(i,a){Dh.set(i,a),o(a,[i])}for(var mu=0;mu<Nh.length;mu++){var gu=Nh[mu],el=gu.toLowerCase(),Kc=gu[0].toUpperCase()+gu.slice(1);Ri(el,"on"+Kc)}Ri(pu,"onAnimationEnd"),Ri(Ih,"onAnimationIteration"),Ri(kh,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Mh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yu=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function Oh(i,a,h){var f=i.type||"unknown-event";i.currentTarget=h,Yl(f,a,void 0,i),i.currentTarget=null}function vu(i,a){a=(a&4)!==0;for(var h=0;h<i.length;h++){var f=i[h],y=f.event;f=f.listeners;e:{var E=void 0;if(a)for(var k=f.length-1;0<=k;k--){var $=f[k],W=$.instance,ae=$.currentTarget;if($=$.listener,W!==E&&y.isPropagationStopped())break e;Oh(y,$,ae),E=W}else for(k=0;k<f.length;k++){if($=f[k],W=$.instance,ae=$.currentTarget,$=$.listener,W!==E&&y.isPropagationStopped())break e;Oh(y,$,ae),E=W}}}if(ns)throw i=wi,ns=!1,wi=null,i}function Rt(i,a){var h=a[Rr];h===void 0&&(h=a[Rr]=new Set);var f=i+"__bubble";h.has(f)||(xu(a,i,2,!1),h.add(f))}function _u(i,a,h){var f=0;a&&(f|=4),xu(h,i,f,a)}var tl="_reactListening"+Math.random().toString(36).slice(2);function ja(i){if(!i[tl]){i[tl]=!0,r.forEach(function(h){h!=="selectionchange"&&(yu.has(h)||_u(h,!1,i),_u(h,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[tl]||(a[tl]=!0,_u("selectionchange",!1,a))}}function xu(i,a,h,f){switch(sn(a)){case 1:var y=Ra;break;case 4:y=Ia;break;default:y=ka}h=y.bind(null,a,h,i),y=void 0,!Ta||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?i.addEventListener(a,h,{capture:!0,passive:y}):i.addEventListener(a,h,!0):y!==void 0?i.addEventListener(a,h,{passive:y}):i.addEventListener(a,h,!1)}function wu(i,a,h,f,y){var E=f;if(!(a&1)&&!(a&2)&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var $=f.stateNode.containerInfo;if($===y||$.nodeType===8&&$.parentNode===y)break;if(k===4)for(k=f.return;k!==null;){var W=k.tag;if((W===3||W===4)&&(W=k.stateNode.containerInfo,W===y||W.nodeType===8&&W.parentNode===y))return;k=k.return}for(;$!==null;){if(k=fs($),k===null)return;if(W=k.tag,W===5||W===6){f=E=k;continue e}$=$.parentNode}}f=f.return}ba(function(){var ae=E,xe=xt(h),Ee=[];e:{var ve=Dh.get(i);if(ve!==void 0){var Oe=Pt,He=i;switch(i){case"keypress":if($o(h)===0)break e;case"keydown":case"keyup":Oe=Fa;break;case"focusin":He="focus",Oe=jo;break;case"focusout":He="blur",Oe=jo;break;case"beforeblur":case"afterblur":Oe=jo;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=Wc;break;case pu:case Ih:case kh:Oe=au;break;case Mh:Oe=os;break;case"scroll":Oe=Vn;break;case"wheel":Oe=Vc;break;case"copy":case"cut":case"paste":Oe=Xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=as}var Xe=(a&4)!==0,cr=!Xe&&i==="scroll",ee=Xe?ve!==null?ve+"Capture":null:ve;Xe=[];for(var Y=ae,ne;Y!==null;){ne=Y;var Pe=ne.stateNode;if(ne.tag===5&&Pe!==null&&(ne=Pe,ee!==null&&(Pe=ts(Y,ee),Pe!=null&&Xe.push(Wa(Y,Pe,ne)))),cr)break;Y=Y.return}0<Xe.length&&(ve=new Oe(ve,He,null,h,xe),Ee.push({event:ve,listeners:Xe}))}}if(!(a&7)){e:{if(ve=i==="mouseover"||i==="pointerover",Oe=i==="mouseout"||i==="pointerout",ve&&h!==ht&&(He=h.relatedTarget||h.fromElement)&&(fs(He)||He[Wt]))break e;if((Oe||ve)&&(ve=xe.window===xe?xe:(ve=xe.ownerDocument)?ve.defaultView||ve.parentWindow:window,Oe?(He=h.relatedTarget||h.toElement,Oe=ae,He=He?fs(He):null,He!==null&&(cr=jn(He),He!==cr||He.tag!==5&&He.tag!==6)&&(He=null)):(Oe=null,He=ae),Oe!==He)){if(Xe=vh,Pe="onMouseLeave",ee="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Xe=as,Pe="onPointerLeave",ee="onPointerEnter",Y="pointer"),cr=Oe==null?ve:Ys(Oe),ne=He==null?ve:Ys(He),ve=new Xe(Pe,Y+"leave",Oe,h,xe),ve.target=cr,ve.relatedTarget=ne,Pe=null,fs(xe)===ae&&(Xe=new Xe(ee,Y+"enter",He,h,xe),Xe.target=ne,Xe.relatedTarget=cr,Pe=Xe),cr=Pe,Oe&&He)t:{for(Xe=Oe,ee=He,Y=0,ne=Xe;ne;ne=Va(ne))Y++;for(ne=0,Pe=ee;Pe;Pe=Va(Pe))ne++;for(;0<Y-ne;)Xe=Va(Xe),Y--;for(;0<ne-Y;)ee=Va(ee),ne--;for(;Y--;){if(Xe===ee||ee!==null&&Xe===ee.alternate)break t;Xe=Va(Xe),ee=Va(ee)}Xe=null}else Xe=null;Oe!==null&&Fh(Ee,ve,Oe,Xe,!1),He!==null&&cr!==null&&Fh(Ee,cr,He,Xe,!0)}}e:{if(ve=ae?Ys(ae):window,Oe=ve.nodeName&&ve.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&ve.type==="file")var qe=Ko;else if(Ba(ve))if(an)qe=hu;else{qe=Ch;var Je=Qc}else(Oe=ve.nodeName)&&Oe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(qe=jt);if(qe&&(qe=qe(i,ae))){qo(Ee,qe,h,xe);break e}Je&&Je(i,ve,ae),i==="focusout"&&(Je=ve._wrapperState)&&Je.controlled&&ve.type==="number"&&ni(ve,"number",ve.value)}switch(Je=ae?Ys(ae):window,i){case"focusin":(Ba(Je)||Je.contentEditable==="true")&&(ui=Je,Rh=ae,er=null);break;case"focusout":er=Rh=ui=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,fu(Ee,h,xe);break;case"selectionchange":if(Zo)break;case"keydown":case"keyup":fu(Ee,h,xe)}var et;if(li)e:{switch(i){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else js?lu(i,h)&&(nt="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(nt="onCompositionStart");nt&&(Xo&&h.locale!=="ko"&&(js||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&js&&(et=ss()):(Vr=xe,wn="value"in Vr?Vr.value:Vr.textContent,js=!0)),Je=rl(ae,nt),0<Je.length&&(nt=new Wo(nt,i,null,h,xe),Ee.push({event:nt,listeners:Je}),et?nt.data=et:(et=Yo(h),et!==null&&(nt.data=et)))),(et=Xc?Yc(i,h):qc(i,h))&&(ae=rl(ae,"onBeforeInput"),0<ae.length&&(xe=new Wo("onBeforeInput","beforeinput",null,h,xe),Ee.push({event:xe,listeners:ae}),xe.data=et))}vu(Ee,a)})}function Wa(i,a,h){return{instance:i,listener:a,currentTarget:h}}function rl(i,a){for(var h=a+"Capture",f=[];i!==null;){var y=i,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=ts(i,h),E!=null&&f.unshift(Wa(i,E,y)),E=ts(i,a),E!=null&&f.push(Wa(i,E,y))),i=i.return}return f}function Va(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Fh(i,a,h,f,y){for(var E=a._reactName,k=[];h!==null&&h!==f;){var $=h,W=$.alternate,ae=$.stateNode;if(W!==null&&W===f)break;$.tag===5&&ae!==null&&($=ae,y?(W=ts(h,E),W!=null&&k.unshift(Wa(h,W,$))):y||(W=ts(h,E),W!=null&&k.push(Wa(h,W,$)))),h=h.return}k.length!==0&&i.push({event:a,listeners:k})}var Xf=/\r\n?/g,Yf=/\u0000|\uFFFD/g;function Bh(i){return(typeof i=="string"?i:""+i).replace(Xf,`
`).replace(Yf,"")}function nl(i,a,h){if(a=Bh(a),Bh(i)!==a&&h)throw Error(t(425))}function il(){}var Xa=null,Lh=null;function Uh(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,Ya=typeof clearTimeout=="function"?clearTimeout:void 0,Su=typeof Promise=="function"?Promise:void 0,Gh=typeof queueMicrotask=="function"?queueMicrotask:typeof Su<"u"?function(i){return Su.resolve(null).then(i).catch(qf)}:zh;function qf(i){setTimeout(function(){throw i})}function Eu(i,a){var h=a,f=0;do{var y=h.nextSibling;if(i.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(f===0){i.removeChild(y),zs(a);return}f--}else h!=="$"&&h!=="$?"&&h!=="$!"||f++;h=y}while(h);zs(a)}function Ii(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Hh(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return i;a--}else h==="/$"&&a++}i=i.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),qn="__reactFiber$"+Xs,sl="__reactProps$"+Xs,Wt="__reactContainer$"+Xs,Rr="__reactEvents$"+Xs,Zc="__reactListeners$"+Xs,Jc="__reactHandles$"+Xs;function fs(i){var a=i[qn];if(a)return a;for(var h=i.parentNode;h;){if(a=h[Wt]||h[qn]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(i=Hh(i);i!==null;){if(h=i[qn])return h;i=Hh(i)}return a}i=h,h=i.parentNode}return null}function qa(i){return i=i[qn]||i[Wt],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ys(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Qa(i){return i[sl]||null}var bu=[],ps=-1;function ki(i){return{current:i}}function It(i){0>ps||(i.current=bu[ps],bu[ps]=null,ps--)}function wt(i,a){ps++,bu[ps]=i.current,i.current=a}var bn={},lr=ki(bn),wr=ki(!1),Mi=bn;function ms(i,a){var h=i.type.contextTypes;if(!h)return bn;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in h)y[E]=a[E];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function Ur(i){return i=i.childContextTypes,i!=null}function Ka(){It(wr),It(lr)}function al(i,a,h){if(lr.current!==bn)throw Error(t(168));wt(lr,a),wt(wr,h)}function $h(i,a,h){var f=i.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return h;f=f.getChildContext();for(var y in f)if(!(y in a))throw Error(t(108,_e(i)||"Unknown",y));return N({},h,f)}function Za(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||bn,Mi=lr.current,wt(lr,i),wt(wr,wr.current),!0}function jh(i,a,h){var f=i.stateNode;if(!f)throw Error(t(169));h?(i=$h(i,a,Mi),f.__reactInternalMemoizedMergedChildContext=i,It(wr),It(lr),wt(lr,i)):It(wr),wt(wr,h)}var Tn=null,An=!1,Cn=!1;function Wh(i){Tn===null?Tn=[i]:Tn.push(i)}function ed(i){An=!0,Wh(i)}function Pn(){if(!Cn&&Tn!==null){Cn=!0;var i=0,a=mt;try{var h=Tn;for(mt=1;i<h.length;i++){var f=h[i];do f=f(!0);while(f!==null)}Tn=null,An=!1}catch(y){throw Tn!==null&&(Tn=Tn.slice(i+1)),Ql(Do,Pn),y}finally{mt=a,Cn=!1}}return null}var tr=[],Ja=0,Tu=null,qs=0,Tt=[],Rn=0,Ne=null,Yr=1,hi="";function gs(i,a){tr[Ja++]=qs,tr[Ja++]=Tu,Tu=i,qs=a}function eo(i,a,h){Tt[Rn++]=Yr,Tt[Rn++]=hi,Tt[Rn++]=Ne,Ne=i;var f=Yr;i=hi;var y=32-gr(f)-1;f&=~(1<<y),h+=1;var E=32-gr(a)+y;if(30<E){var k=y-y%5;E=(f&(1<<k)-1).toString(32),f>>=k,y-=k,Yr=1<<32-gr(a)+y|h<<y|f,hi=E+i}else Yr=1<<E|h<<y|f,hi=i}function to(i){i.return!==null&&(gs(i,1),eo(i,1,0))}function ol(i){for(;i===Tu;)Tu=tr[--Ja],tr[Ja]=null,qs=tr[--Ja],tr[Ja]=null;for(;i===Ne;)Ne=Tt[--Rn],Tt[Rn]=null,hi=Tt[--Rn],Tt[Rn]=null,Yr=Tt[--Rn],Tt[Rn]=null}var qr=null,Qr=null,Ft=!1,ln=null;function Au(i,a){var h=mi(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=i,a=i.deletions,a===null?(i.deletions=[h],i.flags|=16):a.push(h)}function Ir(i,a){switch(i.tag){case 5:var h=i.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,qr=i,Qr=Ii(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,qr=i,Qr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=Ne!==null?{id:Yr,overflow:hi}:null,i.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=mi(18,null,null,0),h.stateNode=a,h.return=i,i.child=h,qr=i,Qr=null,!0):!1;default:return!1}}function In(i){return(i.mode&1)!==0&&(i.flags&128)===0}function kn(i){if(Ft){var a=Qr;if(a){var h=a;if(!Ir(i,a)){if(In(i))throw Error(t(418));a=Ii(h.nextSibling);var f=qr;a&&Ir(i,a)?Au(f,h):(i.flags=i.flags&-4097|2,Ft=!1,qr=i)}}else{if(In(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ft=!1,qr=i}}}function Cu(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;qr=i}function ll(i){if(i!==qr)return!1;if(!Ft)return Cu(i),Ft=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Uh(i.type,i.memoizedProps)),a&&(a=Qr)){if(In(i))throw Mn(),Error(t(418));for(;a;)Au(i,a),a=Ii(a.nextSibling)}if(Cu(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(a===0){Qr=Ii(i.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}i=i.nextSibling}Qr=null}}else Qr=qr?Ii(i.stateNode.nextSibling):null;return!0}function Mn(){for(var i=Qr;i;)i=Ii(i.nextSibling)}function Qs(){Qr=qr=null,Ft=!1}function Dn(i){ln===null?ln=[i]:ln.push(i)}var Qf=j.ReactCurrentBatchConfig;function ro(i,a,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var f=h.stateNode}if(!f)throw Error(t(147,i));var y=f,E=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(k){var $=y.refs;k===null?delete $[E]:$[E]=k},a._stringRef=E,a)}if(typeof i!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,i))}return i}function ul(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Vh(i){var a=i._init;return a(i._payload)}function Xh(i){function a(ee,Y){if(i){var ne=ee.deletions;ne===null?(ee.deletions=[Y],ee.flags|=16):ne.push(Y)}}function h(ee,Y){if(!i)return null;for(;Y!==null;)a(ee,Y),Y=Y.sibling;return null}function f(ee,Y){for(ee=new Map;Y!==null;)Y.key!==null?ee.set(Y.key,Y):ee.set(Y.index,Y),Y=Y.sibling;return ee}function y(ee,Y){return ee=fo(ee,Y),ee.index=0,ee.sibling=null,ee}function E(ee,Y,ne){return ee.index=ne,i?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<Y?(ee.flags|=2,Y):ne):(ee.flags|=2,Y)):(ee.flags|=1048576,Y)}function k(ee){return i&&ee.alternate===null&&(ee.flags|=2),ee}function $(ee,Y,ne,Pe){return Y===null||Y.tag!==6?(Y=xp(ne,ee.mode,Pe),Y.return=ee,Y):(Y=y(Y,ne),Y.return=ee,Y)}function W(ee,Y,ne,Pe){var qe=ne.type;return qe===D?xe(ee,Y,ne.props.children,Pe,ne.key):Y!==null&&(Y.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===B&&Vh(qe)===Y.type)?(Pe=y(Y,ne.props),Pe.ref=ro(ee,Y,ne),Pe.return=ee,Pe):(Pe=vd(ne.type,ne.key,ne.props,null,ee.mode,Pe),Pe.ref=ro(ee,Y,ne),Pe.return=ee,Pe)}function ae(ee,Y,ne,Pe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ne.containerInfo||Y.stateNode.implementation!==ne.implementation?(Y=wp(ne,ee.mode,Pe),Y.return=ee,Y):(Y=y(Y,ne.children||[]),Y.return=ee,Y)}function xe(ee,Y,ne,Pe,qe){return Y===null||Y.tag!==7?(Y=Tl(ne,ee.mode,Pe,qe),Y.return=ee,Y):(Y=y(Y,ne),Y.return=ee,Y)}function Ee(ee,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=xp(""+Y,ee.mode,ne),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case U:return ne=vd(Y.type,Y.key,Y.props,null,ee.mode,ne),ne.ref=ro(ee,null,Y),ne.return=ee,ne;case q:return Y=wp(Y,ee.mode,ne),Y.return=ee,Y;case B:var Pe=Y._init;return Ee(ee,Pe(Y._payload),ne)}if(pr(Y)||H(Y))return Y=Tl(Y,ee.mode,ne,null),Y.return=ee,Y;ul(ee,Y)}return null}function ve(ee,Y,ne,Pe){var qe=Y!==null?Y.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return qe!==null?null:$(ee,Y,""+ne,Pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case U:return ne.key===qe?W(ee,Y,ne,Pe):null;case q:return ne.key===qe?ae(ee,Y,ne,Pe):null;case B:return qe=ne._init,ve(ee,Y,qe(ne._payload),Pe)}if(pr(ne)||H(ne))return qe!==null?null:xe(ee,Y,ne,Pe,null);ul(ee,ne)}return null}function Oe(ee,Y,ne,Pe,qe){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return ee=ee.get(ne)||null,$(Y,ee,""+Pe,qe);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case U:return ee=ee.get(Pe.key===null?ne:Pe.key)||null,W(Y,ee,Pe,qe);case q:return ee=ee.get(Pe.key===null?ne:Pe.key)||null,ae(Y,ee,Pe,qe);case B:var Je=Pe._init;return Oe(ee,Y,ne,Je(Pe._payload),qe)}if(pr(Pe)||H(Pe))return ee=ee.get(ne)||null,xe(Y,ee,Pe,qe,null);ul(Y,Pe)}return null}function He(ee,Y,ne,Pe){for(var qe=null,Je=null,et=Y,nt=Y=0,Dr=null;et!==null&&nt<ne.length;nt++){et.index>nt?(Dr=et,et=null):Dr=et.sibling;var St=ve(ee,et,ne[nt],Pe);if(St===null){et===null&&(et=Dr);break}i&&et&&St.alternate===null&&a(ee,et),Y=E(St,Y,nt),Je===null?qe=St:Je.sibling=St,Je=St,et=Dr}if(nt===ne.length)return h(ee,et),Ft&&gs(ee,nt),qe;if(et===null){for(;nt<ne.length;nt++)et=Ee(ee,ne[nt],Pe),et!==null&&(Y=E(et,Y,nt),Je===null?qe=et:Je.sibling=et,Je=et);return Ft&&gs(ee,nt),qe}for(et=f(ee,et);nt<ne.length;nt++)Dr=Oe(et,ee,nt,ne[nt],Pe),Dr!==null&&(i&&Dr.alternate!==null&&et.delete(Dr.key===null?nt:Dr.key),Y=E(Dr,Y,nt),Je===null?qe=Dr:Je.sibling=Dr,Je=Dr);return i&&et.forEach(function(po){return a(ee,po)}),Ft&&gs(ee,nt),qe}function Xe(ee,Y,ne,Pe){var qe=H(ne);if(typeof qe!="function")throw Error(t(150));if(ne=qe.call(ne),ne==null)throw Error(t(151));for(var Je=qe=null,et=Y,nt=Y=0,Dr=null,St=ne.next();et!==null&&!St.done;nt++,St=ne.next()){et.index>nt?(Dr=et,et=null):Dr=et.sibling;var po=ve(ee,et,St.value,Pe);if(po===null){et===null&&(et=Dr);break}i&&et&&po.alternate===null&&a(ee,et),Y=E(po,Y,nt),Je===null?qe=po:Je.sibling=po,Je=po,et=Dr}if(St.done)return h(ee,et),Ft&&gs(ee,nt),qe;if(et===null){for(;!St.done;nt++,St=ne.next())St=Ee(ee,St.value,Pe),St!==null&&(Y=E(St,Y,nt),Je===null?qe=St:Je.sibling=St,Je=St);return Ft&&gs(ee,nt),qe}for(et=f(ee,et);!St.done;nt++,St=ne.next())St=Oe(et,ee,nt,St.value,Pe),St!==null&&(i&&St.alternate!==null&&et.delete(St.key===null?nt:St.key),Y=E(St,Y,nt),Je===null?qe=St:Je.sibling=St,Je=St);return i&&et.forEach(function(j1){return a(ee,j1)}),Ft&&gs(ee,nt),qe}function cr(ee,Y,ne,Pe){if(typeof ne=="object"&&ne!==null&&ne.type===D&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case U:e:{for(var qe=ne.key,Je=Y;Je!==null;){if(Je.key===qe){if(qe=ne.type,qe===D){if(Je.tag===7){h(ee,Je.sibling),Y=y(Je,ne.props.children),Y.return=ee,ee=Y;break e}}else if(Je.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===B&&Vh(qe)===Je.type){h(ee,Je.sibling),Y=y(Je,ne.props),Y.ref=ro(ee,Je,ne),Y.return=ee,ee=Y;break e}h(ee,Je);break}else a(ee,Je);Je=Je.sibling}ne.type===D?(Y=Tl(ne.props.children,ee.mode,Pe,ne.key),Y.return=ee,ee=Y):(Pe=vd(ne.type,ne.key,ne.props,null,ee.mode,Pe),Pe.ref=ro(ee,Y,ne),Pe.return=ee,ee=Pe)}return k(ee);case q:e:{for(Je=ne.key;Y!==null;){if(Y.key===Je)if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){h(ee,Y.sibling),Y=y(Y,ne.children||[]),Y.return=ee,ee=Y;break e}else{h(ee,Y);break}else a(ee,Y);Y=Y.sibling}Y=wp(ne,ee.mode,Pe),Y.return=ee,ee=Y}return k(ee);case B:return Je=ne._init,cr(ee,Y,Je(ne._payload),Pe)}if(pr(ne))return He(ee,Y,ne,Pe);if(H(ne))return Xe(ee,Y,ne,Pe);ul(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Y!==null&&Y.tag===6?(h(ee,Y.sibling),Y=y(Y,ne),Y.return=ee,ee=Y):(h(ee,Y),Y=xp(ne,ee.mode,Pe),Y.return=ee,ee=Y),k(ee)):h(ee,Y)}return cr}var Di=Xh(!0),hl=Xh(!1),Ks=ki(null),Zs=null,Ni=null,Js=null;function cl(){Js=Ni=Zs=null}function dl(i){var a=Ks.current;It(Ks),i._currentValue=a}function fl(i,a,h){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===h)break;i=i.return}}function ea(i,a){Zs=i,Js=Ni=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&a&&(K=!0),i.firstContext=null)}function Kr(i){var a=i._currentValue;if(Js!==i)if(i={context:i,memoizedValue:a,next:null},Ni===null){if(Zs===null)throw Error(t(308));Ni=i,Zs.dependencies={lanes:0,firstContext:i}}else Ni=Ni.next=i;return a}var ta=null;function no(i){ta===null?ta=[i]:ta.push(i)}function Pu(i,a,h,f){var y=a.interleaved;return y===null?(h.next=h,no(a)):(h.next=y.next,y.next=h),a.interleaved=h,bt(i,f)}function bt(i,a){i.lanes|=a;var h=i.alternate;for(h!==null&&(h.lanes|=a),h=i,i=i.return;i!==null;)i.childLanes|=a,h=i.alternate,h!==null&&(h.childLanes|=a),h=i,i=i.return;return h.tag===3?h.stateNode:null}var it=!1;function rr(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qt(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Bt(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function nr(i,a,h){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,_t&2){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,bt(i,h)}return y=f.interleaved,y===null?(a.next=a,no(f)):(a.next=y.next,y.next=a),f.interleaved=a,bt(i,h)}function Oi(i,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var f=a.lanes;f&=i.pendingLanes,h|=f,a.lanes=h,Fo(i,h)}}function ir(i,a){var h=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,h===f)){var y=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var k={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?y=E=k:E=E.next=k,h=h.next}while(h!==null);E===null?y=E=a:E=E.next=a}else y=E=a;h={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:f.shared,effects:f.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=a:i.next=a,h.lastBaseUpdate=a}function ys(i,a,h,f){var y=i.updateQueue;it=!1;var E=y.firstBaseUpdate,k=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var W=$,ae=W.next;W.next=null,k===null?E=ae:k.next=ae,k=W;var xe=i.alternate;xe!==null&&(xe=xe.updateQueue,$=xe.lastBaseUpdate,$!==k&&($===null?xe.firstBaseUpdate=ae:$.next=ae,xe.lastBaseUpdate=W))}if(E!==null){var Ee=y.baseState;k=0,xe=ae=W=null,$=E;do{var ve=$.lane,Oe=$.eventTime;if((f&ve)===ve){xe!==null&&(xe=xe.next={eventTime:Oe,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var He=i,Xe=$;switch(ve=a,Oe=h,Xe.tag){case 1:if(He=Xe.payload,typeof He=="function"){Ee=He.call(Oe,Ee,ve);break e}Ee=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Xe.payload,ve=typeof He=="function"?He.call(Oe,Ee,ve):He,ve==null)break e;Ee=N({},Ee,ve);break e;case 2:it=!0}}$.callback!==null&&$.lane!==0&&(i.flags|=64,ve=y.effects,ve===null?y.effects=[$]:ve.push($))}else Oe={eventTime:Oe,lane:ve,tag:$.tag,payload:$.payload,callback:$.callback,next:null},xe===null?(ae=xe=Oe,W=Ee):xe=xe.next=Oe,k|=ve;if($=$.next,$===null){if($=y.shared.pending,$===null)break;ve=$,$=ve.next,ve.next=null,y.lastBaseUpdate=ve,y.shared.pending=null}}while(!0);if(xe===null&&(W=Ee),y.baseState=W,y.firstBaseUpdate=ae,y.lastBaseUpdate=xe,a=y.shared.interleaved,a!==null){y=a;do k|=y.lane,y=y.next;while(y!==a)}else E===null&&(y.shared.lanes=0);wl|=k,i.lanes=k,i.memoizedState=Ee}}function vs(i,a,h){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var f=i[a],y=f.callback;if(y!==null){if(f.callback=null,f=h,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var _s={},Nn=ki(_s),Fi=ki(_s),Sr=ki(_s);function Bi(i){if(i===_s)throw Error(t(174));return i}function pl(i,a){switch(wt(Sr,a),wt(Fi,i),wt(Nn,_s),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:_a(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=_a(a,i)}It(Nn),wt(Nn,a)}function un(){It(Nn),It(Fi),It(Sr)}function ra(i){Bi(Sr.current);var a=Bi(Nn.current),h=_a(a,i.type);a!==h&&(wt(Fi,i),wt(Nn,h))}function Ru(i){Fi.current===i&&(It(Nn),It(Fi))}var kt=ki(0);function io(i){for(var a=i;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ci=[];function so(){for(var i=0;i<ci.length;i++)ci[i]._workInProgressVersionPrimary=null;ci.length=0}var Qn=j.ReactCurrentDispatcher,ao=j.ReactCurrentBatchConfig,Kn=0,Lt=null,Vt=null,Kt=null,ur=!1,On=!1,kr=0,Zr=0;function Er(){throw Error(t(321))}function ml(i,a){if(a===null)return!1;for(var h=0;h<a.length&&h<i.length;h++)if(!on(i[h],a[h]))return!1;return!0}function gl(i,a,h,f,y,E){if(Kn=E,Lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Qn.current=i===null||i.memoizedState===null?Ou:Zf,i=h(f,y),On){E=0;do{if(On=!1,kr=0,25<=E)throw Error(t(301));E+=1,Kt=Vt=null,a.updateQueue=null,Qn.current=Jf,i=h(f,y)}while(On)}if(Qn.current=xl,a=Vt!==null&&Vt.next!==null,Kn=0,Kt=Vt=Lt=null,ur=!1,a)throw Error(t(300));return i}function di(){var i=kr!==0;return kr=0,i}function Zn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Lt.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function hn(){if(Vt===null){var i=Lt.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var a=Kt===null?Lt.memoizedState:Kt.next;if(a!==null)Kt=a,Vt=i;else{if(i===null)throw Error(t(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Kt===null?Lt.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function na(i,a){return typeof a=="function"?a(i):a}function Li(i){var a=hn(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var f=Vt,y=f.baseQueue,E=h.pending;if(E!==null){if(y!==null){var k=y.next;y.next=E.next,E.next=k}f.baseQueue=y=E,h.pending=null}if(y!==null){E=y.next,f=f.baseState;var $=k=null,W=null,ae=E;do{var xe=ae.lane;if((Kn&xe)===xe)W!==null&&(W=W.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),f=ae.hasEagerState?ae.eagerState:i(f,ae.action);else{var Ee={lane:xe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};W===null?($=W=Ee,k=f):W=W.next=Ee,Lt.lanes|=xe,wl|=xe}ae=ae.next}while(ae!==null&&ae!==E);W===null?k=f:W.next=$,on(f,a.memoizedState)||(K=!0),a.memoizedState=f,a.baseState=k,a.baseQueue=W,h.lastRenderedState=f}if(i=h.interleaved,i!==null){y=i;do E=y.lane,Lt.lanes|=E,wl|=E,y=y.next;while(y!==i)}else y===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Iu(i){var a=hn(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var f=h.dispatch,y=h.pending,E=a.memoizedState;if(y!==null){h.pending=null;var k=y=y.next;do E=i(E,k.action),k=k.next;while(k!==y);on(E,a.memoizedState)||(K=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),h.lastRenderedState=E}return[E,f]}function Yh(){}function ku(i,a){var h=Lt,f=hn(),y=a(),E=!on(f.memoizedState,y);if(E&&(f.memoizedState=y,K=!0),f=f.queue,Jh(rd.bind(null,h,f,i),[i]),f.getSnapshot!==a||E||Kt!==null&&Kt.memoizedState.tag&1){if(h.flags|=2048,Jn(9,td.bind(null,h,f,y,a),void 0,null),Mr===null)throw Error(t(349));Kn&30||yl(h,a,y)}return y}function yl(i,a,h){i.flags|=16384,i={getSnapshot:a,value:h},a=Lt.updateQueue,a===null?(a={lastEffect:null,stores:null},Lt.updateQueue=a,a.stores=[i]):(h=a.stores,h===null?a.stores=[i]:h.push(i))}function td(i,a,h,f){a.value=h,a.getSnapshot=f,qh(a)&&Qh(i)}function rd(i,a,h){return h(function(){qh(a)&&Qh(i)})}function qh(i){var a=i.getSnapshot;i=i.value;try{var h=a();return!on(i,h)}catch{return!0}}function Qh(i){var a=bt(i,1);a!==null&&Hi(a,i,1,-1)}function ia(i){var a=Zn();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:i},a.queue=i,i=i.dispatch=Kf.bind(null,Lt,i),[a.memoizedState,i]}function Jn(i,a,h,f){return i={tag:i,create:a,destroy:h,deps:f,next:null},a=Lt.updateQueue,a===null?(a={lastEffect:null,stores:null},Lt.updateQueue=a,a.lastEffect=i.next=i):(h=a.lastEffect,h===null?a.lastEffect=i.next=i:(f=h.next,h.next=i,i.next=f,a.lastEffect=i)),i}function Kh(){return hn().memoizedState}function At(i,a,h,f){var y=Zn();Lt.flags|=i,y.memoizedState=Jn(1|a,h,void 0,f===void 0?null:f)}function Mu(i,a,h,f){var y=hn();f=f===void 0?null:f;var E=void 0;if(Vt!==null){var k=Vt.memoizedState;if(E=k.destroy,f!==null&&ml(f,k.deps)){y.memoizedState=Jn(a,h,E,f);return}}Lt.flags|=i,y.memoizedState=Jn(1|a,h,E,f)}function Zh(i,a){return At(8390656,8,i,a)}function Jh(i,a){return Mu(2048,8,i,a)}function nd(i,a){return Mu(4,2,i,a)}function ec(i,a){return Mu(4,4,i,a)}function id(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function cn(i,a,h){return h=h!=null?h.concat([i]):null,Mu(4,4,id.bind(null,a,i),h)}function vl(){}function Ui(i,a){var h=hn();a=a===void 0?null:a;var f=h.memoizedState;return f!==null&&a!==null&&ml(a,f[1])?f[0]:(h.memoizedState=[i,a],i)}function _l(i,a){var h=hn();a=a===void 0?null:a;var f=h.memoizedState;return f!==null&&a!==null&&ml(a,f[1])?f[0]:(i=i(),h.memoizedState=[i,a],i)}function xs(i,a,h){return Kn&21?(on(h,a)||(h=_n(),Lt.lanes|=h,wl|=h,i.baseState=!0),a):(i.baseState&&(i.baseState=!1,K=!0),i.memoizedState=h)}function Du(i,a){var h=mt;mt=h!==0&&4>h?h:4,i(!0);var f=ao.transition;ao.transition={};try{i(!1),a()}finally{mt=h,ao.transition=f}}function Nu(){return hn().memoizedState}function tc(i,a,h){var f=ho(i);if(h={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null},rc(i))nc(a,h);else if(h=Pu(i,a,h,f),h!==null){var y=dn();Hi(h,i,f,y),ic(h,a,f)}}function Kf(i,a,h){var f=ho(i),y={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null};if(rc(i))nc(a,y);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var k=a.lastRenderedState,$=E(k,h);if(y.hasEagerState=!0,y.eagerState=$,on($,k)){var W=a.interleaved;W===null?(y.next=y,no(a)):(y.next=W.next,W.next=y),a.interleaved=y;return}}catch{}finally{}h=Pu(i,a,y,f),h!==null&&(y=dn(),Hi(h,i,f,y),ic(h,a,f))}}function rc(i){var a=i.alternate;return i===Lt||a!==null&&a===Lt}function nc(i,a){On=ur=!0;var h=i.pending;h===null?a.next=a:(a.next=h.next,h.next=a),i.pending=a}function ic(i,a,h){if(h&4194240){var f=a.lanes;f&=i.pendingLanes,h|=f,a.lanes=h,Fo(i,h)}}var xl={readContext:Kr,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},Ou={readContext:Kr,useCallback:function(i,a){return Zn().memoizedState=[i,a===void 0?null:a],i},useContext:Kr,useEffect:Zh,useImperativeHandle:function(i,a,h){return h=h!=null?h.concat([i]):null,At(4194308,4,id.bind(null,a,i),h)},useLayoutEffect:function(i,a){return At(4194308,4,i,a)},useInsertionEffect:function(i,a){return At(4,2,i,a)},useMemo:function(i,a){var h=Zn();return a=a===void 0?null:a,i=i(),h.memoizedState=[i,a],i},useReducer:function(i,a,h){var f=Zn();return a=h!==void 0?h(a):a,f.memoizedState=f.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},f.queue=i,i=i.dispatch=tc.bind(null,Lt,i),[f.memoizedState,i]},useRef:function(i){var a=Zn();return i={current:i},a.memoizedState=i},useState:ia,useDebugValue:vl,useDeferredValue:function(i){return Zn().memoizedState=i},useTransition:function(){var i=ia(!1),a=i[0];return i=Du.bind(null,i[1]),Zn().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,h){var f=Lt,y=Zn();if(Ft){if(h===void 0)throw Error(t(407));h=h()}else{if(h=a(),Mr===null)throw Error(t(349));Kn&30||yl(f,a,h)}y.memoizedState=h;var E={value:h,getSnapshot:a};return y.queue=E,Zh(rd.bind(null,f,E,i),[i]),f.flags|=2048,Jn(9,td.bind(null,f,E,h,a),void 0,null),h},useId:function(){var i=Zn(),a=Mr.identifierPrefix;if(Ft){var h=hi,f=Yr;h=(f&~(1<<32-gr(f)-1)).toString(32)+h,a=":"+a+"R"+h,h=kr++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=Zr++,a=":"+a+"r"+h.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},Zf={readContext:Kr,useCallback:Ui,useContext:Kr,useEffect:Jh,useImperativeHandle:cn,useInsertionEffect:nd,useLayoutEffect:ec,useMemo:_l,useReducer:Li,useRef:Kh,useState:function(){return Li(na)},useDebugValue:vl,useDeferredValue:function(i){var a=hn();return xs(a,Vt.memoizedState,i)},useTransition:function(){var i=Li(na)[0],a=hn().memoizedState;return[i,a]},useMutableSource:Yh,useSyncExternalStore:ku,useId:Nu,unstable_isNewReconciler:!1},Jf={readContext:Kr,useCallback:Ui,useContext:Kr,useEffect:Jh,useImperativeHandle:cn,useInsertionEffect:nd,useLayoutEffect:ec,useMemo:_l,useReducer:Iu,useRef:Kh,useState:function(){return Iu(na)},useDebugValue:vl,useDeferredValue:function(i){var a=hn();return Vt===null?a.memoizedState=i:xs(a,Vt.memoizedState,i)},useTransition:function(){var i=Iu(na)[0],a=hn().memoizedState;return[i,a]},useMutableSource:Yh,useSyncExternalStore:ku,useId:Nu,unstable_isNewReconciler:!1};function l(i,a){if(i&&i.defaultProps){a=N({},a),i=i.defaultProps;for(var h in i)a[h]===void 0&&(a[h]=i[h]);return a}return a}function u(i,a,h,f){a=i.memoizedState,h=h(f,a),h=h==null?a:N({},a,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var m={isMounted:function(i){return(i=i._reactInternals)?jn(i)===i:!1},enqueueSetState:function(i,a,h){i=i._reactInternals;var f=dn(),y=ho(i),E=Bt(f,y);E.payload=a,h!=null&&(E.callback=h),a=nr(i,E,y),a!==null&&(Hi(a,i,y,f),Oi(a,i,y))},enqueueReplaceState:function(i,a,h){i=i._reactInternals;var f=dn(),y=ho(i),E=Bt(f,y);E.tag=1,E.payload=a,h!=null&&(E.callback=h),a=nr(i,E,y),a!==null&&(Hi(a,i,y,f),Oi(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var h=dn(),f=ho(i),y=Bt(h,f);y.tag=2,a!=null&&(y.callback=a),a=nr(i,y,f),a!==null&&(Hi(a,i,f,h),Oi(a,i,f))}};function _(i,a,h,f,y,E,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,E,k):a.prototype&&a.prototype.isPureReactComponent?!hs(h,f)||!hs(y,E):!0}function w(i,a,h){var f=!1,y=bn,E=a.contextType;return typeof E=="object"&&E!==null?E=Kr(E):(y=Ur(a)?Mi:lr.current,f=a.contextTypes,E=(f=f!=null)?ms(i,y):bn),a=new a(h,E),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=m,i.stateNode=a,a._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=E),a}function A(i,a,h,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,f),a.state!==i&&m.enqueueReplaceState(a,a.state,null)}function O(i,a,h,f){var y=i.stateNode;y.props=h,y.state=i.memoizedState,y.refs={},rr(i);var E=a.contextType;typeof E=="object"&&E!==null?y.context=Kr(E):(E=Ur(a)?Mi:lr.current,y.context=ms(i,E)),y.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(u(i,a,E,h),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&m.enqueueReplaceState(y,y.state,null),ys(i,h,y,f),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function V(i,a){try{var h="",f=a;do h+=he(f),f=f.return;while(f);var y=h}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:a,stack:y,digest:null}}function te(i,a,h){return{value:i,source:null,stack:h??null,digest:a??null}}function de(i,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var me=typeof WeakMap=="function"?WeakMap:Map;function Ie(i,a,h){h=Bt(-1,h),h.tag=3,h.payload={element:null};var f=a.value;return h.callback=function(){dd||(dd=!0,dp=f),de(i,a)},h}function fe(i,a,h){h=Bt(-1,h),h.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var y=a.value;h.payload=function(){return f(y)},h.callback=function(){de(i,a)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){de(i,a),typeof f!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),h}function Te(i,a,h){var f=i.pingCache;if(f===null){f=i.pingCache=new me;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(h)||(y.add(h),i=D1.bind(null,i,a,h),a.then(i,i))}function Ge(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function at(i,a,h,f,y){return i.mode&1?(i.flags|=65536,i.lanes=y,i):(i===a?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=Bt(-1,1),a.tag=2,nr(h,a,1))),h.lanes|=1),i)}var ge=j.ReactCurrentOwner,K=!1;function oe(i,a,h,f){a.child=i===null?hl(a,null,h,f):Di(a,i.child,h,f)}function we(i,a,h,f,y){h=h.render;var E=a.ref;return ea(a,y),f=gl(i,a,h,f,E,y),h=di(),i!==null&&!K?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,sa(i,a,y)):(Ft&&h&&to(a),a.flags|=1,oe(i,a,f,y),a.child)}function Ke(i,a,h,f,y){if(i===null){var E=h.type;return typeof E=="function"&&!_p(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=E,yt(i,a,E,f,y)):(i=vd(h.type,null,f,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(E=i.child,!(i.lanes&y)){var k=E.memoizedProps;if(h=h.compare,h=h!==null?h:hs,h(k,f)&&i.ref===a.ref)return sa(i,a,y)}return a.flags|=1,i=fo(E,f),i.ref=a.ref,i.return=a,a.child=i}function yt(i,a,h,f,y){if(i!==null){var E=i.memoizedProps;if(hs(E,f)&&i.ref===a.ref)if(K=!1,a.pendingProps=f=E,(i.lanes&y)!==0)i.flags&131072&&(K=!0);else return a.lanes=i.lanes,sa(i,a,y)}return hr(i,a,h,f,y)}function je(i,a,h){var f=a.pendingProps,y=f.children,E=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Bu,ei),ei|=h;else{if(!(h&1073741824))return i=E!==null?E.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,wt(Bu,ei),ei|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=E!==null?E.baseLanes:h,wt(Bu,ei),ei|=f}else E!==null?(f=E.baseLanes|h,a.memoizedState=null):f=h,wt(Bu,ei),ei|=f;return oe(i,a,y,h),a.child}function gt(i,a){var h=a.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function hr(i,a,h,f,y){var E=Ur(h)?Mi:lr.current;return E=ms(a,E),ea(a,y),h=gl(i,a,h,f,E,y),f=di(),i!==null&&!K?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,sa(i,a,y)):(Ft&&f&&to(a),a.flags|=1,oe(i,a,h,y),a.child)}function vt(i,a,h,f,y){if(Ur(h)){var E=!0;Za(a)}else E=!1;if(ea(a,y),a.stateNode===null)od(i,a),w(a,h,f),O(a,h,f,y),f=!0;else if(i===null){var k=a.stateNode,$=a.memoizedProps;k.props=$;var W=k.context,ae=h.contextType;typeof ae=="object"&&ae!==null?ae=Kr(ae):(ae=Ur(h)?Mi:lr.current,ae=ms(a,ae));var xe=h.getDerivedStateFromProps,Ee=typeof xe=="function"||typeof k.getSnapshotBeforeUpdate=="function";Ee||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==f||W!==ae)&&A(a,k,f,ae),it=!1;var ve=a.memoizedState;k.state=ve,ys(a,f,k,y),W=a.memoizedState,$!==f||ve!==W||wr.current||it?(typeof xe=="function"&&(u(a,h,xe,f),W=a.memoizedState),($=it||_(a,h,$,f,ve,W,ae))?(Ee||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=W),k.props=f,k.state=W,k.context=ae,f=$):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{k=a.stateNode,Qt(i,a),$=a.memoizedProps,ae=a.type===a.elementType?$:l(a.type,$),k.props=ae,Ee=a.pendingProps,ve=k.context,W=h.contextType,typeof W=="object"&&W!==null?W=Kr(W):(W=Ur(h)?Mi:lr.current,W=ms(a,W));var Oe=h.getDerivedStateFromProps;(xe=typeof Oe=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==Ee||ve!==W)&&A(a,k,f,W),it=!1,ve=a.memoizedState,k.state=ve,ys(a,f,k,y);var He=a.memoizedState;$!==Ee||ve!==He||wr.current||it?(typeof Oe=="function"&&(u(a,h,Oe,f),He=a.memoizedState),(ae=it||_(a,h,ae,f,ve,He,W)||!1)?(xe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(f,He,W),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(f,He,W)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||$===i.memoizedProps&&ve===i.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===i.memoizedProps&&ve===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=He),k.props=f,k.state=He,k.context=W,f=ae):(typeof k.componentDidUpdate!="function"||$===i.memoizedProps&&ve===i.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===i.memoizedProps&&ve===i.memoizedState||(a.flags|=1024),f=!1)}return fi(i,a,h,f,E,y)}function fi(i,a,h,f,y,E){gt(i,a);var k=(a.flags&128)!==0;if(!f&&!k)return y&&jh(a,h,!1),sa(i,a,E);f=a.stateNode,ge.current=a;var $=k&&typeof h.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,i!==null&&k?(a.child=Di(a,i.child,null,E),a.child=Di(a,null,$,E)):oe(i,a,$,E),a.memoizedState=f.state,y&&jh(a,h,!0),a.child}function sd(i){var a=i.stateNode;a.pendingContext?al(i,a.pendingContext,a.pendingContext!==a.context):a.context&&al(i,a.context,!1),pl(i,a.containerInfo)}function dy(i,a,h,f,y){return Qs(),Dn(y),a.flags|=256,oe(i,a,h,f),a.child}var ep={dehydrated:null,treeContext:null,retryLane:0};function tp(i){return{baseLanes:i,cachePool:null,transitions:null}}function fy(i,a,h){var f=a.pendingProps,y=kt.current,E=!1,k=(a.flags&128)!==0,$;if(($=k)||($=i!==null&&i.memoizedState===null?!1:(y&2)!==0),$?(E=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),wt(kt,y&1),i===null)return kn(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(a.mode&1?i.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(k=f.children,i=f.fallback,E?(f=a.mode,E=a.child,k={mode:"hidden",children:k},!(f&1)&&E!==null?(E.childLanes=0,E.pendingProps=k):E=_d(k,f,0,null),i=Tl(i,f,h,null),E.return=a,i.return=a,E.sibling=i,a.child=E,a.child.memoizedState=tp(h),a.memoizedState=ep,i):rp(a,k));if(y=i.memoizedState,y!==null&&($=y.dehydrated,$!==null))return w1(i,a,k,f,$,y,h);if(E){E=f.fallback,k=a.mode,y=i.child,$=y.sibling;var W={mode:"hidden",children:f.children};return!(k&1)&&a.child!==y?(f=a.child,f.childLanes=0,f.pendingProps=W,a.deletions=null):(f=fo(y,W),f.subtreeFlags=y.subtreeFlags&14680064),$!==null?E=fo($,E):(E=Tl(E,k,h,null),E.flags|=2),E.return=a,f.return=a,f.sibling=E,a.child=f,f=E,E=a.child,k=i.child.memoizedState,k=k===null?tp(h):{baseLanes:k.baseLanes|h,cachePool:null,transitions:k.transitions},E.memoizedState=k,E.childLanes=i.childLanes&~h,a.memoizedState=ep,f}return E=i.child,i=E.sibling,f=fo(E,{mode:"visible",children:f.children}),!(a.mode&1)&&(f.lanes=h),f.return=a,f.sibling=null,i!==null&&(h=a.deletions,h===null?(a.deletions=[i],a.flags|=16):h.push(i)),a.child=f,a.memoizedState=null,f}function rp(i,a){return a=_d({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function ad(i,a,h,f){return f!==null&&Dn(f),Di(a,i.child,null,h),i=rp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function w1(i,a,h,f,y,E,k){if(h)return a.flags&256?(a.flags&=-257,f=te(Error(t(422))),ad(i,a,k,f)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(E=f.fallback,y=a.mode,f=_d({mode:"visible",children:f.children},y,0,null),E=Tl(E,y,k,null),E.flags|=2,f.return=a,E.return=a,f.sibling=E,a.child=f,a.mode&1&&Di(a,i.child,null,k),a.child.memoizedState=tp(k),a.memoizedState=ep,E);if(!(a.mode&1))return ad(i,a,k,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var $=f.dgst;return f=$,E=Error(t(419)),f=te(E,f,void 0),ad(i,a,k,f)}if($=(k&i.childLanes)!==0,K||$){if(f=Mr,f!==null){switch(k&-k){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(f.suspendedLanes|k)?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,bt(i,y),Hi(f,i,y,-1))}return vp(),f=te(Error(t(421))),ad(i,a,k,f)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=N1.bind(null,i),y._reactRetry=a,null):(i=E.treeContext,Qr=Ii(y.nextSibling),qr=a,Ft=!0,ln=null,i!==null&&(Tt[Rn++]=Yr,Tt[Rn++]=hi,Tt[Rn++]=Ne,Yr=i.id,hi=i.overflow,Ne=a),a=rp(a,f.children),a.flags|=4096,a)}function py(i,a,h){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),fl(i.return,a,h)}function np(i,a,h,f,y){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:h,tailMode:y}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=h,E.tailMode=y)}function my(i,a,h){var f=a.pendingProps,y=f.revealOrder,E=f.tail;if(oe(i,a,f.children,h),f=kt.current,f&2)f=f&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&py(i,h,a);else if(i.tag===19)py(i,h,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(wt(kt,f),!(a.mode&1))a.memoizedState=null;else switch(y){case"forwards":for(h=a.child,y=null;h!==null;)i=h.alternate,i!==null&&io(i)===null&&(y=h),h=h.sibling;h=y,h===null?(y=a.child,a.child=null):(y=h.sibling,h.sibling=null),np(a,!1,y,h,E);break;case"backwards":for(h=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&io(i)===null){a.child=y;break}i=y.sibling,y.sibling=h,h=y,y=i}np(a,!0,h,null,E);break;case"together":np(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function od(i,a){!(a.mode&1)&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function sa(i,a,h){if(i!==null&&(a.dependencies=i.dependencies),wl|=a.lanes,!(h&a.childLanes))return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,h=fo(i,i.pendingProps),a.child=h,h.return=a;i.sibling!==null;)i=i.sibling,h=h.sibling=fo(i,i.pendingProps),h.return=a;h.sibling=null}return a.child}function S1(i,a,h){switch(a.tag){case 3:sd(a),Qs();break;case 5:ra(a);break;case 1:Ur(a.type)&&Za(a);break;case 4:pl(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,y=a.memoizedProps.value;wt(Ks,f._currentValue),f._currentValue=y;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(wt(kt,kt.current&1),a.flags|=128,null):h&a.child.childLanes?fy(i,a,h):(wt(kt,kt.current&1),i=sa(i,a,h),i!==null?i.sibling:null);wt(kt,kt.current&1);break;case 19:if(f=(h&a.childLanes)!==0,i.flags&128){if(f)return my(i,a,h);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),wt(kt,kt.current),f)break;return null;case 22:case 23:return a.lanes=0,je(i,a,h)}return sa(i,a,h)}var gy,ip,yy,vy;gy=function(i,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},ip=function(){},yy=function(i,a,h,f){var y=i.memoizedProps;if(y!==f){i=a.stateNode,Bi(Nn.current);var E=null;switch(h){case"input":y=lt(i,y),f=lt(i,f),E=[];break;case"select":y=N({},y,{value:void 0}),f=N({},f,{value:void 0}),E=[];break;case"textarea":y=ii(i,y),f=ii(i,f),E=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=il)}re(h,f);var k;h=null;for(ae in y)if(!f.hasOwnProperty(ae)&&y.hasOwnProperty(ae)&&y[ae]!=null)if(ae==="style"){var $=y[ae];for(k in $)$.hasOwnProperty(k)&&(h||(h={}),h[k]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(s.hasOwnProperty(ae)?E||(E=[]):(E=E||[]).push(ae,null));for(ae in f){var W=f[ae];if($=y!=null?y[ae]:void 0,f.hasOwnProperty(ae)&&W!==$&&(W!=null||$!=null))if(ae==="style")if($){for(k in $)!$.hasOwnProperty(k)||W&&W.hasOwnProperty(k)||(h||(h={}),h[k]="");for(k in W)W.hasOwnProperty(k)&&$[k]!==W[k]&&(h||(h={}),h[k]=W[k])}else h||(E||(E=[]),E.push(ae,h)),h=W;else ae==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,$=$?$.__html:void 0,W!=null&&$!==W&&(E=E||[]).push(ae,W)):ae==="children"?typeof W!="string"&&typeof W!="number"||(E=E||[]).push(ae,""+W):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(s.hasOwnProperty(ae)?(W!=null&&ae==="onScroll"&&Rt("scroll",i),E||$===W||(E=[])):(E=E||[]).push(ae,W))}h&&(E=E||[]).push("style",h);var ae=E;(a.updateQueue=ae)&&(a.flags|=4)}},vy=function(i,a,h,f){h!==f&&(a.flags|=4)};function sc(i,a){if(!Ft)switch(i.tailMode){case"hidden":a=i.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Jr(i){var a=i.alternate!==null&&i.alternate.child===i.child,h=0,f=0;if(a)for(var y=i.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=f,i.childLanes=h,a}function E1(i,a,h){var f=a.pendingProps;switch(ol(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(a),null;case 1:return Ur(a.type)&&Ka(),Jr(a),null;case 3:return f=a.stateNode,un(),It(wr),It(lr),so(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(ll(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,ln!==null&&(mp(ln),ln=null))),ip(i,a),Jr(a),null;case 5:Ru(a);var y=Bi(Sr.current);if(h=a.type,i!==null&&a.stateNode!=null)yy(i,a,h,f,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return Jr(a),null}if(i=Bi(Nn.current),ll(a)){f=a.stateNode,h=a.type;var E=a.memoizedProps;switch(f[qn]=a,f[sl]=E,i=(a.mode&1)!==0,h){case"dialog":Rt("cancel",f),Rt("close",f);break;case"iframe":case"object":case"embed":Rt("load",f);break;case"video":case"audio":for(y=0;y<ds.length;y++)Rt(ds[y],f);break;case"source":Rt("error",f);break;case"img":case"image":case"link":Rt("error",f),Rt("load",f);break;case"details":Rt("toggle",f);break;case"input":$e(f,E),Rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!E.multiple},Rt("invalid",f);break;case"textarea":_i(f,E),Rt("invalid",f)}re(h,E),y=null;for(var k in E)if(E.hasOwnProperty(k)){var $=E[k];k==="children"?typeof $=="string"?f.textContent!==$&&(E.suppressHydrationWarning!==!0&&nl(f.textContent,$,i),y=["children",$]):typeof $=="number"&&f.textContent!==""+$&&(E.suppressHydrationWarning!==!0&&nl(f.textContent,$,i),y=["children",""+$]):s.hasOwnProperty(k)&&$!=null&&k==="onScroll"&&Rt("scroll",f)}switch(h){case"input":ke(f),$t(f,E,!0);break;case"textarea":ke(f),jl(f);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(f.onclick=il)}f=y,a.updateQueue=f,f!==null&&(a.flags|=4)}else{k=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Wl(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=k.createElement(h,{is:f.is}):(i=k.createElement(h),h==="select"&&(k=i,f.multiple?k.multiple=!0:f.size&&(k.size=f.size))):i=k.createElementNS(i,h),i[qn]=a,i[sl]=f,gy(i,a,!1,!1),a.stateNode=i;e:{switch(k=se(h,f),h){case"dialog":Rt("cancel",i),Rt("close",i),y=f;break;case"iframe":case"object":case"embed":Rt("load",i),y=f;break;case"video":case"audio":for(y=0;y<ds.length;y++)Rt(ds[y],i);y=f;break;case"source":Rt("error",i),y=f;break;case"img":case"image":case"link":Rt("error",i),Rt("load",i),y=f;break;case"details":Rt("toggle",i),y=f;break;case"input":$e(i,f),y=lt(i,f),Rt("invalid",i);break;case"option":y=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},y=N({},f,{value:void 0}),Rt("invalid",i);break;case"textarea":_i(i,f),y=ii(i,f),Rt("invalid",i);break;default:y=f}re(h,y),$=y;for(E in $)if($.hasOwnProperty(E)){var W=$[E];E==="style"?wa(i,W):E==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Ji(i,W)):E==="children"?typeof W=="string"?(h!=="textarea"||W!=="")&&xi(i,W):typeof W=="number"&&xi(i,""+W):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?W!=null&&E==="onScroll"&&Rt("scroll",i):W!=null&&F(i,E,W,k))}switch(h){case"input":ke(i),$t(i,f,!1);break;case"textarea":ke(i),jl(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Ae(f.value));break;case"select":i.multiple=!!f.multiple,E=f.value,E!=null?mr(i,!!f.multiple,E,!1):f.defaultValue!=null&&mr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=il)}switch(h){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Jr(a),null;case 6:if(i&&a.stateNode!=null)vy(i,a,i.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(h=Bi(Sr.current),Bi(Nn.current),ll(a)){if(f=a.stateNode,h=a.memoizedProps,f[qn]=a,(E=f.nodeValue!==h)&&(i=qr,i!==null))switch(i.tag){case 3:nl(f.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&nl(f.nodeValue,h,(i.mode&1)!==0)}E&&(a.flags|=4)}else f=(h.nodeType===9?h:h.ownerDocument).createTextNode(f),f[qn]=a,a.stateNode=f}return Jr(a),null;case 13:if(It(kt),f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ft&&Qr!==null&&a.mode&1&&!(a.flags&128))Mn(),Qs(),a.flags|=98560,E=!1;else if(E=ll(a),f!==null&&f.dehydrated!==null){if(i===null){if(!E)throw Error(t(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[qn]=a}else Qs(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Jr(a),E=!1}else ln!==null&&(mp(ln),ln=null),E=!0;if(!E)return a.flags&65536?a:null}return a.flags&128?(a.lanes=h,a):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(a.child.flags|=8192,a.mode&1&&(i===null||kt.current&1?br===0&&(br=3):vp())),a.updateQueue!==null&&(a.flags|=4),Jr(a),null);case 4:return un(),ip(i,a),i===null&&ja(a.stateNode.containerInfo),Jr(a),null;case 10:return dl(a.type._context),Jr(a),null;case 17:return Ur(a.type)&&Ka(),Jr(a),null;case 19:if(It(kt),E=a.memoizedState,E===null)return Jr(a),null;if(f=(a.flags&128)!==0,k=E.rendering,k===null)if(f)sc(E,!1);else{if(br!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(k=io(i),k!==null){for(a.flags|=128,sc(E,!1),f=k.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=h,h=a.child;h!==null;)E=h,i=f,E.flags&=14680066,k=E.alternate,k===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=k.childLanes,E.lanes=k.lanes,E.child=k.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=k.memoizedProps,E.memoizedState=k.memoizedState,E.updateQueue=k.updateQueue,E.type=k.type,i=k.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return wt(kt,kt.current&1|2),a.child}i=i.sibling}E.tail!==null&&qt()>Lu&&(a.flags|=128,f=!0,sc(E,!1),a.lanes=4194304)}else{if(!f)if(i=io(k),i!==null){if(a.flags|=128,f=!0,h=i.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),sc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!k.alternate&&!Ft)return Jr(a),null}else 2*qt()-E.renderingStartTime>Lu&&h!==1073741824&&(a.flags|=128,f=!0,sc(E,!1),a.lanes=4194304);E.isBackwards?(k.sibling=a.child,a.child=k):(h=E.last,h!==null?h.sibling=k:a.child=k,E.last=k)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=qt(),a.sibling=null,h=kt.current,wt(kt,f?h&1|2:h&1),a):(Jr(a),null);case 22:case 23:return yp(),f=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(a.flags|=8192),f&&a.mode&1?ei&1073741824&&(Jr(a),a.subtreeFlags&6&&(a.flags|=8192)):Jr(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function b1(i,a){switch(ol(a),a.tag){case 1:return Ur(a.type)&&Ka(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return un(),It(wr),It(lr),so(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 5:return Ru(a),null;case 13:if(It(kt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Qs()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return It(kt),null;case 4:return un(),null;case 10:return dl(a.type._context),null;case 22:case 23:return yp(),null;case 24:return null;default:return null}}var ld=!1,en=!1,T1=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Fu(i,a){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(f){sr(i,a,f)}else h.current=null}function sp(i,a,h){try{h()}catch(f){sr(i,a,f)}}var _y=!1;function A1(i,a){if(Xa=nn,i=or(),Jt(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var f=h.getSelection&&h.getSelection();if(f&&f.rangeCount!==0){h=f.anchorNode;var y=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var k=0,$=-1,W=-1,ae=0,xe=0,Ee=i,ve=null;t:for(;;){for(var Oe;Ee!==h||y!==0&&Ee.nodeType!==3||($=k+y),Ee!==E||f!==0&&Ee.nodeType!==3||(W=k+f),Ee.nodeType===3&&(k+=Ee.nodeValue.length),(Oe=Ee.firstChild)!==null;)ve=Ee,Ee=Oe;for(;;){if(Ee===i)break t;if(ve===h&&++ae===y&&($=k),ve===E&&++xe===f&&(W=k),(Oe=Ee.nextSibling)!==null)break;Ee=ve,ve=Ee.parentNode}Ee=Oe}h=$===-1||W===-1?null:{start:$,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(Lh={focusedElem:i,selectionRange:h},nn=!1,Le=a;Le!==null;)if(a=Le,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Le=i;else for(;Le!==null;){a=Le;try{var He=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var Xe=He.memoizedProps,cr=He.memoizedState,ee=a.stateNode,Y=ee.getSnapshotBeforeUpdate(a.elementType===a.type?Xe:l(a.type,Xe),cr);ee.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ne=a.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Pe){sr(a,a.return,Pe)}if(i=a.sibling,i!==null){i.return=a.return,Le=i;break}Le=a.return}return He=_y,_y=!1,He}function ac(i,a,h){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&i)===i){var E=y.destroy;y.destroy=void 0,E!==void 0&&sp(a,h,E)}y=y.next}while(y!==f)}}function ud(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&i)===i){var f=h.create;h.destroy=f()}h=h.next}while(h!==a)}}function ap(i){var a=i.ref;if(a!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof a=="function"?a(i):a.current=i}}function xy(i){var a=i.alternate;a!==null&&(i.alternate=null,xy(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[qn],delete a[sl],delete a[Rr],delete a[Zc],delete a[Jc])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function wy(i){return i.tag===5||i.tag===3||i.tag===4}function Sy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||wy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function op(i,a,h){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(i,a):h.insertBefore(i,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(i,h)):(a=h,a.appendChild(i)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=il));else if(f!==4&&(i=i.child,i!==null))for(op(i,a,h),i=i.sibling;i!==null;)op(i,a,h),i=i.sibling}function lp(i,a,h){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?h.insertBefore(i,a):h.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(lp(i,a,h),i=i.sibling;i!==null;)lp(i,a,h),i=i.sibling}var zr=null,zi=!1;function oo(i,a,h){for(h=h.child;h!==null;)Ey(i,a,h),h=h.sibling}function Ey(i,a,h){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Wn,h)}catch{}switch(h.tag){case 5:en||Fu(h,a);case 6:var f=zr,y=zi;zr=null,oo(i,a,h),zr=f,zi=y,zr!==null&&(zi?(i=zr,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):zr.removeChild(h.stateNode));break;case 18:zr!==null&&(zi?(i=zr,h=h.stateNode,i.nodeType===8?Eu(i.parentNode,h):i.nodeType===1&&Eu(i,h),zs(i)):Eu(zr,h.stateNode));break;case 4:f=zr,y=zi,zr=h.stateNode.containerInfo,zi=!0,oo(i,a,h),zr=f,zi=y;break;case 0:case 11:case 14:case 15:if(!en&&(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var E=y,k=E.destroy;E=E.tag,k!==void 0&&(E&2||E&4)&&sp(h,a,k),y=y.next}while(y!==f)}oo(i,a,h);break;case 1:if(!en&&(Fu(h,a),f=h.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch($){sr(h,a,$)}oo(i,a,h);break;case 21:oo(i,a,h);break;case 22:h.mode&1?(en=(f=en)||h.memoizedState!==null,oo(i,a,h),en=f):oo(i,a,h);break;default:oo(i,a,h)}}function by(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new T1),a.forEach(function(f){var y=O1.bind(null,i,f);h.has(f)||(h.add(f),f.then(y,y))})}}function Gi(i,a){var h=a.deletions;if(h!==null)for(var f=0;f<h.length;f++){var y=h[f];try{var E=i,k=a,$=k;e:for(;$!==null;){switch($.tag){case 5:zr=$.stateNode,zi=!1;break e;case 3:zr=$.stateNode.containerInfo,zi=!0;break e;case 4:zr=$.stateNode.containerInfo,zi=!0;break e}$=$.return}if(zr===null)throw Error(t(160));Ey(E,k,y),zr=null,zi=!1;var W=y.alternate;W!==null&&(W.return=null),y.return=null}catch(ae){sr(y,a,ae)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Ty(a,i),a=a.sibling}function Ty(i,a){var h=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Gi(a,i),ws(i),f&4){try{ac(3,i,i.return),ud(3,i)}catch(Xe){sr(i,i.return,Xe)}try{ac(5,i,i.return)}catch(Xe){sr(i,i.return,Xe)}}break;case 1:Gi(a,i),ws(i),f&512&&h!==null&&Fu(h,h.return);break;case 5:if(Gi(a,i),ws(i),f&512&&h!==null&&Fu(h,h.return),i.flags&32){var y=i.stateNode;try{xi(y,"")}catch(Xe){sr(i,i.return,Xe)}}if(f&4&&(y=i.stateNode,y!=null)){var E=i.memoizedProps,k=h!==null?h.memoizedProps:E,$=i.type,W=i.updateQueue;if(i.updateQueue=null,W!==null)try{$==="input"&&E.type==="radio"&&E.name!=null&&Ve(y,E),se($,k);var ae=se($,E);for(k=0;k<W.length;k+=2){var xe=W[k],Ee=W[k+1];xe==="style"?wa(y,Ee):xe==="dangerouslySetInnerHTML"?Ji(y,Ee):xe==="children"?xi(y,Ee):F(y,xe,Ee,ae)}switch($){case"input":Dt(y,E);break;case"textarea":tn(y,E);break;case"select":var ve=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Oe=E.value;Oe!=null?mr(y,!!E.multiple,Oe,!1):ve!==!!E.multiple&&(E.defaultValue!=null?mr(y,!!E.multiple,E.defaultValue,!0):mr(y,!!E.multiple,E.multiple?[]:"",!1))}y[sl]=E}catch(Xe){sr(i,i.return,Xe)}}break;case 6:if(Gi(a,i),ws(i),f&4){if(i.stateNode===null)throw Error(t(162));y=i.stateNode,E=i.memoizedProps;try{y.nodeValue=E}catch(Xe){sr(i,i.return,Xe)}}break;case 3:if(Gi(a,i),ws(i),f&4&&h!==null&&h.memoizedState.isDehydrated)try{zs(a.containerInfo)}catch(Xe){sr(i,i.return,Xe)}break;case 4:Gi(a,i),ws(i);break;case 13:Gi(a,i),ws(i),y=i.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(cp=qt())),f&4&&by(i);break;case 22:if(xe=h!==null&&h.memoizedState!==null,i.mode&1?(en=(ae=en)||xe,Gi(a,i),en=ae):Gi(a,i),ws(i),f&8192){if(ae=i.memoizedState!==null,(i.stateNode.isHidden=ae)&&!xe&&i.mode&1)for(Le=i,xe=i.child;xe!==null;){for(Ee=Le=xe;Le!==null;){switch(ve=Le,Oe=ve.child,ve.tag){case 0:case 11:case 14:case 15:ac(4,ve,ve.return);break;case 1:Fu(ve,ve.return);var He=ve.stateNode;if(typeof He.componentWillUnmount=="function"){f=ve,h=ve.return;try{a=f,He.props=a.memoizedProps,He.state=a.memoizedState,He.componentWillUnmount()}catch(Xe){sr(f,h,Xe)}}break;case 5:Fu(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Py(Ee);continue}}Oe!==null?(Oe.return=ve,Le=Oe):Py(Ee)}xe=xe.sibling}e:for(xe=null,Ee=i;;){if(Ee.tag===5){if(xe===null){xe=Ee;try{y=Ee.stateNode,ae?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):($=Ee.stateNode,W=Ee.memoizedProps.style,k=W!=null&&W.hasOwnProperty("display")?W.display:null,$.style.display=Vl("display",k))}catch(Xe){sr(i,i.return,Xe)}}}else if(Ee.tag===6){if(xe===null)try{Ee.stateNode.nodeValue=ae?"":Ee.memoizedProps}catch(Xe){sr(i,i.return,Xe)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===i)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===i)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===i)break e;xe===Ee&&(xe=null),Ee=Ee.return}xe===Ee&&(xe=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Gi(a,i),ws(i),f&4&&by(i);break;case 21:break;default:Gi(a,i),ws(i)}}function ws(i){var a=i.flags;if(a&2){try{e:{for(var h=i.return;h!==null;){if(wy(h)){var f=h;break e}h=h.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(xi(y,""),f.flags&=-33);var E=Sy(i);lp(i,E,y);break;case 3:case 4:var k=f.stateNode.containerInfo,$=Sy(i);op(i,$,k);break;default:throw Error(t(161))}}catch(W){sr(i,i.return,W)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function C1(i,a,h){Le=i,Ay(i)}function Ay(i,a,h){for(var f=(i.mode&1)!==0;Le!==null;){var y=Le,E=y.child;if(y.tag===22&&f){var k=y.memoizedState!==null||ld;if(!k){var $=y.alternate,W=$!==null&&$.memoizedState!==null||en;$=ld;var ae=en;if(ld=k,(en=W)&&!ae)for(Le=y;Le!==null;)k=Le,W=k.child,k.tag===22&&k.memoizedState!==null?Ry(y):W!==null?(W.return=k,Le=W):Ry(y);for(;E!==null;)Le=E,Ay(E),E=E.sibling;Le=y,ld=$,en=ae}Cy(i)}else y.subtreeFlags&8772&&E!==null?(E.return=y,Le=E):Cy(i)}}function Cy(i){for(;Le!==null;){var a=Le;if(a.flags&8772){var h=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:en||ud(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!en)if(h===null)f.componentDidMount();else{var y=a.elementType===a.type?h.memoizedProps:l(a.type,h.memoizedProps);f.componentDidUpdate(y,h.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&vs(a,E,f);break;case 3:var k=a.updateQueue;if(k!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}vs(a,k,h)}break;case 5:var $=a.stateNode;if(h===null&&a.flags&4){h=$;var W=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&h.focus();break;case"img":W.src&&(h.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ae=a.alternate;if(ae!==null){var xe=ae.memoizedState;if(xe!==null){var Ee=xe.dehydrated;Ee!==null&&zs(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}en||a.flags&512&&ap(a)}catch(ve){sr(a,a.return,ve)}}if(a===i){Le=null;break}if(h=a.sibling,h!==null){h.return=a.return,Le=h;break}Le=a.return}}function Py(i){for(;Le!==null;){var a=Le;if(a===i){Le=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Le=h;break}Le=a.return}}function Ry(i){for(;Le!==null;){var a=Le;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{ud(4,a)}catch(W){sr(a,h,W)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var y=a.return;try{f.componentDidMount()}catch(W){sr(a,y,W)}}var E=a.return;try{ap(a)}catch(W){sr(a,E,W)}break;case 5:var k=a.return;try{ap(a)}catch(W){sr(a,k,W)}}}catch(W){sr(a,a.return,W)}if(a===i){Le=null;break}var $=a.sibling;if($!==null){$.return=a.return,Le=$;break}Le=a.return}}var P1=Math.ceil,hd=j.ReactCurrentDispatcher,up=j.ReactCurrentOwner,pi=j.ReactCurrentBatchConfig,_t=0,Mr=null,yr=null,Gr=0,ei=0,Bu=ki(0),br=0,oc=null,wl=0,cd=0,hp=0,lc=null,Fn=null,cp=0,Lu=1/0,aa=null,dd=!1,dp=null,lo=null,fd=!1,uo=null,pd=0,uc=0,fp=null,md=-1,gd=0;function dn(){return _t&6?qt():md!==-1?md:md=qt()}function ho(i){return i.mode&1?_t&2&&Gr!==0?Gr&-Gr:Qf.transition!==null?(gd===0&&(gd=_n()),gd):(i=mt,i!==0||(i=window.event,i=i===void 0?16:sn(i.type)),i):1}function Hi(i,a,h,f){if(50<uc)throw uc=0,fp=null,Error(t(185));Oo(i,h,f),(!(_t&2)||i!==Mr)&&(i===Mr&&(!(_t&2)&&(cd|=h),br===4&&co(i,Gr)),Bn(i,f),h===1&&_t===0&&!(a.mode&1)&&(Lu=qt()+500,An&&Pn()))}function Bn(i,a){var h=i.callbackNode;Jl(i,a);var f=No(i,i===Mr?Gr:0);if(f===0)h!==null&&ko(h),i.callbackNode=null,i.callbackPriority=0;else if(a=f&-f,i.callbackPriority!==a){if(h!=null&&ko(h),a===1)i.tag===0?ed(ky.bind(null,i)):Wh(ky.bind(null,i)),Gh(function(){!(_t&6)&&Pn()}),h=null;else{switch(Bo(f)){case 1:h=Do;break;case 4:h=Kl;break;case 16:h=Zl;break;case 536870912:h=Bs;break;default:h=Zl}h=Uy(h,Iy.bind(null,i))}i.callbackPriority=a,i.callbackNode=h}}function Iy(i,a){if(md=-1,gd=0,_t&6)throw Error(t(327));var h=i.callbackNode;if(Uu()&&i.callbackNode!==h)return null;var f=No(i,i===Mr?Gr:0);if(f===0)return null;if(f&30||f&i.expiredLanes||a)a=yd(i,f);else{a=f;var y=_t;_t|=2;var E=Dy();(Mr!==i||Gr!==a)&&(aa=null,Lu=qt()+500,El(i,a));do try{k1();break}catch($){My(i,$)}while(!0);cl(),hd.current=E,_t=y,yr!==null?a=0:(Mr=null,Gr=0,a=br)}if(a!==0){if(a===2&&(y=eu(i),y!==0&&(f=y,a=pp(i,y))),a===1)throw h=oc,El(i,0),co(i,f),Bn(i,qt()),h;if(a===6)co(i,f);else{if(y=i.current.alternate,!(f&30)&&!R1(y)&&(a=yd(i,f),a===2&&(E=eu(i),E!==0&&(f=E,a=pp(i,E))),a===1))throw h=oc,El(i,0),co(i,f),Bn(i,qt()),h;switch(i.finishedWork=y,i.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:bl(i,Fn,aa);break;case 3:if(co(i,f),(f&130023424)===f&&(a=cp+500-qt(),10<a)){if(No(i,0)!==0)break;if(y=i.suspendedLanes,(y&f)!==f){dn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=zh(bl.bind(null,i,Fn,aa),a);break}bl(i,Fn,aa);break;case 4:if(co(i,f),(f&4194240)===f)break;for(a=i.eventTimes,y=-1;0<f;){var k=31-gr(f);E=1<<k,k=a[k],k>y&&(y=k),f&=~E}if(f=y,f=qt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*P1(f/1960))-f,10<f){i.timeoutHandle=zh(bl.bind(null,i,Fn,aa),f);break}bl(i,Fn,aa);break;case 5:bl(i,Fn,aa);break;default:throw Error(t(329))}}}return Bn(i,qt()),i.callbackNode===h?Iy.bind(null,i):null}function pp(i,a){var h=lc;return i.current.memoizedState.isDehydrated&&(El(i,a).flags|=256),i=yd(i,a),i!==2&&(a=Fn,Fn=h,a!==null&&mp(a)),i}function mp(i){Fn===null?Fn=i:Fn.push.apply(Fn,i)}function R1(i){for(var a=i;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var f=0;f<h.length;f++){var y=h[f],E=y.getSnapshot;y=y.value;try{if(!on(E(),y))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function co(i,a){for(a&=~hp,a&=~cd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var h=31-gr(a),f=1<<h;i[h]=-1,a&=~f}}function ky(i){if(_t&6)throw Error(t(327));Uu();var a=No(i,0);if(!(a&1))return Bn(i,qt()),null;var h=yd(i,a);if(i.tag!==0&&h===2){var f=eu(i);f!==0&&(a=f,h=pp(i,f))}if(h===1)throw h=oc,El(i,0),co(i,a),Bn(i,qt()),h;if(h===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,bl(i,Fn,aa),Bn(i,qt()),null}function gp(i,a){var h=_t;_t|=1;try{return i(a)}finally{_t=h,_t===0&&(Lu=qt()+500,An&&Pn())}}function Sl(i){uo!==null&&uo.tag===0&&!(_t&6)&&Uu();var a=_t;_t|=1;var h=pi.transition,f=mt;try{if(pi.transition=null,mt=1,i)return i()}finally{mt=f,pi.transition=h,_t=a,!(_t&6)&&Pn()}}function yp(){ei=Bu.current,It(Bu)}function El(i,a){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,Ya(h)),yr!==null)for(h=yr.return;h!==null;){var f=h;switch(ol(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ka();break;case 3:un(),It(wr),It(lr),so();break;case 5:Ru(f);break;case 4:un();break;case 13:It(kt);break;case 19:It(kt);break;case 10:dl(f.type._context);break;case 22:case 23:yp()}h=h.return}if(Mr=i,yr=i=fo(i.current,null),Gr=ei=a,br=0,oc=null,hp=cd=wl=0,Fn=lc=null,ta!==null){for(a=0;a<ta.length;a++)if(h=ta[a],f=h.interleaved,f!==null){h.interleaved=null;var y=f.next,E=h.pending;if(E!==null){var k=E.next;E.next=y,f.next=k}h.pending=f}ta=null}return i}function My(i,a){do{var h=yr;try{if(cl(),Qn.current=xl,ur){for(var f=Lt.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}ur=!1}if(Kn=0,Kt=Vt=Lt=null,On=!1,kr=0,up.current=null,h===null||h.return===null){br=1,oc=a,yr=null;break}e:{var E=i,k=h.return,$=h,W=a;if(a=Gr,$.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ae=W,xe=$,Ee=xe.tag;if(!(xe.mode&1)&&(Ee===0||Ee===11||Ee===15)){var ve=xe.alternate;ve?(xe.updateQueue=ve.updateQueue,xe.memoizedState=ve.memoizedState,xe.lanes=ve.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Oe=Ge(k);if(Oe!==null){Oe.flags&=-257,at(Oe,k,$,E,a),Oe.mode&1&&Te(E,ae,a),a=Oe,W=ae;var He=a.updateQueue;if(He===null){var Xe=new Set;Xe.add(W),a.updateQueue=Xe}else He.add(W);break e}else{if(!(a&1)){Te(E,ae,a),vp();break e}W=Error(t(426))}}else if(Ft&&$.mode&1){var cr=Ge(k);if(cr!==null){!(cr.flags&65536)&&(cr.flags|=256),at(cr,k,$,E,a),Dn(V(W,$));break e}}E=W=V(W,$),br!==4&&(br=2),lc===null?lc=[E]:lc.push(E),E=k;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var ee=Ie(E,W,a);ir(E,ee);break e;case 1:$=W;var Y=E.type,ne=E.stateNode;if(!(E.flags&128)&&(typeof Y.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(lo===null||!lo.has(ne)))){E.flags|=65536,a&=-a,E.lanes|=a;var Pe=fe(E,$,a);ir(E,Pe);break e}}E=E.return}while(E!==null)}Oy(h)}catch(qe){a=qe,yr===h&&h!==null&&(yr=h=h.return);continue}break}while(!0)}function Dy(){var i=hd.current;return hd.current=xl,i===null?xl:i}function vp(){(br===0||br===3||br===2)&&(br=4),Mr===null||!(wl&268435455)&&!(cd&268435455)||co(Mr,Gr)}function yd(i,a){var h=_t;_t|=2;var f=Dy();(Mr!==i||Gr!==a)&&(aa=null,El(i,a));do try{I1();break}catch(y){My(i,y)}while(!0);if(cl(),_t=h,hd.current=f,yr!==null)throw Error(t(261));return Mr=null,Gr=0,br}function I1(){for(;yr!==null;)Ny(yr)}function k1(){for(;yr!==null&&!Hf();)Ny(yr)}function Ny(i){var a=Ly(i.alternate,i,ei);i.memoizedProps=i.pendingProps,a===null?Oy(i):yr=a,up.current=null}function Oy(i){var a=i;do{var h=a.alternate;if(i=a.return,a.flags&32768){if(h=b1(h,a),h!==null){h.flags&=32767,yr=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{br=6,yr=null;return}}else if(h=E1(h,a,ei),h!==null){yr=h;return}if(a=a.sibling,a!==null){yr=a;return}yr=a=i}while(a!==null);br===0&&(br=5)}function bl(i,a,h){var f=mt,y=pi.transition;try{pi.transition=null,mt=1,M1(i,a,h,f)}finally{pi.transition=y,mt=f}return null}function M1(i,a,h,f){do Uu();while(uo!==null);if(_t&6)throw Error(t(327));h=i.finishedWork;var y=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var E=h.lanes|h.childLanes;if(mh(i,E),i===Mr&&(yr=Mr=null,Gr=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||fd||(fd=!0,Uy(Zl,function(){return Uu(),null})),E=(h.flags&15990)!==0,h.subtreeFlags&15990||E){E=pi.transition,pi.transition=null;var k=mt;mt=1;var $=_t;_t|=4,up.current=null,A1(i,h),Ty(h,i),du(Lh),nn=!!Xa,Lh=Xa=null,i.current=h,C1(h),$f(),_t=$,mt=k,pi.transition=E}else i.current=h;if(fd&&(fd=!1,uo=i,pd=y),E=i.pendingLanes,E===0&&(lo=null),Ct(h.stateNode),Bn(i,qt()),a!==null)for(f=i.onRecoverableError,h=0;h<a.length;h++)y=a[h],f(y.value,{componentStack:y.stack,digest:y.digest});if(dd)throw dd=!1,i=dp,dp=null,i;return pd&1&&i.tag!==0&&Uu(),E=i.pendingLanes,E&1?i===fp?uc++:(uc=0,fp=i):uc=0,Pn(),null}function Uu(){if(uo!==null){var i=Bo(pd),a=pi.transition,h=mt;try{if(pi.transition=null,mt=16>i?16:i,uo===null)var f=!1;else{if(i=uo,uo=null,pd=0,_t&6)throw Error(t(331));var y=_t;for(_t|=4,Le=i.current;Le!==null;){var E=Le,k=E.child;if(Le.flags&16){var $=E.deletions;if($!==null){for(var W=0;W<$.length;W++){var ae=$[W];for(Le=ae;Le!==null;){var xe=Le;switch(xe.tag){case 0:case 11:case 15:ac(8,xe,E)}var Ee=xe.child;if(Ee!==null)Ee.return=xe,Le=Ee;else for(;Le!==null;){xe=Le;var ve=xe.sibling,Oe=xe.return;if(xy(xe),xe===ae){Le=null;break}if(ve!==null){ve.return=Oe,Le=ve;break}Le=Oe}}}var He=E.alternate;if(He!==null){var Xe=He.child;if(Xe!==null){He.child=null;do{var cr=Xe.sibling;Xe.sibling=null,Xe=cr}while(Xe!==null)}}Le=E}}if(E.subtreeFlags&2064&&k!==null)k.return=E,Le=k;else e:for(;Le!==null;){if(E=Le,E.flags&2048)switch(E.tag){case 0:case 11:case 15:ac(9,E,E.return)}var ee=E.sibling;if(ee!==null){ee.return=E.return,Le=ee;break e}Le=E.return}}var Y=i.current;for(Le=Y;Le!==null;){k=Le;var ne=k.child;if(k.subtreeFlags&2064&&ne!==null)ne.return=k,Le=ne;else e:for(k=Y;Le!==null;){if($=Le,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:ud(9,$)}}catch(qe){sr($,$.return,qe)}if($===k){Le=null;break e}var Pe=$.sibling;if(Pe!==null){Pe.return=$.return,Le=Pe;break e}Le=$.return}}if(_t=y,Pn(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Wn,i)}catch{}f=!0}return f}finally{mt=h,pi.transition=a}}return!1}function Fy(i,a,h){a=V(h,a),a=Ie(i,a,1),i=nr(i,a,1),a=dn(),i!==null&&(Oo(i,1,a),Bn(i,a))}function sr(i,a,h){if(i.tag===3)Fy(i,i,h);else for(;a!==null;){if(a.tag===3){Fy(a,i,h);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(lo===null||!lo.has(f))){i=V(h,i),i=fe(a,i,1),a=nr(a,i,1),i=dn(),a!==null&&(Oo(a,1,i),Bn(a,i));break}}a=a.return}}function D1(i,a,h){var f=i.pingCache;f!==null&&f.delete(a),a=dn(),i.pingedLanes|=i.suspendedLanes&h,Mr===i&&(Gr&h)===h&&(br===4||br===3&&(Gr&130023424)===Gr&&500>qt()-cp?El(i,0):hp|=h),Bn(i,a)}function By(i,a){a===0&&(i.mode&1?(a=Pr,Pr<<=1,!(Pr&130023424)&&(Pr=4194304)):a=1);var h=dn();i=bt(i,a),i!==null&&(Oo(i,a,h),Bn(i,h))}function N1(i){var a=i.memoizedState,h=0;a!==null&&(h=a.retryLane),By(i,h)}function O1(i,a){var h=0;switch(i.tag){case 13:var f=i.stateNode,y=i.memoizedState;y!==null&&(h=y.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),By(i,h)}var Ly;Ly=function(i,a,h){if(i!==null)if(i.memoizedProps!==a.pendingProps||wr.current)K=!0;else{if(!(i.lanes&h)&&!(a.flags&128))return K=!1,S1(i,a,h);K=!!(i.flags&131072)}else K=!1,Ft&&a.flags&1048576&&eo(a,qs,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;od(i,a),i=a.pendingProps;var y=ms(a,lr.current);ea(a,h),y=gl(null,a,f,i,y,h);var E=di();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ur(f)?(E=!0,Za(a)):E=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,rr(a),y.updater=m,a.stateNode=y,y._reactInternals=a,O(a,f,i,h),a=fi(null,a,f,!0,E,h)):(a.tag=0,Ft&&E&&to(a),oe(null,a,y,h),a=a.child),a;case 16:f=a.elementType;e:{switch(od(i,a),i=a.pendingProps,y=f._init,f=y(f._payload),a.type=f,y=a.tag=B1(f),i=l(f,i),y){case 0:a=hr(null,a,f,i,h);break e;case 1:a=vt(null,a,f,i,h);break e;case 11:a=we(null,a,f,i,h);break e;case 14:a=Ke(null,a,f,l(f.type,i),h);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:l(f,y),hr(i,a,f,y,h);case 1:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:l(f,y),vt(i,a,f,y,h);case 3:e:{if(sd(a),i===null)throw Error(t(387));f=a.pendingProps,E=a.memoizedState,y=E.element,Qt(i,a),ys(a,f,null,h);var k=a.memoizedState;if(f=k.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){y=V(Error(t(423)),a),a=dy(i,a,f,h,y);break e}else if(f!==y){y=V(Error(t(424)),a),a=dy(i,a,f,h,y);break e}else for(Qr=Ii(a.stateNode.containerInfo.firstChild),qr=a,Ft=!0,ln=null,h=hl(a,null,f,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Qs(),f===y){a=sa(i,a,h);break e}oe(i,a,f,h)}a=a.child}return a;case 5:return ra(a),i===null&&kn(a),f=a.type,y=a.pendingProps,E=i!==null?i.memoizedProps:null,k=y.children,Uh(f,y)?k=null:E!==null&&Uh(f,E)&&(a.flags|=32),gt(i,a),oe(i,a,k,h),a.child;case 6:return i===null&&kn(a),null;case 13:return fy(i,a,h);case 4:return pl(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=Di(a,null,f,h):oe(i,a,f,h),a.child;case 11:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:l(f,y),we(i,a,f,y,h);case 7:return oe(i,a,a.pendingProps,h),a.child;case 8:return oe(i,a,a.pendingProps.children,h),a.child;case 12:return oe(i,a,a.pendingProps.children,h),a.child;case 10:e:{if(f=a.type._context,y=a.pendingProps,E=a.memoizedProps,k=y.value,wt(Ks,f._currentValue),f._currentValue=k,E!==null)if(on(E.value,k)){if(E.children===y.children&&!wr.current){a=sa(i,a,h);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var $=E.dependencies;if($!==null){k=E.child;for(var W=$.firstContext;W!==null;){if(W.context===f){if(E.tag===1){W=Bt(-1,h&-h),W.tag=2;var ae=E.updateQueue;if(ae!==null){ae=ae.shared;var xe=ae.pending;xe===null?W.next=W:(W.next=xe.next,xe.next=W),ae.pending=W}}E.lanes|=h,W=E.alternate,W!==null&&(W.lanes|=h),fl(E.return,h,a),$.lanes|=h;break}W=W.next}}else if(E.tag===10)k=E.type===a.type?null:E.child;else if(E.tag===18){if(k=E.return,k===null)throw Error(t(341));k.lanes|=h,$=k.alternate,$!==null&&($.lanes|=h),fl(k,h,a),k=E.sibling}else k=E.child;if(k!==null)k.return=E;else for(k=E;k!==null;){if(k===a){k=null;break}if(E=k.sibling,E!==null){E.return=k.return,k=E;break}k=k.return}E=k}oe(i,a,y.children,h),a=a.child}return a;case 9:return y=a.type,f=a.pendingProps.children,ea(a,h),y=Kr(y),f=f(y),a.flags|=1,oe(i,a,f,h),a.child;case 14:return f=a.type,y=l(f,a.pendingProps),y=l(f.type,y),Ke(i,a,f,y,h);case 15:return yt(i,a,a.type,a.pendingProps,h);case 17:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:l(f,y),od(i,a),a.tag=1,Ur(f)?(i=!0,Za(a)):i=!1,ea(a,h),w(a,f,y),O(a,f,y,h),fi(null,a,f,!0,i,h);case 19:return my(i,a,h);case 22:return je(i,a,h)}throw Error(t(156,a.tag))};function Uy(i,a){return Ql(i,a)}function F1(i,a,h,f){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(i,a,h,f){return new F1(i,a,h,f)}function _p(i){return i=i.prototype,!(!i||!i.isReactComponent)}function B1(i){if(typeof i=="function")return _p(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Q)return 11;if(i===be)return 14}return 2}function fo(i,a){var h=i.alternate;return h===null?(h=mi(i.tag,a,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=a,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,a=i.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function vd(i,a,h,f,y,E){var k=2;if(f=i,typeof i=="function")_p(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case D:return Tl(h.children,y,E,a);case Z:k=8,y|=8;break;case ue:return i=mi(12,h,a,y|2),i.elementType=ue,i.lanes=E,i;case J:return i=mi(13,h,a,y),i.elementType=J,i.lanes=E,i;case le:return i=mi(19,h,a,y),i.elementType=le,i.lanes=E,i;case G:return _d(h,y,E,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ce:k=10;break e;case Se:k=9;break e;case Q:k=11;break e;case be:k=14;break e;case B:k=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=mi(k,h,a,y),a.elementType=i,a.type=f,a.lanes=E,a}function Tl(i,a,h,f){return i=mi(7,i,f,a),i.lanes=h,i}function _d(i,a,h,f){return i=mi(22,i,f,a),i.elementType=G,i.lanes=h,i.stateNode={isHidden:!1},i}function xp(i,a,h){return i=mi(6,i,null,a),i.lanes=h,i}function wp(i,a,h){return a=mi(4,i.children!==null?i.children:[],i.key,a),a.lanes=h,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function L1(i,a,h,f,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ph(0),this.expirationTimes=ph(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ph(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Sp(i,a,h,f,y,E,k,$,W){return i=new L1(i,a,h,$,W),a===1?(a=1,E===!0&&(a|=8)):a=0,E=mi(3,null,null,a),i.current=E,E.stateNode=i,E.memoizedState={element:f,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},rr(E),i}function U1(i,a,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:f==null?null:""+f,children:i,containerInfo:a,implementation:h}}function zy(i){if(!i)return bn;i=i._reactInternals;e:{if(jn(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ur(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var h=i.type;if(Ur(h))return $h(i,h,a)}return a}function Gy(i,a,h,f,y,E,k,$,W){return i=Sp(h,f,!0,i,y,E,k,$,W),i.context=zy(null),h=i.current,f=dn(),y=ho(h),E=Bt(f,y),E.callback=a??null,nr(h,E,y),i.current.lanes=y,Oo(i,y,f),Bn(i,f),i}function xd(i,a,h,f){var y=a.current,E=dn(),k=ho(y);return h=zy(h),a.context===null?a.context=h:a.pendingContext=h,a=Bt(E,k),a.payload={element:i},f=f===void 0?null:f,f!==null&&(a.callback=f),i=nr(y,a,k),i!==null&&(Hi(i,y,k,E),Oi(i,y,k)),k}function wd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Hy(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<a?h:a}}function Ep(i,a){Hy(i,a),(i=i.alternate)&&Hy(i,a)}function z1(){return null}var $y=typeof reportError=="function"?reportError:function(i){console.error(i)};function bp(i){this._internalRoot=i}Sd.prototype.render=bp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));xd(i,a,null,null)},Sd.prototype.unmount=bp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Sl(function(){xd(null,i,null,null)}),a[Wt]=null}};function Sd(i){this._internalRoot=i}Sd.prototype.unstable_scheduleHydration=function(i){if(i){var a=tu();i={blockedOn:null,target:i,priority:a};for(var h=0;h<Nt.length&&a!==0&&a<Nt[h].priority;h++);Nt.splice(h,0,i),h===0&&Ho(i)}};function Tp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ed(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function jy(){}function G1(i,a,h,f,y){if(y){if(typeof f=="function"){var E=f;f=function(){var ae=wd(k);E.call(ae)}}var k=Gy(a,f,i,0,null,!1,!1,"",jy);return i._reactRootContainer=k,i[Wt]=k.current,ja(i.nodeType===8?i.parentNode:i),Sl(),k}for(;y=i.lastChild;)i.removeChild(y);if(typeof f=="function"){var $=f;f=function(){var ae=wd(W);$.call(ae)}}var W=Sp(i,0,!1,null,null,!1,!1,"",jy);return i._reactRootContainer=W,i[Wt]=W.current,ja(i.nodeType===8?i.parentNode:i),Sl(function(){xd(a,W,h,f)}),W}function bd(i,a,h,f,y){var E=h._reactRootContainer;if(E){var k=E;if(typeof y=="function"){var $=y;y=function(){var W=wd(k);$.call(W)}}xd(a,k,i,y)}else k=G1(h,a,i,y,f);return wd(k)}Gc=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var h=Us(a.pendingLanes);h!==0&&(Fo(a,h|1),Bn(a,qt()),!(_t&6)&&(Lu=qt()+500,Pn()))}break;case 13:Sl(function(){var f=bt(i,1);if(f!==null){var y=dn();Hi(f,i,1,y)}}),Ep(i,1)}},Lo=function(i){if(i.tag===13){var a=bt(i,134217728);if(a!==null){var h=dn();Hi(a,i,134217728,h)}Ep(i,134217728)}},gh=function(i){if(i.tag===13){var a=ho(i),h=bt(i,a);if(h!==null){var f=dn();Hi(h,i,a,f)}Ep(i,a)}},tu=function(){return mt},Ca=function(i,a){var h=mt;try{return mt=i,a()}finally{mt=h}},Et=function(i,a,h){switch(a){case"input":if(Dt(i,h),a=h.name,h.type==="radio"&&a!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var f=h[a];if(f!==i&&f.form===i.form){var y=Qa(f);if(!y)throw Error(t(90));Ue(f),Dt(f,y)}}}break;case"textarea":tn(i,h);break;case"select":a=h.value,a!=null&&mr(i,!!h.multiple,a,!1)}},Ea=gp,Hn=Sl;var H1={usingClientEntryPoint:!1,Events:[qa,Ys,Qa,_r,yn,gp]},hc={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$1={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Si(i),i===null?null:i.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||z1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{Wn=Td.inject($1),pt=Td}catch{}}return Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H1,Ln.createPortal=function(i,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tp(a))throw Error(t(200));return U1(i,a,null,h)},Ln.createRoot=function(i,a){if(!Tp(i))throw Error(t(299));var h=!1,f="",y=$y;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Sp(i,1,!1,null,null,h,!1,f,y),i[Wt]=a.current,ja(i.nodeType===8?i.parentNode:i),new bp(a)},Ln.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Si(a),i=i===null?null:i.stateNode,i},Ln.flushSync=function(i){return Sl(i)},Ln.hydrate=function(i,a,h){if(!Ed(a))throw Error(t(200));return bd(null,i,a,!0,h)},Ln.hydrateRoot=function(i,a,h){if(!Tp(i))throw Error(t(405));var f=h!=null&&h.hydratedSources||null,y=!1,E="",k=$y;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(k=h.onRecoverableError)),a=Gy(a,null,i,1,h??null,y,!1,E,k),i[Wt]=a.current,ja(i),f)for(i=0;i<f.length;i++)h=f[i],y=h._getVersion,y=y(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,y]:a.mutableSourceEagerHydrationData.push(h,y);return new Sd(a)},Ln.render=function(i,a,h){if(!Ed(a))throw Error(t(200));return bd(null,i,a,!1,h)},Ln.unmountComponentAtNode=function(i){if(!Ed(i))throw Error(t(40));return i._reactRootContainer?(Sl(function(){bd(null,null,i,!1,function(){i._reactRootContainer=null,i[Wt]=null})}),!0):!1},Ln.unstable_batchedUpdates=gp,Ln.unstable_renderSubtreeIntoContainer=function(i,a,h,f){if(!Ed(h))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return bd(i,a,h,!1,f)},Ln.version="18.3.1-next-f1338f8080-20240426",Ln}var Zy;function Z1(){if(Zy)return Pp.exports;Zy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pp.exports=K1(),Pp.exports}var Jy;function J1(){if(Jy)return Ad;Jy=1;var n=Z1();return Ad.createRoot=n.createRoot,Ad.hydrateRoot=n.hydrateRoot,Ad}var ew=J1(),Mt="colors",fn="sizes",ze="space",tw={gap:ze,gridGap:ze,columnGap:ze,gridColumnGap:ze,rowGap:ze,gridRowGap:ze,inset:ze,insetBlock:ze,insetBlockEnd:ze,insetBlockStart:ze,insetInline:ze,insetInlineEnd:ze,insetInlineStart:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,marginBlock:ze,marginBlockEnd:ze,marginBlockStart:ze,marginInline:ze,marginInlineEnd:ze,marginInlineStart:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,paddingBlock:ze,paddingBlockEnd:ze,paddingBlockStart:ze,paddingInline:ze,paddingInlineEnd:ze,paddingInlineStart:ze,top:ze,right:ze,bottom:ze,left:ze,scrollMargin:ze,scrollMarginTop:ze,scrollMarginRight:ze,scrollMarginBottom:ze,scrollMarginLeft:ze,scrollMarginX:ze,scrollMarginY:ze,scrollMarginBlock:ze,scrollMarginBlockEnd:ze,scrollMarginBlockStart:ze,scrollMarginInline:ze,scrollMarginInlineEnd:ze,scrollMarginInlineStart:ze,scrollPadding:ze,scrollPaddingTop:ze,scrollPaddingRight:ze,scrollPaddingBottom:ze,scrollPaddingLeft:ze,scrollPaddingX:ze,scrollPaddingY:ze,scrollPaddingBlock:ze,scrollPaddingBlockEnd:ze,scrollPaddingBlockStart:ze,scrollPaddingInline:ze,scrollPaddingInlineEnd:ze,scrollPaddingInlineStart:ze,fontSize:"fontSizes",background:Mt,backgroundColor:Mt,backgroundImage:Mt,borderImage:Mt,border:Mt,borderBlock:Mt,borderBlockEnd:Mt,borderBlockStart:Mt,borderBottom:Mt,borderBottomColor:Mt,borderColor:Mt,borderInline:Mt,borderInlineEnd:Mt,borderInlineStart:Mt,borderLeft:Mt,borderLeftColor:Mt,borderRight:Mt,borderRightColor:Mt,borderTop:Mt,borderTopColor:Mt,caretColor:Mt,color:Mt,columnRuleColor:Mt,fill:Mt,outline:Mt,outlineColor:Mt,stroke:Mt,textDecorationColor:Mt,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:fn,minBlockSize:fn,maxBlockSize:fn,inlineSize:fn,minInlineSize:fn,maxInlineSize:fn,width:fn,minWidth:fn,maxWidth:fn,height:fn,minHeight:fn,maxHeight:fn,flexBasis:fn,gridTemplateColumns:fn,gridTemplateRows:fn,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},rw=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,uh=()=>{const n=Object.create(null);return(e,t,...r)=>{const s=(o=>JSON.stringify(o,rw))(e);return s in n?n[s]:n[s]=t(e,...r)}},Bl=Symbol.for("sxs.internal"),Zg=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),ev=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:nw}=Object.prototype,sg=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),iw=/\s+(?![^()]*\))/,zu=n=>e=>n(...typeof e=="string"?String(e).split(iw):[e]),tv={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:zu((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:zu((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:zu((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:zu((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:zu((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:zu((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},kp=/([\d.]+)([^]*)/,sw=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(s=>s.includes("&")?s.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(s)?`:is(${r})`:r):r+" "+s)),t),[]):e,aw=(n,e)=>n in ow&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,s,o)=>r+(s==="stretch"?`-moz-available${o};${sg(n)}:${r}-webkit-fill-available`:`-moz-fit-content${o};${sg(n)}:${r}fit-content`)+o):String(e),ow={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},pa=n=>n?n+"-":"",k_=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,s,o,c,d)=>c=="$"==!!o?r:(s||c=="--"?"calc(":"")+"var(--"+(c==="$"?pa(e)+(d.includes("$")?"":pa(t))+d.replace(/\$/g,"-"):d)+")"+(s||c=="--"?"*"+(s||"")+(o||"1")+")":"")),lw=/\s*,\s*(?![^()]*\))/,uw=Object.prototype.toString,Zu=(n,e,t,r,s)=>{let o,c,d;const p=(g,v,x)=>{let S,b;const T=R=>{for(S in R){const L=S.charCodeAt(0)===64,F=L&&Array.isArray(R[S])?R[S]:[R[S]];for(b of F){const j=/[A-Z]/.test(M=S)?M:M.replace(/-[^]/g,q=>q[1].toUpperCase()),U=typeof b=="object"&&b&&b.toString===uw&&(!r.utils[j]||!v.length);if(j in r.utils&&!U){const q=r.utils[j];if(q!==c){c=q,T(q(b)),c=null;continue}}else if(j in tv){const q=tv[j];if(q!==d){d=q,T(q(b)),d=null;continue}}if(L&&(P=S.slice(1)in r.media?"@media "+r.media[S.slice(1)]:S,S=P.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(q,D,Z,ue,ce,Se)=>{const Q=kp.test(D),J=.0625*(Q?-1:1),[le,be]=Q?[ue,D]:[D,ue];return"("+(Z[0]==="="?"":Z[0]===">"===Q?"max-":"min-")+le+":"+(Z[0]!=="="&&Z.length===1?be.replace(kp,(B,G,C)=>Number(G)+J*(Z===">"?1:-1)+C):be)+(ce?") and ("+(ce[0]===">"?"min-":"max-")+le+":"+(ce.length===1?Se.replace(kp,(B,G,C)=>Number(G)+J*(ce===">"?-1:1)+C):Se):"")+")"})),U){const q=L?x.concat(S):[...x],D=L?[...v]:sw(v,S.split(lw));o!==void 0&&s(rv(...o)),o=void 0,p(b,D,q)}else o===void 0&&(o=[[],v,x]),S=L||S.charCodeAt(0)!==36?S:`--${pa(r.prefix)}${S.slice(1).replace(/\$/g,"-")}`,b=U?b:typeof b=="number"?b&&j in hw?String(b)+"px":String(b):k_(aw(j,b??""),r.prefix,r.themeMap[j]),o[0].push(`${L?`${S} `:`${sg(S)}:`}${b}`)}}var P,M};T(g),o!==void 0&&s(rv(...o)),o=void 0};p(n,e,t)},rv=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,hw={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},nv=n=>String.fromCharCode(n+(n>25?39:97)),Ll=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=nv(t%52)+r;return nv(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),vc=["themed","global","styled","onevar","resonevar","allvar","inline"],cw=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},dw=n=>{let e;const t=()=>{const{cssRules:s}=e.sheet;return[].map.call(s,(o,c)=>{const{cssText:d}=o;let p="";if(d.startsWith("--sxs"))return"";if(s[c-1]&&(p=s[c-1].cssText).startsWith("--sxs")){if(!o.cssRules.length)return"";for(const g in e.rules)if(e.rules[g].group===o)return`--sxs{--sxs:${[...e.rules[g].cache].join(" ")}}${d}`;return o.cssRules.length?`${p}${d}`:""}return d}).join("")},r=()=>{if(e){const{rules:d,sheet:p}=e;if(!p.deleteRule){for(;Object(Object(p.cssRules)[0]).type===3;)p.cssRules.splice(0,1);p.cssRules=[]}for(const g in d)delete d[g]}const s=Object(n).styleSheets||[];for(const d of s)if(cw(d)){for(let p=0,g=d.cssRules;g[p];++p){const v=Object(g[p]);if(v.type!==1)continue;const x=Object(g[p+1]);if(x.type!==4)continue;++p;const{cssText:S}=v;if(!S.startsWith("--sxs"))continue;const b=S.slice(14,-3).trim().split(/\s+/),T=vc[b[0]];T&&(e||(e={sheet:d,reset:r,rules:{},toString:t}),e.rules[T]={group:x,index:p,cache:new Set(b)})}if(e)break}if(!e){const d=(p,g)=>({type:g,cssRules:[],insertRule(v,x){this.cssRules.splice(x,0,d(v,{import:3,undefined:1}[(v.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return p==="@media{}"?`@media{${[].map.call(this.cssRules,v=>v.cssText).join("")}}`:p}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:d("","text/css"),rules:{},reset:r,toString:t}}const{sheet:o,rules:c}=e;for(let d=vc.length-1;d>=0;--d){const p=vc[d];if(!c[p]){const g=vc[d+1],v=c[g]?c[g].index:o.cssRules.length;o.insertRule("@media{}",v),o.insertRule(`--sxs{--sxs:${d}}`,v),c[p]={group:o.cssRules[v+1],index:v,cache:new Set([d])}}fw(c[p])}};return r(),e},fw=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},dc=Symbol(),pw=uh(),iv=(n,e)=>pw(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const s of t)if(s!=null)if(s[Bl]){r.type==null&&(r.type=s[Bl].type);for(const o of s[Bl].composers)r.composers.add(o)}else s.constructor!==Object||s.$$typeof?r.type==null&&(r.type=s):r.composers.add(mw(s,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),gw(n,r,e)}),mw=({variants:n,compoundVariants:e,defaultVariants:t,...r},s)=>{const o=`${pa(s.prefix)}c-${Ll(r)}`,c=[],d=[],p=Object.create(null),g=[];for(const S in t)p[S]=String(t[S]);if(typeof n=="object"&&n)for(const S in n){v=p,x=S,nw.call(v,x)||(p[S]="undefined");const b=n[S];for(const T in b){const R={[S]:String(T)};String(T)==="undefined"&&g.push(S);const P=b[T],M=[R,P,!ev(P)];c.push(M)}}var v,x;if(typeof e=="object"&&e)for(const S of e){let{css:b,...T}=S;b=typeof b=="object"&&b||{};for(const P in T)T[P]=String(T[P]);const R=[T,b,!ev(b)];d.push(R)}return[o,r,c,d,p,g]},gw=(n,e,t)=>{const[r,s,o,c]=yw(e.composers),d=typeof e.type=="function"||e.type.$$typeof?(x=>{function S(){for(let b=0;b<S[dc].length;b++){const[T,R]=S[dc][b];x.rules[T].apply(R)}return S[dc]=[],null}return S[dc]=[],S.rules={},vc.forEach(b=>S.rules[b]={apply:T=>S[dc].push([b,T])}),S})(t):null,p=(d||t).rules,g=`.${r}${s.length>1?`:where(.${s.slice(1).join(".")})`:""}`,v=x=>{x=typeof x=="object"&&x||vw;const{css:S,...b}=x,T={};for(const M in o)if(delete b[M],M in x){let L=x[M];typeof L=="object"&&L?T[M]={"@initial":o[M],...L}:(L=String(L),T[M]=L!=="undefined"||c.has(M)?L:o[M])}else T[M]=o[M];const R=new Set([...s]);for(const[M,L,F,j]of e.composers){t.rules.styled.cache.has(M)||(t.rules.styled.cache.add(M),Zu(L,[`.${M}`],[],n,D=>{p.styled.apply(D)}));const U=sv(F,T,n.media),q=sv(j,T,n.media,!0);for(const D of U)if(D!==void 0)for(const[Z,ue,ce]of D){const Se=`${M}-${Ll(ue)}-${Z}`;R.add(Se);const Q=(ce?t.rules.resonevar:t.rules.onevar).cache,J=ce?p.resonevar:p.onevar;Q.has(Se)||(Q.add(Se),Zu(ue,[`.${Se}`],[],n,le=>{J.apply(le)}))}for(const D of q)if(D!==void 0)for(const[Z,ue]of D){const ce=`${M}-${Ll(ue)}-${Z}`;R.add(ce),t.rules.allvar.cache.has(ce)||(t.rules.allvar.cache.add(ce),Zu(ue,[`.${ce}`],[],n,Se=>{p.allvar.apply(Se)}))}}if(typeof S=="object"&&S){const M=`${r}-i${Ll(S)}-css`;R.add(M),t.rules.inline.cache.has(M)||(t.rules.inline.cache.add(M),Zu(S,[`.${M}`],[],n,L=>{p.inline.apply(L)}))}for(const M of String(x.className||"").trim().split(/\s+/))M&&R.add(M);const P=b.className=[...R].join(" ");return{type:e.type,className:P,selector:g,props:b,toString:()=>P,deferredInjector:d}};return Zg(v,{className:r,selector:g,[Bl]:e,toString:()=>(t.rules.styled.cache.has(r)||v(),r)})},yw=n=>{let e="";const t=[],r={},s=[];for(const[o,,,,c,d]of n){e===""&&(e=o),t.push(o),s.push(...d);for(const p in c){const g=c[p];(r[p]===void 0||g!=="undefined"||d.includes(g))&&(r[p]=g)}}return[e,t,r,new Set(s)]},sv=(n,e,t,r)=>{const s=[];e:for(let[o,c,d]of n){if(d)continue;let p,g=0,v=!1;for(p in o){const x=o[p];let S=e[p];if(S!==x){if(typeof S!="object"||!S)continue e;{let b,T,R=0;for(const P in S){if(x===String(S[P])){if(P!=="@initial"){const M=P.slice(1);(T=T||[]).push(M in t?t[M]:P.replace(/^@media ?/,"")),v=!0}g+=R,b=!0}++R}if(T&&T.length&&(c={["@media "+T.join(", ")]:c}),!b)continue e}}}(s[g]=s[g]||[]).push([r?"cv":`${p}-${o[p]}`,c,v])}return s},vw={},_w=uh(),xw=(n,e)=>_w(n,()=>(...t)=>{const r=()=>{for(let s of t){s=typeof s=="object"&&s||{};let o=Ll(s);if(!e.rules.global.cache.has(o)){if(e.rules.global.cache.add(o),"@import"in s){let c=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let d of[].concat(s["@import"]))d=d.includes('"')||d.includes("'")?d:`"${d}"`,e.sheet.insertRule(`@import ${d};`,c++);delete s["@import"]}Zu(s,[],[],n,c=>{e.rules.global.apply(c)})}}return""};return Zg(r,{toString:r})}),ww=uh(),Sw=(n,e)=>ww(n,()=>t=>{const r=`${pa(n.prefix)}k-${Ll(t)}`,s=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const o=[];Zu(t,[],[],n,d=>o.push(d));const c=`@keyframes ${r}{${o.join("")}}`;e.rules.global.apply(c)}return r};return Zg(s,{get name(){return s()},toString:s})}),Ew=class{constructor(e,t,r,s){this.token=e==null?"":String(e),this.value=t==null?"":String(t),this.scale=r==null?"":String(r),this.prefix=s==null?"":String(s)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+pa(this.prefix)+pa(this.scale)+this.token}toString(){return this.computedValue}},bw=uh(),Tw=(n,e)=>bw(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const s=`.${t=(t=typeof t=="string"?t:"")||`${pa(n.prefix)}t-${Ll(r)}`}`,o={},c=[];for(const p in r){o[p]={};for(const g in r[p]){const v=`--${pa(n.prefix)}${p}-${g}`,x=k_(String(r[p][g]),n.prefix,p);o[p][g]=new Ew(g,x,p,n.prefix),c.push(`${v}:${x}`)}}const d=()=>{if(c.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const p=`${r===n.theme?":root,":""}.${t}{${c.join(";")}}`;e.rules.themed.apply(p)}return t};return{...o,get className(){return d()},selector:s,toString:d}}),Aw=uh(),av,Cw=uh(),Pw=n=>{const e=(t=>{let r=!1;const s=Aw(t,o=>{r=!0;const c="prefix"in(o=typeof o=="object"&&o||{})?String(o.prefix):"",d=typeof o.media=="object"&&o.media||{},p=typeof o.root=="object"?o.root||null:globalThis.document||null,g=typeof o.theme=="object"&&o.theme||{},v={prefix:c,media:d,theme:g,themeMap:typeof o.themeMap=="object"&&o.themeMap||{...tw},utils:typeof o.utils=="object"&&o.utils||{}},x=dw(p),S={css:iv(v,x),globalCss:xw(v,x),keyframes:Sw(v,x),createTheme:Tw(v,x),reset(){x.reset(),S.theme.toString()},theme:{},sheet:x,config:v,prefix:c,getCssText:x.toString,toString:x.toString};return String(S.theme=S.createTheme(g)),S});return r||s.reset(),s})(n);return e.styled=(({config:t,sheet:r})=>Cw(t,()=>{const s=iv(t,r);return(...o)=>{const c=s(...o),d=c[Bl].type,p=pn.forwardRef((g,v)=>{const x=g&&g.as||d,{props:S,deferredInjector:b}=c(g);return delete S.as,S.ref=v,b?pn.createElement(pn.Fragment,null,pn.createElement(x,S),pn.createElement(b,null)):pn.createElement(x,S)});return p.className=c.className,p.displayName=`Styled.${d.displayName||d.name||d}`,p.selector=c.selector,p.toString=()=>c.selector,p[Bl]=c[Bl],p}}))(e),e},Rw=()=>av||(av=Pw()),Fc=(...n)=>Rw().styled(...n);const Jd=64;var M_=(n=>(n[n.VOID=0]="VOID",n[n.STAR=1]="STAR",n[n.ANOMALY=2]="ANOMALY",n[n.BLOCKED=3]="BLOCKED",n[n.WORMHOLE=4]="WORMHOLE",n))(M_||{});Object.keys(M_).length/2;var D_=(n=>(n[n.O=0]="O",n[n.B=1]="B",n[n.A=2]="A",n[n.F=3]="F",n[n.G=4]="G",n[n.K=5]="K",n[n.M=6]="M",n))(D_||{});Object.keys(D_).length/2;function Iw(n){const e=[];for(let t=0;t<6;t++){const r=Math.PI/180*(60*t-30);e.push({x:n*.95*Math.cos(r),y:n*.95*Math.sin(r)})}return e}const kw=(n,e)=>({q:n,r:e,s:-0-e}),vo=(n,e,t)=>({q:n,r:e,s:t}),ag=(n,e)=>({x:e*(Math.sqrt(3)*n.q+Math.sqrt(3)/2*n.r),y:e*(3/2*n.r)}),Mw=[vo(1,0,-1),vo(1,-1,0),vo(0,-1,1),vo(-1,0,1),vo(-1,1,0),vo(0,1,-1)];function N_(n){return Mw[n]}function O_(n,e){return vo(n.q+e.q,n.r+e.r,n.s+e.s)}function Dw(n,e){return O_(n,N_(e))}function Nw(n,e){return vo(n.q*e,n.r*e,n.s*e)}function Ow(n,e){const t=[];let r=O_(n,Nw(N_(4),e));for(let s=0;s<6;s++)for(let o=0;o<e;o++)t.push(r),r=Dw(r,s);return t}function Fw(n,e){const t=[n];for(let r=1;r<e;r++)for(let s of Ow(n,r))t.push(s);return t}var Rc={exports:{}},Hl=(n=>(n[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",n))(Hl||{}),F_=(n=>(n[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",n))(F_||{}),og=(n=>(n[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",n))(og||{}),tt=(n=>(n[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",n))(tt||{}),Yi=(n=>(n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n))(Yi||{}),Ce=(n=>(n[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n))(Ce||{}),th=(n=>(n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n))(th||{}),Ze=(n=>(n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",n))(Ze||{}),Fe=(n=>(n[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",n))(Fe||{}),ha=(n=>(n[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",n))(ha||{}),fa=(n=>(n[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n))(fa||{}),ks=(n=>(n[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",n))(ks||{}),zn=(n=>(n[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",n))(zn||{}),Cs=(n=>(n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",n))(Cs||{}),Jg=(n=>(n[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",n))(Jg||{}),yi=(n=>(n.LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",n))(yi||{}),Tr=(n=>(n[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",n[n.COLOR=4]="COLOR",n))(Tr||{}),vr=(n=>(n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",n))(vr||{}),Rs=(n=>(n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",n))(Rs||{});const Bw={createCanvas:(n,e)=>{const t=document.createElement("canvas");return t.width=n,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")},Be={ADAPTER:Bw,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Mp=/iPhone/i,ov=/iPod/i,lv=/iPad/i,uv=/\biOS-universal(?:.+)Mac\b/i,Dp=/\bAndroid(?:.+)Mobile\b/i,hv=/Android/i,Gu=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Cd=/Silk/i,oa=/Windows Phone/i,cv=/\bWindows(?:.+)ARM\b/i,dv=/BlackBerry/i,fv=/BB10/i,pv=/Opera Mini/i,mv=/\b(CriOS|Chrome)(?:.+)Mobile/i,gv=/Mobile(?:.+)Firefox\b/i,yv=function(n){return typeof n<"u"&&n.platform==="MacIntel"&&typeof n.maxTouchPoints=="number"&&n.maxTouchPoints>1&&typeof MSStream>"u"};function Lw(n){return function(e){return e.test(n)}}function vv(n){var e={userAgent:"",platform:"",maxTouchPoints:0};!n&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof n=="string"?e.userAgent=n:n&&n.userAgent&&(e={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0});var t=e.userAgent,r=t.split("[FBAN");typeof r[1]<"u"&&(t=r[0]),r=t.split("Twitter"),typeof r[1]<"u"&&(t=r[0]);var s=Lw(t),o={apple:{phone:s(Mp)&&!s(oa),ipod:s(ov),tablet:!s(Mp)&&(s(lv)||yv(e))&&!s(oa),universal:s(uv),device:(s(Mp)||s(ov)||s(lv)||s(uv)||yv(e))&&!s(oa)},amazon:{phone:s(Gu),tablet:!s(Gu)&&s(Cd),device:s(Gu)||s(Cd)},android:{phone:!s(oa)&&s(Gu)||!s(oa)&&s(Dp),tablet:!s(oa)&&!s(Gu)&&!s(Dp)&&(s(Cd)||s(hv)),device:!s(oa)&&(s(Gu)||s(Cd)||s(Dp)||s(hv))||s(/\bokhttp\b/i)},windows:{phone:s(oa),tablet:s(cv),device:s(oa)||s(cv)},other:{blackberry:s(dv),blackberry10:s(fv),opera:s(pv),firefox:s(gv),chrome:s(mv),device:s(dv)||s(fv)||s(pv)||s(gv)||s(mv)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const Uw=vv.default??vv,ca=Uw(globalThis.navigator);Be.RETINA_PREFIX=/@([0-9\.]+)x/;Be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Np={exports:{}},_v;function zw(){return _v||(_v=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function s(p,g,v){this.fn=p,this.context=g,this.once=v||!1}function o(p,g,v,x,S){if(typeof v!="function")throw new TypeError("The listener must be a function");var b=new s(v,x||p,S),T=t?t+g:g;return p._events[T]?p._events[T].fn?p._events[T]=[p._events[T],b]:p._events[T].push(b):(p._events[T]=b,p._eventsCount++),p}function c(p,g){--p._eventsCount===0?p._events=new r:delete p._events[g]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var g=[],v,x;if(this._eventsCount===0)return g;for(x in v=this._events)e.call(v,x)&&g.push(t?x.slice(1):x);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(v)):g},d.prototype.listeners=function(g){var v=t?t+g:g,x=this._events[v];if(!x)return[];if(x.fn)return[x.fn];for(var S=0,b=x.length,T=new Array(b);S<b;S++)T[S]=x[S].fn;return T},d.prototype.listenerCount=function(g){var v=t?t+g:g,x=this._events[v];return x?x.fn?1:x.length:0},d.prototype.emit=function(g,v,x,S,b,T){var R=t?t+g:g;if(!this._events[R])return!1;var P=this._events[R],M=arguments.length,L,F;if(P.fn){switch(P.once&&this.removeListener(g,P.fn,void 0,!0),M){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,v),!0;case 3:return P.fn.call(P.context,v,x),!0;case 4:return P.fn.call(P.context,v,x,S),!0;case 5:return P.fn.call(P.context,v,x,S,b),!0;case 6:return P.fn.call(P.context,v,x,S,b,T),!0}for(F=1,L=new Array(M-1);F<M;F++)L[F-1]=arguments[F];P.fn.apply(P.context,L)}else{var j=P.length,U;for(F=0;F<j;F++)switch(P[F].once&&this.removeListener(g,P[F].fn,void 0,!0),M){case 1:P[F].fn.call(P[F].context);break;case 2:P[F].fn.call(P[F].context,v);break;case 3:P[F].fn.call(P[F].context,v,x);break;case 4:P[F].fn.call(P[F].context,v,x,S);break;default:if(!L)for(U=1,L=new Array(M-1);U<M;U++)L[U-1]=arguments[U];P[F].fn.apply(P[F].context,L)}}return!0},d.prototype.on=function(g,v,x){return o(this,g,v,x,!1)},d.prototype.once=function(g,v,x){return o(this,g,v,x,!0)},d.prototype.removeListener=function(g,v,x,S){var b=t?t+g:g;if(!this._events[b])return this;if(!v)return c(this,b),this;var T=this._events[b];if(T.fn)T.fn===v&&(!S||T.once)&&(!x||T.context===x)&&c(this,b);else{for(var R=0,P=[],M=T.length;R<M;R++)(T[R].fn!==v||S&&!T[R].once||x&&T[R].context!==x)&&P.push(T[R]);P.length?this._events[b]=P.length===1?P[0]:P:c(this,b)}return this},d.prototype.removeAllListeners=function(g){var v;return g?(v=t?t+g:g,this._events[v]&&c(this,v)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,n.exports=d}(Np)),Np.exports}var Gw=zw();const Bc=Cf(Gw);var Pd={exports:{}},xv;function Hw(){if(xv)return Pd.exports;xv=1,Pd.exports=n,Pd.exports.default=n;function n(B,G,C){C=C||2;var H=G&&G.length,N=H?G[0]*C:B.length,I=e(B,0,N,C,!0),z=[];if(!I||I.next===I.prev)return z;var X,ie,he,pe,_e,Ae,Re;if(H&&(I=p(B,G,I,C)),B.length>80*C){X=he=B[0],ie=pe=B[1];for(var ye=C;ye<N;ye+=C)_e=B[ye],Ae=B[ye+1],_e<X&&(X=_e),Ae<ie&&(ie=Ae),_e>he&&(he=_e),Ae>pe&&(pe=Ae);Re=Math.max(he-X,pe-ie),Re=Re!==0?32767/Re:0}return r(I,z,C,X,ie,Re,0),z}function e(B,G,C,H,N){var I,z;if(N===be(B,G,C,H)>0)for(I=G;I<C;I+=H)z=Q(I,B[I],B[I+1],z);else for(I=C-H;I>=G;I-=H)z=Q(I,B[I],B[I+1],z);return z&&j(z,z.next)&&(J(z),z=z.next),z}function t(B,G){if(!B)return B;G||(G=B);var C=B,H;do if(H=!1,!C.steiner&&(j(C,C.next)||F(C.prev,C,C.next)===0)){if(J(C),C=G=C.prev,C===C.next)break;H=!0}else C=C.next;while(H||C!==G);return G}function r(B,G,C,H,N,I,z){if(B){!z&&I&&b(B,H,N,I);for(var X=B,ie,he;B.prev!==B.next;){if(ie=B.prev,he=B.next,I?o(B,H,N,I):s(B)){G.push(ie.i/C|0),G.push(B.i/C|0),G.push(he.i/C|0),J(B),B=he.next,X=he.next;continue}if(B=he,B===X){z?z===1?(B=c(t(B),G,C),r(B,G,C,H,N,I,2)):z===2&&d(B,G,C,H,N,I):r(t(B),G,C,H,N,I,1);break}}}}function s(B){var G=B.prev,C=B,H=B.next;if(F(G,C,H)>=0)return!1;for(var N=G.x,I=C.x,z=H.x,X=G.y,ie=C.y,he=H.y,pe=N<I?N<z?N:z:I<z?I:z,_e=X<ie?X<he?X:he:ie<he?ie:he,Ae=N>I?N>z?N:z:I>z?I:z,Re=X>ie?X>he?X:he:ie>he?ie:he,ye=H.next;ye!==G;){if(ye.x>=pe&&ye.x<=Ae&&ye.y>=_e&&ye.y<=Re&&M(N,X,I,ie,z,he,ye.x,ye.y)&&F(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function o(B,G,C,H){var N=B.prev,I=B,z=B.next;if(F(N,I,z)>=0)return!1;for(var X=N.x,ie=I.x,he=z.x,pe=N.y,_e=I.y,Ae=z.y,Re=X<ie?X<he?X:he:ie<he?ie:he,ye=pe<_e?pe<Ae?pe:Ae:_e<Ae?_e:Ae,ke=X>ie?X>he?X:he:ie>he?ie:he,Ue=pe>_e?pe>Ae?pe:Ae:_e>Ae?_e:Ae,We=R(Re,ye,G,C,H),lt=R(ke,Ue,G,C,H),$e=B.prevZ,Ve=B.nextZ;$e&&$e.z>=We&&Ve&&Ve.z<=lt;){if($e.x>=Re&&$e.x<=ke&&$e.y>=ye&&$e.y<=Ue&&$e!==N&&$e!==z&&M(X,pe,ie,_e,he,Ae,$e.x,$e.y)&&F($e.prev,$e,$e.next)>=0||($e=$e.prevZ,Ve.x>=Re&&Ve.x<=ke&&Ve.y>=ye&&Ve.y<=Ue&&Ve!==N&&Ve!==z&&M(X,pe,ie,_e,he,Ae,Ve.x,Ve.y)&&F(Ve.prev,Ve,Ve.next)>=0))return!1;Ve=Ve.nextZ}for(;$e&&$e.z>=We;){if($e.x>=Re&&$e.x<=ke&&$e.y>=ye&&$e.y<=Ue&&$e!==N&&$e!==z&&M(X,pe,ie,_e,he,Ae,$e.x,$e.y)&&F($e.prev,$e,$e.next)>=0)return!1;$e=$e.prevZ}for(;Ve&&Ve.z<=lt;){if(Ve.x>=Re&&Ve.x<=ke&&Ve.y>=ye&&Ve.y<=Ue&&Ve!==N&&Ve!==z&&M(X,pe,ie,_e,he,Ae,Ve.x,Ve.y)&&F(Ve.prev,Ve,Ve.next)>=0)return!1;Ve=Ve.nextZ}return!0}function c(B,G,C){var H=B;do{var N=H.prev,I=H.next.next;!j(N,I)&&U(N,H,H.next,I)&&ue(N,I)&&ue(I,N)&&(G.push(N.i/C|0),G.push(H.i/C|0),G.push(I.i/C|0),J(H),J(H.next),H=B=I),H=H.next}while(H!==B);return t(H)}function d(B,G,C,H,N,I){var z=B;do{for(var X=z.next.next;X!==z.prev;){if(z.i!==X.i&&L(z,X)){var ie=Se(z,X);z=t(z,z.next),ie=t(ie,ie.next),r(z,G,C,H,N,I,0),r(ie,G,C,H,N,I,0);return}X=X.next}z=z.next}while(z!==B)}function p(B,G,C,H){var N=[],I,z,X,ie,he;for(I=0,z=G.length;I<z;I++)X=G[I]*H,ie=I<z-1?G[I+1]*H:B.length,he=e(B,X,ie,H,!1),he===he.next&&(he.steiner=!0),N.push(P(he));for(N.sort(g),I=0;I<N.length;I++)C=v(N[I],C);return C}function g(B,G){return B.x-G.x}function v(B,G){var C=x(B,G);if(!C)return G;var H=Se(C,B);return t(H,H.next),t(C,C.next)}function x(B,G){var C=G,H=B.x,N=B.y,I=-1/0,z;do{if(N<=C.y&&N>=C.next.y&&C.next.y!==C.y){var X=C.x+(N-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(X<=H&&X>I&&(I=X,z=C.x<C.next.x?C:C.next,X===H))return z}C=C.next}while(C!==G);if(!z)return null;var ie=z,he=z.x,pe=z.y,_e=1/0,Ae;C=z;do H>=C.x&&C.x>=he&&H!==C.x&&M(N<pe?H:I,N,he,pe,N<pe?I:H,N,C.x,C.y)&&(Ae=Math.abs(N-C.y)/(H-C.x),ue(C,B)&&(Ae<_e||Ae===_e&&(C.x>z.x||C.x===z.x&&S(z,C)))&&(z=C,_e=Ae)),C=C.next;while(C!==ie);return z}function S(B,G){return F(B.prev,B,G.prev)<0&&F(G.next,B,B.next)<0}function b(B,G,C,H){var N=B;do N.z===0&&(N.z=R(N.x,N.y,G,C,H)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==B);N.prevZ.nextZ=null,N.prevZ=null,T(N)}function T(B){var G,C,H,N,I,z,X,ie,he=1;do{for(C=B,B=null,I=null,z=0;C;){for(z++,H=C,X=0,G=0;G<he&&(X++,H=H.nextZ,!!H);G++);for(ie=he;X>0||ie>0&&H;)X!==0&&(ie===0||!H||C.z<=H.z)?(N=C,C=C.nextZ,X--):(N=H,H=H.nextZ,ie--),I?I.nextZ=N:B=N,N.prevZ=I,I=N;C=H}I.nextZ=null,he*=2}while(z>1);return B}function R(B,G,C,H,N){return B=(B-C)*N|0,G=(G-H)*N|0,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,B|G<<1}function P(B){var G=B,C=B;do(G.x<C.x||G.x===C.x&&G.y<C.y)&&(C=G),G=G.next;while(G!==B);return C}function M(B,G,C,H,N,I,z,X){return(N-z)*(G-X)>=(B-z)*(I-X)&&(B-z)*(H-X)>=(C-z)*(G-X)&&(C-z)*(I-X)>=(N-z)*(H-X)}function L(B,G){return B.next.i!==G.i&&B.prev.i!==G.i&&!Z(B,G)&&(ue(B,G)&&ue(G,B)&&ce(B,G)&&(F(B.prev,B,G.prev)||F(B,G.prev,G))||j(B,G)&&F(B.prev,B,B.next)>0&&F(G.prev,G,G.next)>0)}function F(B,G,C){return(G.y-B.y)*(C.x-G.x)-(G.x-B.x)*(C.y-G.y)}function j(B,G){return B.x===G.x&&B.y===G.y}function U(B,G,C,H){var N=D(F(B,G,C)),I=D(F(B,G,H)),z=D(F(C,H,B)),X=D(F(C,H,G));return!!(N!==I&&z!==X||N===0&&q(B,C,G)||I===0&&q(B,H,G)||z===0&&q(C,B,H)||X===0&&q(C,G,H))}function q(B,G,C){return G.x<=Math.max(B.x,C.x)&&G.x>=Math.min(B.x,C.x)&&G.y<=Math.max(B.y,C.y)&&G.y>=Math.min(B.y,C.y)}function D(B){return B>0?1:B<0?-1:0}function Z(B,G){var C=B;do{if(C.i!==B.i&&C.next.i!==B.i&&C.i!==G.i&&C.next.i!==G.i&&U(C,C.next,B,G))return!0;C=C.next}while(C!==B);return!1}function ue(B,G){return F(B.prev,B,B.next)<0?F(B,G,B.next)>=0&&F(B,B.prev,G)>=0:F(B,G,B.prev)<0||F(B,B.next,G)<0}function ce(B,G){var C=B,H=!1,N=(B.x+G.x)/2,I=(B.y+G.y)/2;do C.y>I!=C.next.y>I&&C.next.y!==C.y&&N<(C.next.x-C.x)*(I-C.y)/(C.next.y-C.y)+C.x&&(H=!H),C=C.next;while(C!==B);return H}function Se(B,G){var C=new le(B.i,B.x,B.y),H=new le(G.i,G.x,G.y),N=B.next,I=G.prev;return B.next=G,G.prev=B,C.next=N,N.prev=C,H.next=C,C.prev=H,I.next=H,H.prev=I,H}function Q(B,G,C,H){var N=new le(B,G,C);return H?(N.next=H.next,N.prev=H,H.next.prev=N,H.next=N):(N.prev=N,N.next=N),N}function J(B){B.next.prev=B.prev,B.prev.next=B.next,B.prevZ&&(B.prevZ.nextZ=B.nextZ),B.nextZ&&(B.nextZ.prevZ=B.prevZ)}function le(B,G,C){this.i=B,this.x=G,this.y=C,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}n.deviation=function(B,G,C,H){var N=G&&G.length,I=N?G[0]*C:B.length,z=Math.abs(be(B,0,I,C));if(N)for(var X=0,ie=G.length;X<ie;X++){var he=G[X]*C,pe=X<ie-1?G[X+1]*C:B.length;z-=Math.abs(be(B,he,pe,C))}var _e=0;for(X=0;X<H.length;X+=3){var Ae=H[X]*C,Re=H[X+1]*C,ye=H[X+2]*C;_e+=Math.abs((B[Ae]-B[ye])*(B[Re+1]-B[Ae+1])-(B[Ae]-B[Re])*(B[ye+1]-B[Ae+1]))}return z===0&&_e===0?0:Math.abs((_e-z)/z)};function be(B,G,C,H){for(var N=0,I=G,z=C-H;I<C;I+=H)N+=(B[z]-B[I])*(B[I+1]+B[z+1]),z=I;return N}return n.flatten=function(B){for(var G=B[0][0].length,C={vertices:[],holes:[],dimensions:G},H=0,N=0;N<B.length;N++){for(var I=0;I<B[N].length;I++)for(var z=0;z<G;z++)C.vertices.push(B[N][I][z]);N>0&&(H+=B[N-1].length,C.holes.push(H))}return C},Pd.exports}var $w=Hw();const jw=Cf($w);var Al={},_c={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var Ww=_c.exports,wv;function Vw(){return wv||(wv=1,function(n,e){(function(t){var r=e&&!e.nodeType&&e,s=n&&!n.nodeType&&n,o=typeof uf=="object"&&uf;(o.global===o||o.window===o||o.self===o)&&(t=o);var c,d=2147483647,p=36,g=1,v=26,x=38,S=700,b=72,T=128,R="-",P=/^xn--/,M=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=p-g,U=Math.floor,q=String.fromCharCode,D;function Z(N){throw new RangeError(F[N])}function ue(N,I){for(var z=N.length,X=[];z--;)X[z]=I(N[z]);return X}function ce(N,I){var z=N.split("@"),X="";z.length>1&&(X=z[0]+"@",N=z[1]),N=N.replace(L,".");var ie=N.split("."),he=ue(ie,I).join(".");return X+he}function Se(N){for(var I=[],z=0,X=N.length,ie,he;z<X;)ie=N.charCodeAt(z++),ie>=55296&&ie<=56319&&z<X?(he=N.charCodeAt(z++),(he&64512)==56320?I.push(((ie&1023)<<10)+(he&1023)+65536):(I.push(ie),z--)):I.push(ie);return I}function Q(N){return ue(N,function(I){var z="";return I>65535&&(I-=65536,z+=q(I>>>10&1023|55296),I=56320|I&1023),z+=q(I),z}).join("")}function J(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:p}function le(N,I){return N+22+75*(N<26)-((I!=0)<<5)}function be(N,I,z){var X=0;for(N=z?U(N/S):N>>1,N+=U(N/I);N>j*v>>1;X+=p)N=U(N/j);return U(X+(j+1)*N/(N+x))}function B(N){var I=[],z=N.length,X,ie=0,he=T,pe=b,_e,Ae,Re,ye,ke,Ue,We,lt,$e;for(_e=N.lastIndexOf(R),_e<0&&(_e=0),Ae=0;Ae<_e;++Ae)N.charCodeAt(Ae)>=128&&Z("not-basic"),I.push(N.charCodeAt(Ae));for(Re=_e>0?_e+1:0;Re<z;){for(ye=ie,ke=1,Ue=p;Re>=z&&Z("invalid-input"),We=J(N.charCodeAt(Re++)),(We>=p||We>U((d-ie)/ke))&&Z("overflow"),ie+=We*ke,lt=Ue<=pe?g:Ue>=pe+v?v:Ue-pe,!(We<lt);Ue+=p)$e=p-lt,ke>U(d/$e)&&Z("overflow"),ke*=$e;X=I.length+1,pe=be(ie-ye,X,ye==0),U(ie/X)>d-he&&Z("overflow"),he+=U(ie/X),ie%=X,I.splice(ie++,0,he)}return Q(I)}function G(N){var I,z,X,ie,he,pe,_e,Ae,Re,ye,ke,Ue=[],We,lt,$e,Ve;for(N=Se(N),We=N.length,I=T,z=0,he=b,pe=0;pe<We;++pe)ke=N[pe],ke<128&&Ue.push(q(ke));for(X=ie=Ue.length,ie&&Ue.push(R);X<We;){for(_e=d,pe=0;pe<We;++pe)ke=N[pe],ke>=I&&ke<_e&&(_e=ke);for(lt=X+1,_e-I>U((d-z)/lt)&&Z("overflow"),z+=(_e-I)*lt,I=_e,pe=0;pe<We;++pe)if(ke=N[pe],ke<I&&++z>d&&Z("overflow"),ke==I){for(Ae=z,Re=p;ye=Re<=he?g:Re>=he+v?v:Re-he,!(Ae<ye);Re+=p)Ve=Ae-ye,$e=p-ye,Ue.push(q(le(ye+Ve%$e,0))),Ae=U(Ve/$e);Ue.push(q(le(Ae,0))),he=be(z,lt,X==ie),z=0,++X}++z,++I}return Ue.join("")}function C(N){return ce(N,function(I){return P.test(I)?B(I.slice(4).toLowerCase()):I})}function H(N){return ce(N,function(I){return M.test(I)?"xn--"+G(I):I})}if(c={version:"1.4.1",ucs2:{decode:Se,encode:Q},decode:B,encode:G,toASCII:H,toUnicode:C},r&&s)if(n.exports==r)s.exports=c;else for(D in c)c.hasOwnProperty(D)&&(r[D]=c[D]);else t.punycode=c})(Ww)}(_c,_c.exports)),_c.exports}var Op,Sv;function hh(){return Sv||(Sv=1,Op=TypeError),Op}const Xw={},Yw=Object.freeze(Object.defineProperty({__proto__:null,default:Xw},Symbol.toStringTag,{value:"Module"})),qw=I_(Yw);var Fp,Ev;function Pf(){if(Ev)return Fp;Ev=1;var n=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=n&&e&&typeof e.get=="function"?e.get:null,r=n&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&o&&typeof o.get=="function"?o.get:null,d=s&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,g=p?WeakMap.prototype.has:null,v=typeof WeakSet=="function"&&WeakSet.prototype,x=v?WeakSet.prototype.has:null,S=typeof WeakRef=="function"&&WeakRef.prototype,b=S?WeakRef.prototype.deref:null,T=Boolean.prototype.valueOf,R=Object.prototype.toString,P=Function.prototype.toString,M=String.prototype.match,L=String.prototype.slice,F=String.prototype.replace,j=String.prototype.toUpperCase,U=String.prototype.toLowerCase,q=RegExp.prototype.test,D=Array.prototype.concat,Z=Array.prototype.join,ue=Array.prototype.slice,ce=Math.floor,Se=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Q=Object.getOwnPropertySymbols,J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,le=typeof Symbol=="function"&&typeof Symbol.iterator=="object",be=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===le||!0)?Symbol.toStringTag:null,B=Object.prototype.propertyIsEnumerable,G=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(re){return re.__proto__}:null);function C(re,se){if(re===1/0||re===-1/0||re!==re||re&&re>-1e3&&re<1e3||q.call(/e/,se))return se;var ht=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof re=="number"){var xt=re<0?-ce(-re):ce(re);if(xt!==re){var Et=String(xt),rt=L.call(se,Et.length+1);return F.call(Et,ht,"$&_")+"."+F.call(F.call(rt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return F.call(se,ht,"$&_")}var H=qw,N=H.custom,I=lt(N)?N:null,z={__proto__:null,double:'"',single:"'"},X={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Fp=function re(se,ht,xt,Et){var rt=ht||{};if(Dt(rt,"quoteStyle")&&!Dt(z,rt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Dt(rt,"maxStringLength")&&(typeof rt.maxStringLength=="number"?rt.maxStringLength<0&&rt.maxStringLength!==1/0:rt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Br=Dt(rt,"customInspect")?rt.customInspect:!0;if(typeof Br!="boolean"&&Br!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Dt(rt,"indent")&&rt.indent!==null&&rt.indent!=="	"&&!(parseInt(rt.indent,10)===rt.indent&&rt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Dt(rt,"numericSeparator")&&typeof rt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var si=rt.numericSeparator;if(typeof se>"u")return"undefined";if(se===null)return"null";if(typeof se=="boolean")return se?"true":"false";if(typeof se=="string")return _a(se,rt);if(typeof se=="number"){if(se===0)return 1/0/se>0?"0":"-0";var _r=String(se);return si?C(se,_r):_r}if(typeof se=="bigint"){var yn=String(se)+"n";return si?C(se,yn):yn}var Ea=typeof rt.depth>"u"?5:rt.depth;if(typeof xt>"u"&&(xt=0),xt>=Ea&&Ea>0&&typeof se=="object")return _e(se)?"[Array]":"[Object]";var Hn=Vl(rt,xt);if(typeof Et>"u")Et=[];else if(pr(Et,se)>=0)return"[Circular]";function Ar(Si,Fs,Ql){if(Fs&&(Et=ue.call(Et),Et.push(Fs)),Ql){var ko={depth:rt.depth};return Dt(rt,"quoteStyle")&&(ko.quoteStyle=rt.quoteStyle),re(Si,ko,xt+1,Et)}return re(Si,rt,xt+1,Et)}if(typeof se=="function"&&!Re(se)){var ba=ni(se),ts=Sa(se,Ar);return"[Function"+(ba?": "+ba:" (anonymous)")+"]"+(ts.length>0?" { "+Z.call(ts,", ")+" }":"")}if(lt(se)){var Ta=le?F.call(String(se),/^(Symbol\(.*\))_[^)]*$/,"$1"):J.call(se);return typeof se=="object"&&!le?Ji(Ta):Ta}if(Wl(se)){for(var $n="<"+U.call(String(se.nodeName)),Aa=se.attributes||[],vn=0;vn<Aa.length;vn++)$n+=" "+Aa[vn].name+"="+ie(he(Aa[vn].value),"double",rt);return $n+=">",se.childNodes&&se.childNodes.length&&($n+="..."),$n+="</"+U.call(String(se.nodeName))+">",$n}if(_e(se)){if(se.length===0)return"[]";var rs=Sa(se,Ar);return Hn&&!dh(rs)?"["+wa(rs,Hn)+"]":"[ "+Z.call(rs,", ")+" ]"}if(ye(se)){var ns=Sa(se,Ar);return!("cause"in Error.prototype)&&"cause"in se&&!B.call(se,"cause")?"{ ["+String(se)+"] "+Z.call(D.call("[cause]: "+Ar(se.cause),ns),", ")+" }":ns.length===0?"["+String(se)+"]":"{ ["+String(se)+"] "+Z.call(ns,", ")+" }"}if(typeof se=="object"&&Br){if(I&&typeof se[I]=="function"&&H)return H(se,{depth:Ea-xt});if(Br!=="symbol"&&typeof se.inspect=="function")return se.inspect()}if(mr(se)){var wi=[];return r&&r.call(se,function(Si,Fs){wi.push(Ar(Fs,se,!0)+" => "+Ar(Si,se))}),es("Map",t.call(se),wi,Hn)}if(tn(se)){var Xl=[];return d&&d.call(se,function(Si){Xl.push(Ar(Si,se))}),es("Set",c.call(se),Xl,Hn)}if(ii(se))return xi("WeakMap");if(jl(se))return xi("WeakSet");if(_i(se))return xi("WeakRef");if(Ue(se))return Ji(Ar(Number(se)));if($e(se))return Ji(Ar(Se.call(se)));if(We(se))return Ji(T.call(se));if(ke(se))return Ji(Ar(String(se)));if(typeof window<"u"&&se===window)return"{ [object Window] }";if(typeof globalThis<"u"&&se===globalThis||typeof uf<"u"&&se===uf)return"{ [object globalThis] }";if(!Ae(se)&&!Re(se)){var Po=Sa(se,Ar),Yl=G?G(se)===Object.prototype:se instanceof Object||se.constructor===Object,jn=se instanceof Object?"":"null prototype",Ro=!Yl&&be&&Object(se)===se&&be in se?L.call($t(se),8,-1):jn?"Object":"",ql=Yl||typeof se.constructor!="function"?"":se.constructor.name?se.constructor.name+" ":"",Io=ql+(Ro||jn?"["+Z.call(D.call([],Ro||[],jn||[]),": ")+"] ":"");return Po.length===0?Io+"{}":Hn?Io+"{"+wa(Po,Hn)+"}":Io+"{ "+Z.call(Po,", ")+" }"}return String(se)};function ie(re,se,ht){var xt=ht.quoteStyle||se,Et=z[xt];return Et+re+Et}function he(re){return F.call(String(re),/"/g,"&quot;")}function pe(re){return!be||!(typeof re=="object"&&(be in re||typeof re[be]<"u"))}function _e(re){return $t(re)==="[object Array]"&&pe(re)}function Ae(re){return $t(re)==="[object Date]"&&pe(re)}function Re(re){return $t(re)==="[object RegExp]"&&pe(re)}function ye(re){return $t(re)==="[object Error]"&&pe(re)}function ke(re){return $t(re)==="[object String]"&&pe(re)}function Ue(re){return $t(re)==="[object Number]"&&pe(re)}function We(re){return $t(re)==="[object Boolean]"&&pe(re)}function lt(re){if(le)return re&&typeof re=="object"&&re instanceof Symbol;if(typeof re=="symbol")return!0;if(!re||typeof re!="object"||!J)return!1;try{return J.call(re),!0}catch{}return!1}function $e(re){if(!re||typeof re!="object"||!Se)return!1;try{return Se.call(re),!0}catch{}return!1}var Ve=Object.prototype.hasOwnProperty||function(re){return re in this};function Dt(re,se){return Ve.call(re,se)}function $t(re){return R.call(re)}function ni(re){if(re.name)return re.name;var se=M.call(P.call(re),/^function\s*([\w$]+)/);return se?se[1]:null}function pr(re,se){if(re.indexOf)return re.indexOf(se);for(var ht=0,xt=re.length;ht<xt;ht++)if(re[ht]===se)return ht;return-1}function mr(re){if(!t||!re||typeof re!="object")return!1;try{t.call(re);try{c.call(re)}catch{return!0}return re instanceof Map}catch{}return!1}function ii(re){if(!g||!re||typeof re!="object")return!1;try{g.call(re,g);try{x.call(re,x)}catch{return!0}return re instanceof WeakMap}catch{}return!1}function _i(re){if(!b||!re||typeof re!="object")return!1;try{return b.call(re),!0}catch{}return!1}function tn(re){if(!c||!re||typeof re!="object")return!1;try{c.call(re);try{t.call(re)}catch{return!0}return re instanceof Set}catch{}return!1}function jl(re){if(!x||!re||typeof re!="object")return!1;try{x.call(re,x);try{g.call(re,g)}catch{return!0}return re instanceof WeakSet}catch{}return!1}function Wl(re){return!re||typeof re!="object"?!1:typeof HTMLElement<"u"&&re instanceof HTMLElement?!0:typeof re.nodeName=="string"&&typeof re.getAttribute=="function"}function _a(re,se){if(re.length>se.maxStringLength){var ht=re.length-se.maxStringLength,xt="... "+ht+" more character"+(ht>1?"s":"");return _a(L.call(re,0,se.maxStringLength),se)+xt}var Et=X[se.quoteStyle||"single"];Et.lastIndex=0;var rt=F.call(F.call(re,Et,"\\$1"),/[\x00-\x1f]/g,xa);return ie(rt,"single",se)}function xa(re){var se=re.charCodeAt(0),ht={8:"b",9:"t",10:"n",12:"f",13:"r"}[se];return ht?"\\"+ht:"\\x"+(se<16?"0":"")+j.call(se.toString(16))}function Ji(re){return"Object("+re+")"}function xi(re){return re+" { ? }"}function es(re,se,ht,xt){var Et=xt?wa(ht,xt):Z.call(ht,", ");return re+" ("+se+") {"+Et+"}"}function dh(re){for(var se=0;se<re.length;se++)if(pr(re[se],`
`)>=0)return!1;return!0}function Vl(re,se){var ht;if(re.indent==="	")ht="	";else if(typeof re.indent=="number"&&re.indent>0)ht=Z.call(Array(re.indent+1)," ");else return null;return{base:ht,prev:Z.call(Array(se+1),ht)}}function wa(re,se){if(re.length===0)return"";var ht=`
`+se.prev+se.base;return ht+Z.call(re,","+ht)+`
`+se.prev}function Sa(re,se){var ht=_e(re),xt=[];if(ht){xt.length=re.length;for(var Et=0;Et<re.length;Et++)xt[Et]=Dt(re,Et)?se(re[Et],re):""}var rt=typeof Q=="function"?Q(re):[],Br;if(le){Br={};for(var si=0;si<rt.length;si++)Br["$"+rt[si]]=rt[si]}for(var _r in re)Dt(re,_r)&&(ht&&String(Number(_r))===_r&&_r<re.length||le&&Br["$"+_r]instanceof Symbol||(q.call(/[^\w$]/,_r)?xt.push(se(_r,re)+": "+se(re[_r],re)):xt.push(_r+": "+se(re[_r],re))));if(typeof Q=="function")for(var yn=0;yn<rt.length;yn++)B.call(re,rt[yn])&&xt.push("["+se(rt[yn])+"]: "+se(re[rt[yn]],re));return xt}return Fp}var Bp,bv;function Qw(){if(bv)return Bp;bv=1;var n=Pf(),e=hh(),t=function(d,p,g){for(var v=d,x;(x=v.next)!=null;v=x)if(x.key===p)return v.next=x.next,g||(x.next=d.next,d.next=x),x},r=function(d,p){if(d){var g=t(d,p);return g&&g.value}},s=function(d,p,g){var v=t(d,p);v?v.value=g:d.next={key:p,next:d.next,value:g}},o=function(d,p){return d?!!t(d,p):!1},c=function(d,p){if(d)return t(d,p,!0)};return Bp=function(){var p,g={assert:function(v){if(!g.has(v))throw new e("Side channel does not contain "+n(v))},delete:function(v){var x=p&&p.next,S=c(p,v);return S&&x&&x===S&&(p=void 0),!!S},get:function(v){return r(p,v)},has:function(v){return o(p,v)},set:function(v,x){p||(p={next:void 0}),s(p,v,x)}};return g},Bp}var Lp,Tv;function B_(){return Tv||(Tv=1,Lp=Object),Lp}var Up,Av;function Kw(){return Av||(Av=1,Up=Error),Up}var zp,Cv;function Zw(){return Cv||(Cv=1,zp=EvalError),zp}var Gp,Pv;function Jw(){return Pv||(Pv=1,Gp=RangeError),Gp}var Hp,Rv;function eS(){return Rv||(Rv=1,Hp=ReferenceError),Hp}var $p,Iv;function tS(){return Iv||(Iv=1,$p=SyntaxError),$p}var jp,kv;function rS(){return kv||(kv=1,jp=URIError),jp}var Wp,Mv;function nS(){return Mv||(Mv=1,Wp=Math.abs),Wp}var Vp,Dv;function iS(){return Dv||(Dv=1,Vp=Math.floor),Vp}var Xp,Nv;function sS(){return Nv||(Nv=1,Xp=Math.max),Xp}var Yp,Ov;function aS(){return Ov||(Ov=1,Yp=Math.min),Yp}var qp,Fv;function oS(){return Fv||(Fv=1,qp=Math.pow),qp}var Qp,Bv;function lS(){return Bv||(Bv=1,Qp=Math.round),Qp}var Kp,Lv;function uS(){return Lv||(Lv=1,Kp=Number.isNaN||function(e){return e!==e}),Kp}var Zp,Uv;function hS(){if(Uv)return Zp;Uv=1;var n=uS();return Zp=function(t){return n(t)||t===0?t:t<0?-1:1},Zp}var Jp,zv;function cS(){return zv||(zv=1,Jp=Object.getOwnPropertyDescriptor),Jp}var em,Gv;function L_(){if(Gv)return em;Gv=1;var n=cS();if(n)try{n([],"length")}catch{n=null}return em=n,em}var tm,Hv;function dS(){if(Hv)return tm;Hv=1;var n=Object.defineProperty||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return tm=n,tm}var rm,$v;function fS(){return $v||($v=1,rm=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,t);if(d.value!==s||d.enumerable!==!0)return!1}return!0}),rm}var nm,jv;function pS(){if(jv)return nm;jv=1;var n=typeof Symbol<"u"&&Symbol,e=fS();return nm=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},nm}var im,Wv;function U_(){return Wv||(Wv=1,im=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),im}var sm,Vv;function z_(){if(Vv)return sm;Vv=1;var n=B_();return sm=n.getPrototypeOf||null,sm}var am,Xv;function mS(){if(Xv)return am;Xv=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",s=function(p,g){for(var v=[],x=0;x<p.length;x+=1)v[x]=p[x];for(var S=0;S<g.length;S+=1)v[S+p.length]=g[S];return v},o=function(p,g){for(var v=[],x=g,S=0;x<p.length;x+=1,S+=1)v[S]=p[x];return v},c=function(d,p){for(var g="",v=0;v<d.length;v+=1)g+=d[v],v+1<d.length&&(g+=p);return g};return am=function(p){var g=this;if(typeof g!="function"||e.apply(g)!==r)throw new TypeError(n+g);for(var v=o(arguments,1),x,S=function(){if(this instanceof x){var M=g.apply(this,s(v,arguments));return Object(M)===M?M:this}return g.apply(p,s(v,arguments))},b=t(0,g.length-v.length),T=[],R=0;R<b;R++)T[R]="$"+R;if(x=Function("binder","return function ("+c(T,",")+"){ return binder.apply(this,arguments); }")(S),g.prototype){var P=function(){};P.prototype=g.prototype,x.prototype=new P,P.prototype=null}return x},am}var om,Yv;function Rf(){if(Yv)return om;Yv=1;var n=mS();return om=Function.prototype.bind||n,om}var lm,qv;function ey(){return qv||(qv=1,lm=Function.prototype.call),lm}var um,Qv;function G_(){return Qv||(Qv=1,um=Function.prototype.apply),um}var hm,Kv;function gS(){return Kv||(Kv=1,hm=typeof Reflect<"u"&&Reflect&&Reflect.apply),hm}var cm,Zv;function yS(){if(Zv)return cm;Zv=1;var n=Rf(),e=G_(),t=ey(),r=gS();return cm=r||n.call(t,e),cm}var dm,Jv;function H_(){if(Jv)return dm;Jv=1;var n=Rf(),e=hh(),t=ey(),r=yS();return dm=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return r(n,t,o)},dm}var fm,e0;function vS(){if(e0)return fm;e0=1;var n=H_(),e=L_(),t;try{t=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var r=!!t&&e&&e(Object.prototype,"__proto__"),s=Object,o=s.getPrototypeOf;return fm=r&&typeof r.get=="function"?n([r.get]):typeof o=="function"?function(d){return o(d==null?d:s(d))}:!1,fm}var pm,t0;function _S(){if(t0)return pm;t0=1;var n=U_(),e=z_(),t=vS();return pm=n?function(s){return n(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:t?function(s){return t(s)}:null,pm}var mm,r0;function xS(){if(r0)return mm;r0=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Rf();return mm=t.call(n,e),mm}var gm,n0;function ty(){if(n0)return gm;n0=1;var n,e=B_(),t=Kw(),r=Zw(),s=Jw(),o=eS(),c=tS(),d=hh(),p=rS(),g=nS(),v=iS(),x=sS(),S=aS(),b=oS(),T=lS(),R=hS(),P=Function,M=function(Re){try{return P('"use strict"; return ('+Re+").constructor;")()}catch{}},L=L_(),F=dS(),j=function(){throw new d},U=L?function(){try{return arguments.callee,j}catch{try{return L(arguments,"callee").get}catch{return j}}}():j,q=pS()(),D=_S(),Z=z_(),ue=U_(),ce=G_(),Se=ey(),Q={},J=typeof Uint8Array>"u"||!D?n:D(Uint8Array),le={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":q&&D?D([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":Q,"%AsyncGenerator%":Q,"%AsyncGeneratorFunction%":Q,"%AsyncIteratorPrototype%":Q,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":P,"%GeneratorFunction%":Q,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":q&&D?D(D([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!q||!D?n:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":L,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":s,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!q||!D?n:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":q&&D?D(""[Symbol.iterator]()):n,"%Symbol%":q?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":U,"%TypedArray%":J,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet,"%Function.prototype.call%":Se,"%Function.prototype.apply%":ce,"%Object.defineProperty%":F,"%Object.getPrototypeOf%":Z,"%Math.abs%":g,"%Math.floor%":v,"%Math.max%":x,"%Math.min%":S,"%Math.pow%":b,"%Math.round%":T,"%Math.sign%":R,"%Reflect.getPrototypeOf%":ue};if(D)try{null.error}catch(Re){var be=D(D(Re));le["%Error.prototype%"]=be}var B=function Re(ye){var ke;if(ye==="%AsyncFunction%")ke=M("async function () {}");else if(ye==="%GeneratorFunction%")ke=M("function* () {}");else if(ye==="%AsyncGeneratorFunction%")ke=M("async function* () {}");else if(ye==="%AsyncGenerator%"){var Ue=Re("%AsyncGeneratorFunction%");Ue&&(ke=Ue.prototype)}else if(ye==="%AsyncIteratorPrototype%"){var We=Re("%AsyncGenerator%");We&&D&&(ke=D(We.prototype))}return le[ye]=ke,ke},G={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=Rf(),H=xS(),N=C.call(Se,Array.prototype.concat),I=C.call(ce,Array.prototype.splice),z=C.call(Se,String.prototype.replace),X=C.call(Se,String.prototype.slice),ie=C.call(Se,RegExp.prototype.exec),he=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pe=/\\(\\)?/g,_e=function(ye){var ke=X(ye,0,1),Ue=X(ye,-1);if(ke==="%"&&Ue!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(Ue==="%"&&ke!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var We=[];return z(ye,he,function(lt,$e,Ve,Dt){We[We.length]=Ve?z(Dt,pe,"$1"):$e||lt}),We},Ae=function(ye,ke){var Ue=ye,We;if(H(G,Ue)&&(We=G[Ue],Ue="%"+We[0]+"%"),H(le,Ue)){var lt=le[Ue];if(lt===Q&&(lt=B(Ue)),typeof lt>"u"&&!ke)throw new d("intrinsic "+ye+" exists, but is not available. Please file an issue!");return{alias:We,name:Ue,value:lt}}throw new c("intrinsic "+ye+" does not exist!")};return gm=function(ye,ke){if(typeof ye!="string"||ye.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ke!="boolean")throw new d('"allowMissing" argument must be a boolean');if(ie(/^%?[^%]*%?$/,ye)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=_e(ye),We=Ue.length>0?Ue[0]:"",lt=Ae("%"+We+"%",ke),$e=lt.name,Ve=lt.value,Dt=!1,$t=lt.alias;$t&&(We=$t[0],I(Ue,N([0,1],$t)));for(var ni=1,pr=!0;ni<Ue.length;ni+=1){var mr=Ue[ni],ii=X(mr,0,1),_i=X(mr,-1);if((ii==='"'||ii==="'"||ii==="`"||_i==='"'||_i==="'"||_i==="`")&&ii!==_i)throw new c("property names with quotes must have matching quotes");if((mr==="constructor"||!pr)&&(Dt=!0),We+="."+mr,$e="%"+We+"%",H(le,$e))Ve=le[$e];else if(Ve!=null){if(!(mr in Ve)){if(!ke)throw new d("base intrinsic for "+ye+" exists, but the property is not available.");return}if(L&&ni+1>=Ue.length){var tn=L(Ve,mr);pr=!!tn,pr&&"get"in tn&&!("originalValue"in tn.get)?Ve=tn.get:Ve=Ve[mr]}else pr=H(Ve,mr),Ve=Ve[mr];pr&&!Dt&&(le[$e]=Ve)}}return Ve},gm}var ym,i0;function $_(){if(i0)return ym;i0=1;var n=ty(),e=H_(),t=e([n("%String.prototype.indexOf%")]);return ym=function(s,o){var c=n(s,!!o);return typeof c=="function"&&t(s,".prototype.")>-1?e([c]):c},ym}var vm,s0;function j_(){if(s0)return vm;s0=1;var n=ty(),e=$_(),t=Pf(),r=hh(),s=n("%Map%",!0),o=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),d=e("Map.prototype.has",!0),p=e("Map.prototype.delete",!0),g=e("Map.prototype.size",!0);return vm=!!s&&function(){var x,S={assert:function(b){if(!S.has(b))throw new r("Side channel does not contain "+t(b))},delete:function(b){if(x){var T=p(x,b);return g(x)===0&&(x=void 0),T}return!1},get:function(b){if(x)return o(x,b)},has:function(b){return x?d(x,b):!1},set:function(b,T){x||(x=new s),c(x,b,T)}};return S},vm}var _m,a0;function wS(){if(a0)return _m;a0=1;var n=ty(),e=$_(),t=Pf(),r=j_(),s=hh(),o=n("%WeakMap%",!0),c=e("WeakMap.prototype.get",!0),d=e("WeakMap.prototype.set",!0),p=e("WeakMap.prototype.has",!0),g=e("WeakMap.prototype.delete",!0);return _m=o?function(){var x,S,b={assert:function(T){if(!b.has(T))throw new s("Side channel does not contain "+t(T))},delete:function(T){if(o&&T&&(typeof T=="object"||typeof T=="function")){if(x)return g(x,T)}else if(r&&S)return S.delete(T);return!1},get:function(T){return o&&T&&(typeof T=="object"||typeof T=="function")&&x?c(x,T):S&&S.get(T)},has:function(T){return o&&T&&(typeof T=="object"||typeof T=="function")&&x?p(x,T):!!S&&S.has(T)},set:function(T,R){o&&T&&(typeof T=="object"||typeof T=="function")?(x||(x=new o),d(x,T,R)):r&&(S||(S=r()),S.set(T,R))}};return b}:r,_m}var xm,o0;function SS(){if(o0)return xm;o0=1;var n=hh(),e=Pf(),t=Qw(),r=j_(),s=wS(),o=s||r||t;return xm=function(){var d,p={assert:function(g){if(!p.has(g))throw new n("Side channel does not contain "+e(g))},delete:function(g){return!!d&&d.delete(g)},get:function(g){return d&&d.get(g)},has:function(g){return!!d&&d.has(g)},set:function(g,v){d||(d=o()),d.set(g,v)}};return p},xm}var wm,l0;function ry(){if(l0)return wm;l0=1;var n=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return wm={default:t.RFC3986,formatters:{RFC1738:function(r){return n.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},wm}var Sm,u0;function W_(){if(u0)return Sm;u0=1;var n=ry(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r=function(){for(var P=[],M=0;M<256;++M)P.push("%"+((M<16?"0":"")+M.toString(16)).toUpperCase());return P}(),s=function(M){for(;M.length>1;){var L=M.pop(),F=L.obj[L.prop];if(t(F)){for(var j=[],U=0;U<F.length;++U)typeof F[U]<"u"&&j.push(F[U]);L.obj[L.prop]=j}}},o=function(M,L){for(var F=L&&L.plainObjects?{__proto__:null}:{},j=0;j<M.length;++j)typeof M[j]<"u"&&(F[j]=M[j]);return F},c=function P(M,L,F){if(!L)return M;if(typeof L!="object"&&typeof L!="function"){if(t(M))M.push(L);else if(M&&typeof M=="object")(F&&(F.plainObjects||F.allowPrototypes)||!e.call(Object.prototype,L))&&(M[L]=!0);else return[M,L];return M}if(!M||typeof M!="object")return[M].concat(L);var j=M;return t(M)&&!t(L)&&(j=o(M,F)),t(M)&&t(L)?(L.forEach(function(U,q){if(e.call(M,q)){var D=M[q];D&&typeof D=="object"&&U&&typeof U=="object"?M[q]=P(D,U,F):M.push(U)}else M[q]=U}),M):Object.keys(L).reduce(function(U,q){var D=L[q];return e.call(U,q)?U[q]=P(U[q],D,F):U[q]=D,U},j)},d=function(M,L){return Object.keys(L).reduce(function(F,j){return F[j]=L[j],F},M)},p=function(P,M,L){var F=P.replace(/\+/g," ");if(L==="iso-8859-1")return F.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(F)}catch{return F}},g=1024,v=function(M,L,F,j,U){if(M.length===0)return M;var q=M;if(typeof M=="symbol"?q=Symbol.prototype.toString.call(M):typeof M!="string"&&(q=String(M)),F==="iso-8859-1")return escape(q).replace(/%u[0-9a-f]{4}/gi,function(J){return"%26%23"+parseInt(J.slice(2),16)+"%3B"});for(var D="",Z=0;Z<q.length;Z+=g){for(var ue=q.length>=g?q.slice(Z,Z+g):q,ce=[],Se=0;Se<ue.length;++Se){var Q=ue.charCodeAt(Se);if(Q===45||Q===46||Q===95||Q===126||Q>=48&&Q<=57||Q>=65&&Q<=90||Q>=97&&Q<=122||U===n.RFC1738&&(Q===40||Q===41)){ce[ce.length]=ue.charAt(Se);continue}if(Q<128){ce[ce.length]=r[Q];continue}if(Q<2048){ce[ce.length]=r[192|Q>>6]+r[128|Q&63];continue}if(Q<55296||Q>=57344){ce[ce.length]=r[224|Q>>12]+r[128|Q>>6&63]+r[128|Q&63];continue}Se+=1,Q=65536+((Q&1023)<<10|ue.charCodeAt(Se)&1023),ce[ce.length]=r[240|Q>>18]+r[128|Q>>12&63]+r[128|Q>>6&63]+r[128|Q&63]}D+=ce.join("")}return D},x=function(M){for(var L=[{obj:{o:M},prop:"o"}],F=[],j=0;j<L.length;++j)for(var U=L[j],q=U.obj[U.prop],D=Object.keys(q),Z=0;Z<D.length;++Z){var ue=D[Z],ce=q[ue];typeof ce=="object"&&ce!==null&&F.indexOf(ce)===-1&&(L.push({obj:q,prop:ue}),F.push(ce))}return s(L),M},S=function(M){return Object.prototype.toString.call(M)==="[object RegExp]"},b=function(M){return!M||typeof M!="object"?!1:!!(M.constructor&&M.constructor.isBuffer&&M.constructor.isBuffer(M))},T=function(M,L){return[].concat(M,L)},R=function(M,L){if(t(M)){for(var F=[],j=0;j<M.length;j+=1)F.push(L(M[j]));return F}return L(M)};return Sm={arrayToObject:o,assign:d,combine:T,compact:x,decode:p,encode:v,isBuffer:b,isRegExp:S,maybeMap:R,merge:c},Sm}var Em,h0;function ES(){if(h0)return Em;h0=1;var n=SS(),e=W_(),t=ry(),r=Object.prototype.hasOwnProperty,s={brackets:function(P){return P+"[]"},comma:"comma",indices:function(P,M){return P+"["+M+"]"},repeat:function(P){return P}},o=Array.isArray,c=Array.prototype.push,d=function(R,P){c.apply(R,o(P)?P:[P])},p=Date.prototype.toISOString,g=t.default,v={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:g,formatter:t.formatters[g],indices:!1,serializeDate:function(P){return p.call(P)},skipNulls:!1,strictNullHandling:!1},x=function(P){return typeof P=="string"||typeof P=="number"||typeof P=="boolean"||typeof P=="symbol"||typeof P=="bigint"},S={},b=function R(P,M,L,F,j,U,q,D,Z,ue,ce,Se,Q,J,le,be,B,G){for(var C=P,H=G,N=0,I=!1;(H=H.get(S))!==void 0&&!I;){var z=H.get(P);if(N+=1,typeof z<"u"){if(z===N)throw new RangeError("Cyclic object value");I=!0}typeof H.get(S)>"u"&&(N=0)}if(typeof ue=="function"?C=ue(M,C):C instanceof Date?C=Q(C):L==="comma"&&o(C)&&(C=e.maybeMap(C,function($e){return $e instanceof Date?Q($e):$e})),C===null){if(U)return Z&&!be?Z(M,v.encoder,B,"key",J):M;C=""}if(x(C)||e.isBuffer(C)){if(Z){var X=be?M:Z(M,v.encoder,B,"key",J);return[le(X)+"="+le(Z(C,v.encoder,B,"value",J))]}return[le(M)+"="+le(String(C))]}var ie=[];if(typeof C>"u")return ie;var he;if(L==="comma"&&o(C))be&&Z&&(C=e.maybeMap(C,Z)),he=[{value:C.length>0?C.join(",")||null:void 0}];else if(o(ue))he=ue;else{var pe=Object.keys(C);he=ce?pe.sort(ce):pe}var _e=D?String(M).replace(/\./g,"%2E"):String(M),Ae=F&&o(C)&&C.length===1?_e+"[]":_e;if(j&&o(C)&&C.length===0)return Ae+"[]";for(var Re=0;Re<he.length;++Re){var ye=he[Re],ke=typeof ye=="object"&&ye&&typeof ye.value<"u"?ye.value:C[ye];if(!(q&&ke===null)){var Ue=Se&&D?String(ye).replace(/\./g,"%2E"):String(ye),We=o(C)?typeof L=="function"?L(Ae,Ue):Ae:Ae+(Se?"."+Ue:"["+Ue+"]");G.set(P,N);var lt=n();lt.set(S,G),d(ie,R(ke,We,L,F,j,U,q,D,L==="comma"&&be&&o(C)?null:Z,ue,ce,Se,Q,J,le,be,B,lt))}}return ie},T=function(P){if(!P)return v;if(typeof P.allowEmptyArrays<"u"&&typeof P.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof P.encodeDotInKeys<"u"&&typeof P.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(P.encoder!==null&&typeof P.encoder<"u"&&typeof P.encoder!="function")throw new TypeError("Encoder has to be a function.");var M=P.charset||v.charset;if(typeof P.charset<"u"&&P.charset!=="utf-8"&&P.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var L=t.default;if(typeof P.format<"u"){if(!r.call(t.formatters,P.format))throw new TypeError("Unknown format option provided.");L=P.format}var F=t.formatters[L],j=v.filter;(typeof P.filter=="function"||o(P.filter))&&(j=P.filter);var U;if(P.arrayFormat in s?U=P.arrayFormat:"indices"in P?U=P.indices?"indices":"repeat":U=v.arrayFormat,"commaRoundTrip"in P&&typeof P.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var q=typeof P.allowDots>"u"?P.encodeDotInKeys===!0?!0:v.allowDots:!!P.allowDots;return{addQueryPrefix:typeof P.addQueryPrefix=="boolean"?P.addQueryPrefix:v.addQueryPrefix,allowDots:q,allowEmptyArrays:typeof P.allowEmptyArrays=="boolean"?!!P.allowEmptyArrays:v.allowEmptyArrays,arrayFormat:U,charset:M,charsetSentinel:typeof P.charsetSentinel=="boolean"?P.charsetSentinel:v.charsetSentinel,commaRoundTrip:!!P.commaRoundTrip,delimiter:typeof P.delimiter>"u"?v.delimiter:P.delimiter,encode:typeof P.encode=="boolean"?P.encode:v.encode,encodeDotInKeys:typeof P.encodeDotInKeys=="boolean"?P.encodeDotInKeys:v.encodeDotInKeys,encoder:typeof P.encoder=="function"?P.encoder:v.encoder,encodeValuesOnly:typeof P.encodeValuesOnly=="boolean"?P.encodeValuesOnly:v.encodeValuesOnly,filter:j,format:L,formatter:F,serializeDate:typeof P.serializeDate=="function"?P.serializeDate:v.serializeDate,skipNulls:typeof P.skipNulls=="boolean"?P.skipNulls:v.skipNulls,sort:typeof P.sort=="function"?P.sort:null,strictNullHandling:typeof P.strictNullHandling=="boolean"?P.strictNullHandling:v.strictNullHandling}};return Em=function(R,P){var M=R,L=T(P),F,j;typeof L.filter=="function"?(j=L.filter,M=j("",M)):o(L.filter)&&(j=L.filter,F=j);var U=[];if(typeof M!="object"||M===null)return"";var q=s[L.arrayFormat],D=q==="comma"&&L.commaRoundTrip;F||(F=Object.keys(M)),L.sort&&F.sort(L.sort);for(var Z=n(),ue=0;ue<F.length;++ue){var ce=F[ue],Se=M[ce];L.skipNulls&&Se===null||d(U,b(Se,ce,q,D,L.allowEmptyArrays,L.strictNullHandling,L.skipNulls,L.encodeDotInKeys,L.encode?L.encoder:null,L.filter,L.sort,L.allowDots,L.serializeDate,L.format,L.formatter,L.encodeValuesOnly,L.charset,Z))}var Q=U.join(L.delimiter),J=L.addQueryPrefix===!0?"?":"";return L.charsetSentinel&&(L.charset==="iso-8859-1"?J+="utf8=%26%2310003%3B&":J+="utf8=%E2%9C%93&"),Q.length>0?J+Q:""},Em}var bm,c0;function bS(){if(c0)return bm;c0=1;var n=W_(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(S){return S.replace(/&#(\d+);/g,function(b,T){return String.fromCharCode(parseInt(T,10))})},o=function(S,b,T){if(S&&typeof S=="string"&&b.comma&&S.indexOf(",")>-1)return S.split(",");if(b.throwOnLimitExceeded&&T>=b.arrayLimit)throw new RangeError("Array limit exceeded. Only "+b.arrayLimit+" element"+(b.arrayLimit===1?"":"s")+" allowed in an array.");return S},c="utf8=%26%2310003%3B",d="utf8=%E2%9C%93",p=function(b,T){var R={__proto__:null},P=T.ignoreQueryPrefix?b.replace(/^\?/,""):b;P=P.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var M=T.parameterLimit===1/0?void 0:T.parameterLimit,L=P.split(T.delimiter,T.throwOnLimitExceeded?M+1:M);if(T.throwOnLimitExceeded&&L.length>M)throw new RangeError("Parameter limit exceeded. Only "+M+" parameter"+(M===1?"":"s")+" allowed.");var F=-1,j,U=T.charset;if(T.charsetSentinel)for(j=0;j<L.length;++j)L[j].indexOf("utf8=")===0&&(L[j]===d?U="utf-8":L[j]===c&&(U="iso-8859-1"),F=j,j=L.length);for(j=0;j<L.length;++j)if(j!==F){var q=L[j],D=q.indexOf("]="),Z=D===-1?q.indexOf("="):D+1,ue,ce;Z===-1?(ue=T.decoder(q,r.decoder,U,"key"),ce=T.strictNullHandling?null:""):(ue=T.decoder(q.slice(0,Z),r.decoder,U,"key"),ce=n.maybeMap(o(q.slice(Z+1),T,t(R[ue])?R[ue].length:0),function(Q){return T.decoder(Q,r.decoder,U,"value")})),ce&&T.interpretNumericEntities&&U==="iso-8859-1"&&(ce=s(String(ce))),q.indexOf("[]=")>-1&&(ce=t(ce)?[ce]:ce);var Se=e.call(R,ue);Se&&T.duplicates==="combine"?R[ue]=n.combine(R[ue],ce):(!Se||T.duplicates==="last")&&(R[ue]=ce)}return R},g=function(S,b,T,R){var P=0;if(S.length>0&&S[S.length-1]==="[]"){var M=S.slice(0,-1).join("");P=Array.isArray(b)&&b[M]?b[M].length:0}for(var L=R?b:o(b,T,P),F=S.length-1;F>=0;--F){var j,U=S[F];if(U==="[]"&&T.parseArrays)j=T.allowEmptyArrays&&(L===""||T.strictNullHandling&&L===null)?[]:n.combine([],L);else{j=T.plainObjects?{__proto__:null}:{};var q=U.charAt(0)==="["&&U.charAt(U.length-1)==="]"?U.slice(1,-1):U,D=T.decodeDotInKeys?q.replace(/%2E/g,"."):q,Z=parseInt(D,10);!T.parseArrays&&D===""?j={0:L}:!isNaN(Z)&&U!==D&&String(Z)===D&&Z>=0&&T.parseArrays&&Z<=T.arrayLimit?(j=[],j[Z]=L):D!=="__proto__"&&(j[D]=L)}L=j}return L},v=function(b,T,R,P){if(b){var M=R.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,L=/(\[[^[\]]*])/,F=/(\[[^[\]]*])/g,j=R.depth>0&&L.exec(M),U=j?M.slice(0,j.index):M,q=[];if(U){if(!R.plainObjects&&e.call(Object.prototype,U)&&!R.allowPrototypes)return;q.push(U)}for(var D=0;R.depth>0&&(j=F.exec(M))!==null&&D<R.depth;){if(D+=1,!R.plainObjects&&e.call(Object.prototype,j[1].slice(1,-1))&&!R.allowPrototypes)return;q.push(j[1])}if(j){if(R.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+R.depth+" and strictDepth is true");q.push("["+M.slice(j.index)+"]")}return g(q,T,R,P)}},x=function(b){if(!b)return r;if(typeof b.allowEmptyArrays<"u"&&typeof b.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.decodeDotInKeys<"u"&&typeof b.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(b.decoder!==null&&typeof b.decoder<"u"&&typeof b.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof b.throwOnLimitExceeded<"u"&&typeof b.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var T=typeof b.charset>"u"?r.charset:b.charset,R=typeof b.duplicates>"u"?r.duplicates:b.duplicates;if(R!=="combine"&&R!=="first"&&R!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var P=typeof b.allowDots>"u"?b.decodeDotInKeys===!0?!0:r.allowDots:!!b.allowDots;return{allowDots:P,allowEmptyArrays:typeof b.allowEmptyArrays=="boolean"?!!b.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof b.allowPrototypes=="boolean"?b.allowPrototypes:r.allowPrototypes,allowSparse:typeof b.allowSparse=="boolean"?b.allowSparse:r.allowSparse,arrayLimit:typeof b.arrayLimit=="number"?b.arrayLimit:r.arrayLimit,charset:T,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:r.charsetSentinel,comma:typeof b.comma=="boolean"?b.comma:r.comma,decodeDotInKeys:typeof b.decodeDotInKeys=="boolean"?b.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof b.decoder=="function"?b.decoder:r.decoder,delimiter:typeof b.delimiter=="string"||n.isRegExp(b.delimiter)?b.delimiter:r.delimiter,depth:typeof b.depth=="number"||b.depth===!1?+b.depth:r.depth,duplicates:R,ignoreQueryPrefix:b.ignoreQueryPrefix===!0,interpretNumericEntities:typeof b.interpretNumericEntities=="boolean"?b.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof b.parameterLimit=="number"?b.parameterLimit:r.parameterLimit,parseArrays:b.parseArrays!==!1,plainObjects:typeof b.plainObjects=="boolean"?b.plainObjects:r.plainObjects,strictDepth:typeof b.strictDepth=="boolean"?!!b.strictDepth:r.strictDepth,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof b.throwOnLimitExceeded=="boolean"?b.throwOnLimitExceeded:!1}};return bm=function(S,b){var T=x(b);if(S===""||S===null||typeof S>"u")return T.plainObjects?{__proto__:null}:{};for(var R=typeof S=="string"?p(S,T):S,P=T.plainObjects?{__proto__:null}:{},M=Object.keys(R),L=0;L<M.length;++L){var F=M[L],j=v(F,R[F],T,typeof S=="string");P=n.merge(P,j,T)}return T.allowSparse===!0?P:n.compact(P)},bm}var Tm,d0;function TS(){if(d0)return Tm;d0=1;var n=ES(),e=bS(),t=ry();return Tm={formats:t,parse:e,stringify:n},Tm}var f0;function AS(){if(f0)return Al;f0=1;var n=Vw();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],c=["{","}","|","\\","^","`"].concat(o),d=["'"].concat(c),p=["%","/","?",";","#"].concat(d),g=["/","?","#"],v=255,x=/^[+a-z0-9A-Z_-]{0,63}$/,S=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},R={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=TS();function M(U,q,D){if(U&&typeof U=="object"&&U instanceof e)return U;var Z=new e;return Z.parse(U,q,D),Z}e.prototype.parse=function(U,q,D){if(typeof U!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof U);var Z=U.indexOf("?"),ue=Z!==-1&&Z<U.indexOf("#")?"?":"#",ce=U.split(ue),Se=/\\/g;ce[0]=ce[0].replace(Se,"/"),U=ce.join(ue);var Q=U;if(Q=Q.trim(),!D&&U.split("#").length===1){var J=s.exec(Q);if(J)return this.path=Q,this.href=Q,this.pathname=J[1],J[2]?(this.search=J[2],q?this.query=P.parse(this.search.substr(1)):this.query=this.search.substr(1)):q&&(this.search="",this.query={}),this}var le=t.exec(Q);if(le){le=le[0];var be=le.toLowerCase();this.protocol=be,Q=Q.substr(le.length)}if(D||le||Q.match(/^\/\/[^@/]+@[^@/]+/)){var B=Q.substr(0,2)==="//";B&&!(le&&T[le])&&(Q=Q.substr(2),this.slashes=!0)}if(!T[le]&&(B||le&&!R[le])){for(var G=-1,C=0;C<g.length;C++){var H=Q.indexOf(g[C]);H!==-1&&(G===-1||H<G)&&(G=H)}var N,I;G===-1?I=Q.lastIndexOf("@"):I=Q.lastIndexOf("@",G),I!==-1&&(N=Q.slice(0,I),Q=Q.slice(I+1),this.auth=decodeURIComponent(N)),G=-1;for(var C=0;C<p.length;C++){var H=Q.indexOf(p[C]);H!==-1&&(G===-1||H<G)&&(G=H)}G===-1&&(G=Q.length),this.host=Q.slice(0,G),Q=Q.slice(G),this.parseHost(),this.hostname=this.hostname||"";var z=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!z)for(var X=this.hostname.split(/\./),C=0,ie=X.length;C<ie;C++){var he=X[C];if(he&&!he.match(x)){for(var pe="",_e=0,Ae=he.length;_e<Ae;_e++)he.charCodeAt(_e)>127?pe+="x":pe+=he[_e];if(!pe.match(x)){var Re=X.slice(0,C),ye=X.slice(C+1),ke=he.match(S);ke&&(Re.push(ke[1]),ye.unshift(ke[2])),ye.length&&(Q="/"+ye.join(".")+Q),this.hostname=Re.join(".");break}}}this.hostname.length>v?this.hostname="":this.hostname=this.hostname.toLowerCase(),z||(this.hostname=n.toASCII(this.hostname));var Ue=this.port?":"+this.port:"",We=this.hostname||"";this.host=We+Ue,this.href+=this.host,z&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!b[be])for(var C=0,ie=d.length;C<ie;C++){var lt=d[C];if(Q.indexOf(lt)!==-1){var $e=encodeURIComponent(lt);$e===lt&&($e=escape(lt)),Q=Q.split(lt).join($e)}}var Ve=Q.indexOf("#");Ve!==-1&&(this.hash=Q.substr(Ve),Q=Q.slice(0,Ve));var Dt=Q.indexOf("?");if(Dt!==-1?(this.search=Q.substr(Dt),this.query=Q.substr(Dt+1),q&&(this.query=P.parse(this.query)),Q=Q.slice(0,Dt)):q&&(this.search="",this.query={}),Q&&(this.pathname=Q),R[be]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ue=this.pathname||"",$t=this.search||"";this.path=Ue+$t}return this.href=this.format(),this};function L(U){return typeof U=="string"&&(U=M(U)),U instanceof e?U.format():e.prototype.format.call(U)}e.prototype.format=function(){var U=this.auth||"";U&&(U=encodeURIComponent(U),U=U.replace(/%3A/i,":"),U+="@");var q=this.protocol||"",D=this.pathname||"",Z=this.hash||"",ue=!1,ce="";this.host?ue=U+this.host:this.hostname&&(ue=U+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ue+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(ce=P.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Se=this.search||ce&&"?"+ce||"";return q&&q.substr(-1)!==":"&&(q+=":"),this.slashes||(!q||R[q])&&ue!==!1?(ue="//"+(ue||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):ue||(ue=""),Z&&Z.charAt(0)!=="#"&&(Z="#"+Z),Se&&Se.charAt(0)!=="?"&&(Se="?"+Se),D=D.replace(/[?#]/g,function(Q){return encodeURIComponent(Q)}),Se=Se.replace("#","%23"),q+ue+D+Se+Z};function F(U,q){return M(U,!1,!0).resolve(q)}e.prototype.resolve=function(U){return this.resolveObject(M(U,!1,!0)).format()};function j(U,q){return U?M(U,!1,!0).resolveObject(q):q}return e.prototype.resolveObject=function(U){if(typeof U=="string"){var q=new e;q.parse(U,!1,!0),U=q}for(var D=new e,Z=Object.keys(this),ue=0;ue<Z.length;ue++){var ce=Z[ue];D[ce]=this[ce]}if(D.hash=U.hash,U.href==="")return D.href=D.format(),D;if(U.slashes&&!U.protocol){for(var Se=Object.keys(U),Q=0;Q<Se.length;Q++){var J=Se[Q];J!=="protocol"&&(D[J]=U[J])}return R[D.protocol]&&D.hostname&&!D.pathname&&(D.pathname="/",D.path=D.pathname),D.href=D.format(),D}if(U.protocol&&U.protocol!==D.protocol){if(!R[U.protocol]){for(var le=Object.keys(U),be=0;be<le.length;be++){var B=le[be];D[B]=U[B]}return D.href=D.format(),D}if(D.protocol=U.protocol,!U.host&&!T[U.protocol]){for(var ie=(U.pathname||"").split("/");ie.length&&!(U.host=ie.shift()););U.host||(U.host=""),U.hostname||(U.hostname=""),ie[0]!==""&&ie.unshift(""),ie.length<2&&ie.unshift(""),D.pathname=ie.join("/")}else D.pathname=U.pathname;if(D.search=U.search,D.query=U.query,D.host=U.host||"",D.auth=U.auth,D.hostname=U.hostname||U.host,D.port=U.port,D.pathname||D.search){var G=D.pathname||"",C=D.search||"";D.path=G+C}return D.slashes=D.slashes||U.slashes,D.href=D.format(),D}var H=D.pathname&&D.pathname.charAt(0)==="/",N=U.host||U.pathname&&U.pathname.charAt(0)==="/",I=N||H||D.host&&U.pathname,z=I,X=D.pathname&&D.pathname.split("/")||[],ie=U.pathname&&U.pathname.split("/")||[],he=D.protocol&&!R[D.protocol];if(he&&(D.hostname="",D.port=null,D.host&&(X[0]===""?X[0]=D.host:X.unshift(D.host)),D.host="",U.protocol&&(U.hostname=null,U.port=null,U.host&&(ie[0]===""?ie[0]=U.host:ie.unshift(U.host)),U.host=null),I=I&&(ie[0]===""||X[0]==="")),N)D.host=U.host||U.host===""?U.host:D.host,D.hostname=U.hostname||U.hostname===""?U.hostname:D.hostname,D.search=U.search,D.query=U.query,X=ie;else if(ie.length)X||(X=[]),X.pop(),X=X.concat(ie),D.search=U.search,D.query=U.query;else if(U.search!=null){if(he){D.host=X.shift(),D.hostname=D.host;var pe=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;pe&&(D.auth=pe.shift(),D.hostname=pe.shift(),D.host=D.hostname)}return D.search=U.search,D.query=U.query,(D.pathname!==null||D.search!==null)&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D}if(!X.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var _e=X.slice(-1)[0],Ae=(D.host||U.host||X.length>1)&&(_e==="."||_e==="..")||_e==="",Re=0,ye=X.length;ye>=0;ye--)_e=X[ye],_e==="."?X.splice(ye,1):_e===".."?(X.splice(ye,1),Re++):Re&&(X.splice(ye,1),Re--);if(!I&&!z)for(;Re--;Re)X.unshift("..");I&&X[0]!==""&&(!X[0]||X[0].charAt(0)!=="/")&&X.unshift(""),Ae&&X.join("/").substr(-1)!=="/"&&X.push("");var ke=X[0]===""||X[0]&&X[0].charAt(0)==="/";if(he){D.hostname=ke?"":X.length?X.shift():"",D.host=D.hostname;var pe=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;pe&&(D.auth=pe.shift(),D.hostname=pe.shift(),D.host=D.hostname)}return I=I||D.host&&X.length,I&&!ke&&X.unshift(""),X.length>0?D.pathname=X.join("/"):(D.pathname=null,D.path=null),(D.pathname!==null||D.search!==null)&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=U.auth||D.auth,D.slashes=D.slashes||U.slashes,D.href=D.format(),D},e.prototype.parseHost=function(){var U=this.host,q=r.exec(U);q&&(q=q[0],q!==":"&&(this.port=q.substr(1)),U=U.substr(0,U.length-q.length)),U&&(this.hostname=U)},Al.parse=M,Al.resolve=F,Al.resolveObject=j,Al.format=L,Al.Url=e,Al}AS();const p0={};function dt(n,e,t=3){if(p0[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${n}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`),console.warn(r))),p0[e]=!0}function $i(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function fc(n){return n.split("?")[0].split("#")[0]}function CS(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function PS(n,e,t){return n.replace(new RegExp(CS(e),"g"),t)}function RS(n,e){let t="",r=0,s=-1,o=0,c=-1;for(let d=0;d<=n.length;++d){if(d<n.length)c=n.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(s===d-1||o===1))if(s!==d-1&&o===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const p=t.lastIndexOf("/");if(p!==t.length-1){p===-1?(t="",r=0):(t=t.slice(0,p),r=t.length-1-t.lastIndexOf("/")),s=d,o=0;continue}}else if(t.length===2||t.length===1){t="",r=0,s=d,o=0;continue}}}else t.length>0?t+=`/${n.slice(s+1,d)}`:t=n.slice(s+1,d),r=d-s-1;s=d,o=0}else c===46&&o!==-1?++o:o=-1}return t}const Fr={toPosix(n){return PS(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},isBlobUrl(n){return n.startsWith("blob:")},hasProtocol(n){return/^[^/:]+:/.test(this.toPosix(n))},getProtocol(n){$i(n),n=this.toPosix(n);const e=/^file:\/\/\//.exec(n);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(n);return t?t[0]:""},toAbsolute(n,e,t){if($i(n),this.isDataUrl(n)||this.isBlobUrl(n))return n;const r=fc(this.toPosix(e??Be.ADAPTER.getBaseUrl())),s=fc(this.toPosix(t??this.rootname(r)));return n=this.toPosix(n),n.startsWith("/")?Fr.join(s,n.slice(1)):this.isAbsolute(n)?n:this.join(r,n)},normalize(n){if($i(n),n.length===0)return".";if(this.isDataUrl(n)||this.isBlobUrl(n))return n;n=this.toPosix(n);let e="";const t=n.startsWith("/");this.hasProtocol(n)&&(e=this.rootname(n),n=n.slice(e.length));const r=n.endsWith("/");return n=RS(n),n.length>0&&r&&(n+="/"),t?`/${n}`:e+n},isAbsolute(n){return $i(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const r=n[t];if($i(r),r.length>0)if(e===void 0)e=r;else{const s=n[t-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(n){if($i(n),n.length===0)return".";n=this.toPosix(n);let e=n.charCodeAt(0);const t=e===47;let r=-1,s=!0;const o=this.getProtocol(n),c=n;n=n.slice(o.length);for(let d=n.length-1;d>=1;--d)if(e=n.charCodeAt(d),e===47){if(!s){r=d;break}}else s=!1;return r===-1?t?"/":this.isUrl(c)?o+n:o:t&&r===1?"//":o+n.slice(0,r)},rootname(n){$i(n),n=this.toPosix(n);let e="";if(n.startsWith("/")?e="/":e=this.getProtocol(n),this.isUrl(n)){const t=n.indexOf("/",e.length);t!==-1?e=n.slice(0,t):e=n,e.endsWith("/")||(e+="/")}return e},basename(n,e){$i(n),e&&$i(e),n=fc(this.toPosix(n));let t=0,r=-1,s=!0,o;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";let c=e.length-1,d=-1;for(o=n.length-1;o>=0;--o){const p=n.charCodeAt(o);if(p===47){if(!s){t=o+1;break}}else d===-1&&(s=!1,d=o+1),c>=0&&(p===e.charCodeAt(c)?--c===-1&&(r=o):(c=-1,r=d))}return t===r?r=d:r===-1&&(r=n.length),n.slice(t,r)}for(o=n.length-1;o>=0;--o)if(n.charCodeAt(o)===47){if(!s){t=o+1;break}}else r===-1&&(s=!1,r=o+1);return r===-1?"":n.slice(t,r)},extname(n){$i(n),n=fc(this.toPosix(n));let e=-1,t=0,r=-1,s=!0,o=0;for(let c=n.length-1;c>=0;--c){const d=n.charCodeAt(c);if(d===47){if(!s){t=c+1;break}continue}r===-1&&(s=!1,r=c+1),d===46?e===-1?e=c:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===t+1?"":n.slice(e,r)},parse(n){$i(n);const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;n=fc(this.toPosix(n));let t=n.charCodeAt(0);const r=this.isAbsolute(n);let s;e.root=this.rootname(n),r||this.hasProtocol(n)?s=1:s=0;let o=-1,c=0,d=-1,p=!0,g=n.length-1,v=0;for(;g>=s;--g){if(t=n.charCodeAt(g),t===47){if(!p){c=g+1;break}continue}d===-1&&(p=!1,d=g+1),t===46?o===-1?o=g:v!==1&&(v=1):o!==-1&&(v=-1)}return o===-1||d===-1||v===0||v===1&&o===d-1&&o===c+1?d!==-1&&(c===0&&r?e.base=e.name=n.slice(1,d):e.base=e.name=n.slice(c,d)):(c===0&&r?(e.name=n.slice(1,o),e.base=n.slice(1,d)):(e.name=n.slice(c,o),e.base=n.slice(c,d)),e.ext=n.slice(o,d)),e.dir=this.dirname(n),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let Am;async function IS(){return Am??(Am=(async()=>{var o;const n=document.createElement("canvas").getContext("webgl");if(!n)return zn.UNPACK;const e=await new Promise(c=>{const d=document.createElement("video");d.onloadeddata=()=>c(d),d.onerror=()=>c(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!e)return zn.UNPACK;const t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t);const r=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,r),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,s),n.deleteFramebuffer(r),n.deleteTexture(t),(o=n.getExtension("WEBGL_lose_context"))==null||o.loseContext(),s[0]<=s[3]?zn.PMA:zn.UNPACK})()),Am}let Cm;function kS(){return typeof Cm>"u"&&(Cm=function(){var e;const n={stencil:!0,failIfMajorPerformanceCaveat:Be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Be.ADAPTER.getWebGLRenderingContext())return!1;const t=Be.ADAPTER.createCanvas();let r=t.getContext("webgl",n)||t.getContext("experimental-webgl",n);const s=!!((e=r==null?void 0:r.getContextAttributes())!=null&&e.stencil);if(r){const o=r.getExtension("WEBGL_lose_context");o&&o.loseContext()}return r=null,s}catch{return!1}}()),Cm}var MS={grad:.9,turn:360,rad:360/(2*Math.PI)},la=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Nr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},vi=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},V_=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},m0=function(n){return{r:vi(n.r,0,255),g:vi(n.g,0,255),b:vi(n.b,0,255),a:vi(n.a)}},Pm=function(n){return{r:Nr(n.r),g:Nr(n.g),b:Nr(n.b),a:Nr(n.a,3)}},DS=/^#([0-9a-f]{3,8})$/i,Rd=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},X_=function(n){var e=n.r,t=n.g,r=n.b,s=n.a,o=Math.max(e,t,r),c=o-Math.min(e,t,r),d=c?o===e?(t-r)/c:o===t?2+(r-e)/c:4+(e-t)/c:0;return{h:60*(d<0?d+6:d),s:o?c/o*100:0,v:o/255*100,a:s}},Y_=function(n){var e=n.h,t=n.s,r=n.v,s=n.a;e=e/360*6,t/=100,r/=100;var o=Math.floor(e),c=r*(1-t),d=r*(1-(e-o)*t),p=r*(1-(1-e+o)*t),g=o%6;return{r:255*[r,d,c,c,p,r][g],g:255*[p,r,r,d,c,c][g],b:255*[c,c,p,r,r,d][g],a:s}},g0=function(n){return{h:V_(n.h),s:vi(n.s,0,100),l:vi(n.l,0,100),a:vi(n.a)}},y0=function(n){return{h:Nr(n.h),s:Nr(n.s),l:Nr(n.l),a:Nr(n.a,3)}},v0=function(n){return Y_((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},Ic=function(n){return{h:(e=X_(n)).h,s:(s=(200-(t=e.s))*(r=e.v)/100)>0&&s<200?t*r/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,t,r,s},NS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,FS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,BS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,lg={string:[[function(n){var e=DS.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Nr(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Nr(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=FS.exec(n)||BS.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:m0({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=NS.exec(n)||OS.exec(n);if(!e)return null;var t,r,s=g0({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(MS[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return v0(s)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,s=n.a,o=s===void 0?1:s;return la(e)&&la(t)&&la(r)?m0({r:Number(e),g:Number(t),b:Number(r),a:Number(o)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,s=n.a,o=s===void 0?1:s;if(!la(e)||!la(t)||!la(r))return null;var c=g0({h:Number(e),s:Number(t),l:Number(r),a:Number(o)});return v0(c)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,s=n.a,o=s===void 0?1:s;if(!la(e)||!la(t)||!la(r))return null;var c=function(d){return{h:V_(d.h),s:vi(d.s,0,100),v:vi(d.v,0,100),a:vi(d.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(o)});return Y_(c)},"hsv"]]},_0=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},LS=function(n){return typeof n=="string"?_0(n.trim(),lg.string):typeof n=="object"&&n!==null?_0(n,lg.object):[null,void 0]},Rm=function(n,e){var t=Ic(n);return{h:t.h,s:vi(t.s+100*e,0,100),l:t.l,a:t.a}},Im=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},x0=function(n,e){var t=Ic(n);return{h:t.h,s:t.s,l:vi(t.l+100*e,0,100),a:t.a}},ug=function(){function n(e){this.parsed=LS(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Nr(Im(this.rgba),2)},n.prototype.isDark=function(){return Im(this.rgba)<.5},n.prototype.isLight=function(){return Im(this.rgba)>=.5},n.prototype.toHex=function(){return e=Pm(this.rgba),t=e.r,r=e.g,s=e.b,c=(o=e.a)<1?Rd(Nr(255*o)):"","#"+Rd(t)+Rd(r)+Rd(s)+c;var e,t,r,s,o,c},n.prototype.toRgb=function(){return Pm(this.rgba)},n.prototype.toRgbString=function(){return e=Pm(this.rgba),t=e.r,r=e.g,s=e.b,(o=e.a)<1?"rgba("+t+", "+r+", "+s+", "+o+")":"rgb("+t+", "+r+", "+s+")";var e,t,r,s,o},n.prototype.toHsl=function(){return y0(Ic(this.rgba))},n.prototype.toHslString=function(){return e=y0(Ic(this.rgba)),t=e.h,r=e.s,s=e.l,(o=e.a)<1?"hsla("+t+", "+r+"%, "+s+"%, "+o+")":"hsl("+t+", "+r+"%, "+s+"%)";var e,t,r,s,o},n.prototype.toHsv=function(){return e=X_(this.rgba),{h:Nr(e.h),s:Nr(e.s),v:Nr(e.v),a:Nr(e.a,3)};var e},n.prototype.invert=function(){return Ss({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Ss(Rm(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ss(Rm(this.rgba,-e))},n.prototype.grayscale=function(){return Ss(Rm(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Ss(x0(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Ss(x0(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Ss({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Nr(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Ic(this.rgba);return typeof e=="number"?Ss({h:e,s:t.s,l:t.l,a:t.a}):Nr(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Ss(e).toHex()},n}(),Ss=function(n){return n instanceof ug?n:new ug(n)},w0=[],US=function(n){n.forEach(function(e){w0.indexOf(e)<0&&(e(ug,lg),w0.push(e))})};function zS(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var s in t)r[t[s]]=s;var o={};n.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,p,g=r[this.toHex()];if(g)return g;if(c!=null&&c.closest){var v=this.toRgb(),x=1/0,S="black";if(!o.length)for(var b in t)o[b]=new n(t[b]).toRgb();for(var T in t){var R=(d=v,p=o[T],Math.pow(d.r-p.r,2)+Math.pow(d.g-p.g,2)+Math.pow(d.b-p.b,2));R<x&&(x=R,S=T)}return S}},e.string.push([function(c){var d=c.toLowerCase(),p=d==="transparent"?"#0000":t[d];return p?new n(p).toRgb():null},"name"])}US([zS]);const Vu=class ef{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof ef)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((s,o)=>s===t[o]);if(e!==null&&t!==null){const s=Object.keys(e),o=Object.keys(t);return s.length!==o.length?!1:s.every(c=>e[c]===t[c])}return e===t}toRgba(){const[e,t,r,s]=this._components;return{r:e,g:t,b:r,a:s}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,s]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e??[];const[t,r,s]=this._components;return e[0]=t,e[1]=r,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,r,s,o]=ef.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=s,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,s=this._int>>8&255,o=this._int&255;return t&&(r=r*e+.5|0,s=s*e+.5|0,o=o*e+.5|0),(e*255<<24)+(r<<16)+(s<<8)+o}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,s]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,r,s,o]=this._components;return e[0]=t,e[1]=r,e[2]=s,e[3]=o,e}normalize(e){let t,r,s,o;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;t=(c>>16&255)/255,r=(c>>8&255)/255,s=(c&255)/255,o=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,s,o=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,s,o=255]=e,t/=255,r/=255,s/=255,o/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const d=ef.HEX_PATTERN.exec(e);d&&(e=`#${d[2]}`)}const c=Ss(e);c.isValid()&&({r:t,g:r,b:s,a:o}=c.rgba,t/=255,r/=255,s/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=s,this._components[3]=o,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((s,o)=>{e[o]=Math.min(Math.max(s,t),r)}),e)}};Vu.shared=new Vu,Vu.temp=new Vu,Vu.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let zt=Vu;function GS(n){return dt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),zt.shared.setValue(n).toHex()}function HS(n){return dt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),zt.shared.setValue(n).toNumber()}function $S(){const n=[],e=[];for(let r=0;r<32;r++)n[r]=r,e[r]=r;n[tt.NORMAL_NPM]=tt.NORMAL,n[tt.ADD_NPM]=tt.ADD,n[tt.SCREEN_NPM]=tt.SCREEN,e[tt.NORMAL]=tt.NORMAL_NPM,e[tt.ADD]=tt.ADD_NPM,e[tt.SCREEN]=tt.SCREEN_NPM;const t=[];return t.push(e),t.push(n),t}const q_=$S();function Q_(n,e){return q_[e?1:0][n]}function jS(n,e=null){const t=n*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let r=0,s=0;r<t;r+=6,s+=4)e[r+0]=s+0,e[r+1]=s+1,e[r+2]=s+2,e[r+3]=s+0,e[r+4]=s+2,e[r+5]=s+3;return e}function K_(n){if(n.BYTES_PER_ELEMENT===4)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(n.BYTES_PER_ELEMENT===2){if(n instanceof Uint16Array)return"Uint16Array"}else if(n.BYTES_PER_ELEMENT===1&&n instanceof Uint8Array)return"Uint8Array";return null}function hf(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function S0(n){return!(n&n-1)&&!!n}function E0(n){let e=(n>65535?1:0)<<4;n>>>=e;let t=(n>255?1:0)<<3;return n>>>=t,e|=t,t=(n>15?1:0)<<2,n>>>=t,e|=t,t=(n>3?1:0)<<1,n>>>=t,e|=t,e|n>>1}function rh(n,e,t){const r=n.length;let s;if(e>=r||t===0)return;t=e+t>r?r-e:t;const o=r-t;for(s=e;s<o;++s)n[s]=n[s+t];n.length=o}function wo(n){return n===0?0:n<0?-1:1}let WS=0;function Gl(){return++WS}const hg=class{constructor(n,e,t,r){this.left=n,this.top=e,this.right=t,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};hg.EMPTY=new hg(0,0,0,0);let b0=hg;const T0={},Es=Object.create(null),mo=Object.create(null);class VS{constructor(e,t,r){this._canvas=Be.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Be.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function A0(n,e,t){for(let r=0,s=4*t*e;r<e;++r,s+=4)if(n[s+3]!==0)return!1;return!0}function C0(n,e,t,r,s){const o=4*e;for(let c=r,d=r*o+4*t;c<=s;++c,d+=o)if(n[d+3]!==0)return!1;return!0}function XS(n){const{width:e,height:t}=n,r=n.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,t).data;let o=0,c=0,d=e-1,p=t-1;for(;c<t&&A0(s,e,c);)++c;if(c===t)return b0.EMPTY;for(;A0(s,e,p);)--p;for(;C0(s,e,o,c,p);)++o;for(;C0(s,e,d,c,p);)--d;return++d,++p,new b0(o,c,d,p)}function YS(n){const e=XS(n),{width:t,height:r}=e;let s=null;if(!e.isEmpty()){const o=n.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");s=o.getImageData(e.left,e.top,t,r)}return{width:t,height:r,data:s}}function qS(n,e=globalThis.location){if(n.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(n,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function ma(n,e=1){var r;const t=(r=Be.RETINA_PREFIX)==null?void 0:r.exec(n);return t?parseFloat(t[1]):e}var De=(n=>(n.Renderer="renderer",n.Application="application",n.RendererSystem="renderer-webgl-system",n.RendererPlugin="renderer-webgl-plugin",n.CanvasRendererSystem="renderer-canvas-system",n.CanvasRendererPlugin="renderer-canvas-plugin",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n))(De||{});const cg=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={...typeof n.extension!="object"?{type:n.extension}:n.extension,ref:n}}if(typeof n=="object")n={...n};else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},P0=(n,e)=>cg(n).priority??e,Ye={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(cg).forEach(e=>{e.type.forEach(t=>{var r,s;return(s=(r=this._removeHandlers)[t])==null?void 0:s.call(r,e)})}),this},add(...n){return n.map(cg).forEach(e=>{e.type.forEach(t=>{var o,c;const r=this._addHandlers,s=this._queue;r[t]?(o=r[t])==null||o.call(r,e):(s[t]=s[t]||[],(c=s[t])==null||c.push(e))})}),this},handle(n,e,t){var c;const r=this._addHandlers,s=this._removeHandlers;if(r[n]||s[n])throw new Error(`Extension type ${n} already has a handler`);r[n]=e,s[n]=t;const o=this._queue;return o[n]&&((c=o[n])==null||c.forEach(d=>e(d)),delete o[n]),this},handleByMap(n,e){return this.handle(n,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(n,e,t=-1){return this.handle(n,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((s,o)=>P0(o,t)-P0(s,t)))},r=>{const s=e.indexOf(r.ref);s!==-1&&e.splice(s,1)})}};class dg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const QS=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function KS(n){let e="";for(let t=0;t<n;++t)t>0&&(e+=`
else `),t<n-1&&(e+=`if(test == ${t}.0){}`);return e}function ZS(n,e){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=QS.replace(/%forloop%/gi,KS(n));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))n=n/2|0;else break}return n}const km=0,Mm=1,Dm=2,Nm=3,Om=4,Fm=5;class Ns{constructor(){this.data=0,this.blendMode=tt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<km)}set blend(e){!!(this.data&1<<km)!==e&&(this.data^=1<<km)}get offsets(){return!!(this.data&1<<Mm)}set offsets(e){!!(this.data&1<<Mm)!==e&&(this.data^=1<<Mm)}get culling(){return!!(this.data&1<<Dm)}set culling(e){!!(this.data&1<<Dm)!==e&&(this.data^=1<<Dm)}get depthTest(){return!!(this.data&1<<Nm)}set depthTest(e){!!(this.data&1<<Nm)!==e&&(this.data^=1<<Nm)}get depthMask(){return!!(this.data&1<<Fm)}set depthMask(e){!!(this.data&1<<Fm)!==e&&(this.data^=1<<Fm)}get clockwiseFrontFace(){return!!(this.data&1<<Om)}set clockwiseFrontFace(e){!!(this.data&1<<Om)!==e&&(this.data^=1<<Om)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==tt.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ns;return e.depthTest=!1,e.blend=!0,e}}Ns.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const fg=[];function Z_(n,e){if(!n)return null;let t="";if(typeof n=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);r&&(t=r[1].toLowerCase())}for(let r=fg.length-1;r>=0;--r){const s=fg[r];if(s.test&&s.test(n,t))return new s(n,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Qi{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,s,o,c,d,p){if(arguments.length>8)throw new Error("max arguments reached");const{name:g,items:v}=this;this._aliasCount++;for(let x=0,S=v.length;x<S;x++)v[x][g](e,t,r,s,o,c,d,p);return v===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Qi.prototype,{dispatch:{value:Qi.prototype.emit},run:{value:Qi.prototype.emit}});class kc{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Qi("setRealSize"),this.onUpdate=new Qi("update"),this.onError=new Qi("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class If extends kc{constructor(e,t){const{width:r,height:s}=t||{};if(!r||!s)throw new Error("BufferResource width or height invalid");super(r,s),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,r){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===zn.UNPACK);const o=t.realWidth,c=t.realHeight;return r.width===o&&r.height===c?s.texSubImage2D(t.target,0,0,0,o,c,t.format,r.type,this.data):(r.width=o,r.height=c,s.texImage2D(t.target,0,r.internalFormat,o,c,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const JS={scaleMode:ha.NEAREST,alphaMode:zn.NPM},pg=class Xu extends Bc{constructor(e=null,t=null){super(),t=Object.assign({},Xu.defaultOptions,t);const{alphaMode:r,mipmap:s,anisotropicLevel:o,scaleMode:c,width:d,height:p,wrapMode:g,format:v,type:x,target:S,resolution:b,resourceOptions:T}=t;e&&!(e instanceof kc)&&(e=Z_(e,T),e.internal=!0),this.resolution=b||Be.RESOLUTION,this.width=Math.round((d||0)*this.resolution)/this.resolution,this.height=Math.round((p||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=o,this._wrapMode=g,this._scaleMode=c,this.format=v,this.type=x,this.target=S,this.alphaMode=r,this.uid=Gl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=d>0&&p>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=S0(this.realWidth)&&S0(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete mo[this.cacheId],delete Es[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Xu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,r=Be.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let o=null;if(s)o=e;else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${Gl()}`}o=e._pixiId}let c=mo[o];if(s&&r&&!c)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return c||(c=new Xu(e,t),c.cacheId=o,Xu.addToCache(c,o)),c}static fromBuffer(e,t,r,s){e=e||new Float32Array(t*r*4);const o=new If(e,{width:t,height:r,...s==null?void 0:s.resourceOptions});let c,d;return e instanceof Float32Array?(c=Ce.RGBA,d=Ze.FLOAT):e instanceof Int32Array?(c=Ce.RGBA_INTEGER,d=Ze.INT):e instanceof Uint32Array?(c=Ce.RGBA_INTEGER,d=Ze.UNSIGNED_INT):e instanceof Int16Array?(c=Ce.RGBA_INTEGER,d=Ze.SHORT):e instanceof Uint16Array?(c=Ce.RGBA_INTEGER,d=Ze.UNSIGNED_SHORT):e instanceof Int8Array?(c=Ce.RGBA,d=Ze.BYTE):(c=Ce.RGBA,d=Ze.UNSIGNED_BYTE),o.internal=!0,new Xu(o,Object.assign({},JS,{type:d,format:c},s))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),mo[t]&&mo[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),mo[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=mo[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete mo[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete mo[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};pg.defaultOptions={mipmap:ks.POW2,anisotropicLevel:0,scaleMode:ha.LINEAR,wrapMode:fa.CLAMP,alphaMode:zn.UNPACK,target:th.TEXTURE_2D,format:Ce.RGBA,type:Ze.UNSIGNED_BYTE},pg._globalBatch=0;let st=pg;class mg{constructor(){this.texArray=null,this.blend=0,this.type=Yi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let eE=0;class fr{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=eE++,this.disposeRunner=new Qi("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Rs.ELEMENT_ARRAY_BUFFER:Rs.ARRAY_BUFFER}get index(){return this.type===Rs.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new fr(e)}}class cf{constructor(e,t=0,r=!1,s=Ze.FLOAT,o,c,d,p=1){this.buffer=e,this.size=t,this.normalized=r,this.type=s,this.stride=o,this.start=c,this.instance=d,this.divisor=p}destroy(){this.buffer=null}static from(e,t,r,s,o){return new cf(e,t,r,s,o)}}const tE={Float32Array,Uint32Array,Int32Array,Uint8Array};function rE(n,e){let t=0,r=0;const s={};for(let p=0;p<n.length;p++)r+=e[p],t+=n[p].length;const o=new ArrayBuffer(t*4);let c=null,d=0;for(let p=0;p<n.length;p++){const g=e[p],v=n[p],x=K_(v);s[x]||(s[x]=new tE[x](o)),c=s[x];for(let S=0;S<v.length;S++){const b=(S/g|0)*r+d,T=S%g;c[b+T]=v[S]}d+=g}return new Float32Array(o)}const R0={5126:4,5123:2,5121:1};let nE=0;const iE={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class bo{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=nE++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Qi("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,s=!1,o,c,d,p=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof fr||(t instanceof Array&&(t=new Float32Array(t)),t=new fr(t));const g=e.split("|");if(g.length>1){for(let x=0;x<g.length;x++)this.addAttribute(g[x],t,r,s,o);return this}let v=this.buffers.indexOf(t);return v===-1&&(this.buffers.push(t),v=this.buffers.length-1),this.attributes[e]=new cf(v,r,s,o,c,d,p),this.instanced=this.instanced||p,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof fr||(e instanceof Array&&(e=new Uint16Array(e)),e=new fr(e)),e.type=Rs.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],r=new fr;let s;for(s in this.attributes){const o=this.attributes[s],c=this.buffers[o.buffer];e.push(c.data),t.push(o.size*R0[o.type]/4),o.buffer=0}for(r.data=rE(e,t),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new bo;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new fr(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new cf(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Rs.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new bo,r=[],s=[],o=[];let c;for(let d=0;d<e.length;d++){c=e[d];for(let p=0;p<c.buffers.length;p++)s[p]=s[p]||0,s[p]+=c.buffers[p].data.length,o[p]=0}for(let d=0;d<c.buffers.length;d++)r[d]=new iE[K_(c.buffers[d].data)](s[d]),t.buffers[d]=new fr(r[d]);for(let d=0;d<e.length;d++){c=e[d];for(let p=0;p<c.buffers.length;p++)r[p].set(c.buffers[p].data,o[p]),o[p]+=c.buffers[p].data.length}if(t.attributes=c.attributes,c.indexBuffer){t.indexBuffer=t.buffers[c.buffers.indexOf(c.indexBuffer)],t.indexBuffer.type=Rs.ELEMENT_ARRAY_BUFFER;let d=0,p=0,g=0,v=0;for(let x=0;x<c.buffers.length;x++)if(c.buffers[x]!==c.indexBuffer){v=x;break}for(const x in c.attributes){const S=c.attributes[x];(S.buffer|0)===v&&(p+=S.size*R0[S.type]/4)}for(let x=0;x<e.length;x++){const S=e[x].indexBuffer.data;for(let b=0;b<S.length;b++)t.indexBuffer.data[b+g]+=d;d+=e[x].buffers[v].data.length/p,g+=S.length}}return t}}class J_ extends bo{constructor(e=!1){super(),this._buffer=new fr(null,e,!1),this._indexBuffer=new fr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Ze.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Ze.FLOAT).addAttribute("aColor",this._buffer,4,!0,Ze.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Ze.FLOAT).addIndex(this._indexBuffer)}}const df=Math.PI*2,sE=180/Math.PI,aE=Math.PI/180;var $r=(n=>(n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",n))($r||{});class ft{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new ft(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}ft.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Id=[new ft,new ft,new ft,new ft];class ot{constructor(e=0,t=0,r=0,s=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(s),this.type=$r.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ot(0,0,0,0)}clone(){return new ot(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const Z=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=Z)return!1;const ue=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>ue}const r=this.left,s=this.right,o=this.top,c=this.bottom;if(s<=r||c<=o)return!1;const d=Id[0].set(e.left,e.top),p=Id[1].set(e.left,e.bottom),g=Id[2].set(e.right,e.top),v=Id[3].set(e.right,e.bottom);if(g.x<=d.x||p.y<=d.y)return!1;const x=Math.sign(t.a*t.d-t.b*t.c);if(x===0||(t.apply(d,d),t.apply(p,p),t.apply(g,g),t.apply(v,v),Math.max(d.x,p.x,g.x,v.x)<=r||Math.min(d.x,p.x,g.x,v.x)>=s||Math.max(d.y,p.y,g.y,v.y)<=o||Math.min(d.y,p.y,g.y,v.y)>=c))return!1;const S=x*(p.y-d.y),b=x*(d.x-p.x),T=S*r+b*o,R=S*s+b*o,P=S*r+b*c,M=S*s+b*c;if(Math.max(T,R,P,M)<=S*d.x+b*d.y||Math.min(T,R,P,M)>=S*v.x+b*v.y)return!1;const L=x*(d.y-g.y),F=x*(g.x-d.x),j=L*r+F*o,U=L*s+F*o,q=L*r+F*c,D=L*s+F*c;return!(Math.max(j,U,q,D)<=L*d.x+F*d.y||Math.min(j,U,q,D)>=L*v.x+F*v.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=s,this.height=Math.max(o-s,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,s=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=s-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=s,this.height=o-s,this}}ot.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class kf{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=$r.CIRC}clone(){return new kf(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let s=this.x-e,o=this.y-t;return s*=s,o*=o,s+o<=r}getBounds(){return new ot(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}kf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Mf{constructor(e=0,t=0,r=0,s=0){this.x=e,this.y=t,this.width=r,this.height=s,this.type=$r.ELIP}clone(){return new Mf(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,s=(t-this.y)/this.height;return r*=r,s*=s,r+s<=1}getBounds(){return new ot(this.x-this.width,this.y-this.height,this.width,this.height)}}Mf.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Ul{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const r=[];for(let s=0,o=t.length;s<o;s++)r.push(t[s].x,t[s].y);t=r}this.points=t,this.type=$r.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new Ul(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1;const s=this.points.length/2;for(let o=0,c=s-1;o<s;c=o++){const d=this.points[o*2],p=this.points[o*2+1],g=this.points[c*2],v=this.points[c*2+1];p>t!=v>t&&e<(g-d)*((t-p)/(v-p))+d&&(r=!r)}return r}}Ul.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((n,e)=>`${n}, ${e}`,"")}]`};class Df{constructor(e=0,t=0,r=0,s=0,o=20){this.x=e,this.y=t,this.width=r,this.height=s,this.radius=o,this.type=$r.RREC}clone(){return new Df(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let s=e-(this.x+r),o=t-(this.y+r);const c=r*r;if(s*s+o*o<=c||(s=e-(this.x+this.width-r),s*s+o*o<=c)||(o=t-(this.y+this.height-r),s*s+o*o<=c)||(s=e-(this.x+r),s*s+o*o<=c))return!0}return!1}}Df.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ht{constructor(e=1,t=0,r=0,s=1,o=0,c=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=s,this.tx=o,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,s,o,c){return this.a=e,this.b=t,this.c=r,this.d=s,this.tx=o,this.ty=c,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new ft;const r=e.x,s=e.y;return t.x=this.a*r+this.c*s+this.tx,t.y=this.b*r+this.d*s+this.ty,t}applyInverse(e,t){t=t||new ft;const r=1/(this.a*this.d+this.c*-this.b),s=e.x,o=e.y;return t.x=this.d*r*s+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*o+-this.b*r*s+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),s=this.a,o=this.c,c=this.tx;return this.a=s*t-this.b*r,this.b=s*r+this.b*t,this.c=o*t-this.d*r,this.d=o*r+this.d*t,this.tx=c*t-this.ty*r,this.ty=c*r+this.ty*t,this}append(e){const t=this.a,r=this.b,s=this.c,o=this.d;return this.a=e.a*t+e.b*s,this.b=e.a*r+e.b*o,this.c=e.c*t+e.d*s,this.d=e.c*r+e.d*o,this.tx=e.tx*t+e.ty*s+this.tx,this.ty=e.tx*r+e.ty*o+this.ty,this}setTransform(e,t,r,s,o,c,d,p,g){return this.a=Math.cos(d+g)*o,this.b=Math.sin(d+g)*o,this.c=-Math.sin(d-p)*c,this.d=Math.cos(d-p)*c,this.tx=e-(r*this.a+s*this.c),this.ty=t-(r*this.b+s*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,s=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,s=this.c,o=this.d,c=e.pivot,d=-Math.atan2(-s,o),p=Math.atan2(r,t),g=Math.abs(d+p);return g<1e-5||Math.abs(df-g)<1e-5?(e.rotation=p,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=d,e.skew.y=p),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(s*s+o*o),e.position.x=this.tx+(c.x*t+c.y*s),e.position.y=this.ty+(c.x*r+c.y*o),e}invert(){const e=this.a,t=this.b,r=this.c,s=this.d,o=this.tx,c=e*s-t*r;return this.a=s/c,this.b=-t/c,this.c=-r/c,this.d=e/c,this.tx=(r*this.ty-s*o)/c,this.ty=-(e*this.ty-t*o)/c,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ht;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ht}static get TEMP_MATRIX(){return new Ht}}Ht.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Il=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],kl=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ml=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Dl=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],gg=[],ex=[],kd=Math.sign;function oE(){for(let n=0;n<16;n++){const e=[];gg.push(e);for(let t=0;t<16;t++){const r=kd(Il[n]*Il[t]+Ml[n]*kl[t]),s=kd(kl[n]*Il[t]+Dl[n]*kl[t]),o=kd(Il[n]*Ml[t]+Ml[n]*Dl[t]),c=kd(kl[n]*Ml[t]+Dl[n]*Dl[t]);for(let d=0;d<16;d++)if(Il[d]===r&&kl[d]===s&&Ml[d]===o&&Dl[d]===c){e.push(d);break}}}for(let n=0;n<16;n++){const e=new Ht;e.set(Il[n],kl[n],Ml[n],Dl[n],0,0),ex.push(e)}}oE();const Zt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>Il[n],uY:n=>kl[n],vX:n=>Ml[n],vY:n=>Dl[n],inv:n=>n&8?n&15:-n&7,add:(n,e)=>gg[n][e],sub:(n,e)=>gg[n][Zt.inv(e)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,e)=>Math.abs(n)*2<=Math.abs(e)?e>=0?Zt.S:Zt.N:Math.abs(e)*2<=Math.abs(n)?n>0?Zt.E:Zt.W:e>0?n>0?Zt.SE:Zt.SW:n>0?Zt.NE:Zt.NW,matrixAppendRotationInv:(n,e,t=0,r=0)=>{const s=ex[Zt.inv(e)];s.tx=t,s.ty=r,n.append(s)}};class Ps{constructor(e,t,r=0,s=0){this._x=r,this._y=s,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new Ps(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Ps.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const yg=class{constructor(){this.worldTransform=new Ht,this.localTransform=new Ht,this.position=new Ps(this.onChange,this,0,0),this.scale=new Ps(this.onChange,this,1,1),this.pivot=new Ps(this.onChange,this,0,0),this.skew=new Ps(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(n){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==n._worldID){const t=n.worldTransform,r=this.worldTransform;r.a=e.a*t.a+e.b*t.c,r.b=e.a*t.b+e.b*t.d,r.c=e.c*t.a+e.d*t.c,r.d=e.c*t.b+e.d*t.d,r.tx=e.tx*t.a+e.ty*t.c+t.tx,r.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=n._worldID,this._worldID++}}setFromMatrix(n){n.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(n){this._rotation!==n&&(this._rotation=n,this.updateSkew())}};yg.IDENTITY=new yg;let Nf=yg;Nf.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var lE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,uE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function I0(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}function Bm(n){const e=new Array(n);for(let t=0;t<e.length;t++)e[t]=!1;return e}function tx(n,e){switch(n){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Bm(2*e);case"bvec3":return Bm(3*e);case"bvec4":return Bm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const nh=[{test:n=>n.type==="float"&&n.size===1&&!n.isArray,code:n=>`
            if(uv["${n}"] !== ud["${n}"].value)
            {
                ud["${n}"].value = uv["${n}"]
                gl.uniform1f(ud["${n}"].location, uv["${n}"])
            }
            `},{test:(n,e)=>(n.type==="sampler2D"||n.type==="samplerCube"||n.type==="sampler2DArray")&&n.size===1&&!n.isArray&&(e==null||e.castToBaseTexture!==void 0),code:n=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${n}"], t);

            if(ud["${n}"].value !== t)
            {
                ud["${n}"].value = t;
                gl.uniform1i(ud["${n}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(n,e)=>n.type==="mat3"&&n.size===1&&!n.isArray&&e.a!==void 0,code:n=>`
            gl.uniformMatrix3fv(ud["${n}"].location, false, uv["${n}"].toArray(true));
            `,codeUbo:n=>`
                var ${n}_matrix = uv.${n}.toArray(true);

                data[offset] = ${n}_matrix[0];
                data[offset+1] = ${n}_matrix[1];
                data[offset+2] = ${n}_matrix[2];
        
                data[offset + 4] = ${n}_matrix[3];
                data[offset + 5] = ${n}_matrix[4];
                data[offset + 6] = ${n}_matrix[5];
        
                data[offset + 8] = ${n}_matrix[6];
                data[offset + 9] = ${n}_matrix[7];
                data[offset + 10] = ${n}_matrix[8];
            `},{test:(n,e)=>n.type==="vec2"&&n.size===1&&!n.isArray&&e.x!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${n}"].location, v.x, v.y);
                }`,codeUbo:n=>`
                v = uv.${n};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:n=>n.type==="vec2"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${n}"].location, v[0], v[1]);
                }
            `},{test:(n,e)=>n.type==="vec4"&&n.size===1&&!n.isArray&&e.width!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${n}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(n,e)=>n.type==="vec4"&&n.size===1&&!n.isArray&&e.red!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${n}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(n,e)=>n.type==="vec3"&&n.size===1&&!n.isArray&&e.red!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${n}"].location, v.red, v.green, v.blue)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:n=>n.type==="vec4"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${n}"].location, v[0], v[1], v[2], v[3])
                }`}],hE={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},cE={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function dE(n,e){var r;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const s in n.uniforms){const o=e[s];if(!o){((r=n.uniforms[s])==null?void 0:r.group)===!0&&(n.uniforms[s].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${s}, '${s}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${s}, syncData);
                    `));continue}const c=n.uniforms[s];let d=!1;for(let p=0;p<nh.length;p++)if(nh[p].test(o,c)){t.push(nh[p].code(s,c)),d=!0;break}if(!d){const p=(o.size===1&&!o.isArray?hE:cE)[o.type].replace("location",`ud["${s}"].location`);t.push(`
            cu = ud["${s}"];
            cv = cu.value;
            v = uv["${s}"];
            ${p};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const rx={};let Hu=rx;function fE(){if(Hu===rx||Hu!=null&&Hu.isContextLost()){const n=Be.ADAPTER.createCanvas();let e;Be.PREFER_ENV>=Hl.WEBGL2&&(e=n.getContext("webgl2",{})),e||(e=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Hu=e}return Hu}let Md;function pE(){if(!Md){Md=yi.MEDIUM;const n=fE();if(n&&n.getShaderPrecisionFormat){const e=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);e&&(Md=e.precision?yi.HIGH:yi.MEDIUM)}}return Md}function k0(n,e){const t=n.getShaderSource(e).split(`
`).map((g,v)=>`${v}: ${g}`),r=n.getShaderInfoLog(e),s=r.split(`
`),o={},c=s.map(g=>parseFloat(g.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(g=>g&&!o[g]?(o[g]=!0,!0):!1),d=[""];c.forEach(g=>{t[g-1]=`%c${t[g-1]}%c`,d.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const p=t.join(`
`);d[0]=p,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...d),console.groupEnd()}function mE(n,e,t,r){n.getProgramParameter(e,n.LINK_STATUS)||(n.getShaderParameter(t,n.COMPILE_STATUS)||k0(n,t),n.getShaderParameter(r,n.COMPILE_STATUS)||k0(n,r),console.error("PixiJS Error: Could not initialize shader."),n.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(e)))}const gE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function nx(n){return gE[n]}let Dd=null;const M0={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function ix(n,e){if(!Dd){const t=Object.keys(M0);Dd={};for(let r=0;r<t.length;++r){const s=t[r];Dd[n[s]]=M0[s]}}return Dd[e]}function D0(n,e,t){if(n.substring(0,9)!=="precision"){let r=e;return e===yi.HIGH&&t!==yi.HIGH&&(r=yi.MEDIUM),`precision ${r} float;
${n}`}else if(t!==yi.HIGH&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}let pc;function yE(){if(typeof pc=="boolean")return pc;try{pc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{pc=!1}return pc}let vE=0;const Nd={},vg=class Yu{constructor(e,t,r="pixi-shader",s={}){this.extra={},this.id=vE++,this.vertexSrc=e||Yu.defaultVertexSrc,this.fragmentSrc=t||Yu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Nd[r]?(Nd[r]++,r+=`-${Nd[r]}`):Nd[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=D0(this.vertexSrc,Yu.defaultVertexPrecision,yi.HIGH),this.fragmentSrc=D0(this.fragmentSrc,Yu.defaultFragmentPrecision,pE())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return uE}static get defaultFragmentSrc(){return lE}static from(e,t,r){const s=e+t;let o=T0[s];return o||(T0[s]=o=new Yu(e,t,r)),o}};vg.defaultVertexPrecision=yi.HIGH,vg.defaultFragmentPrecision=ca.apple.device?yi.HIGH:yi.MEDIUM;let da=vg,_E=0;class Ki{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=_E++,this.static=!!t,this.ubo=!!r,e instanceof fr?(this.buffer=e,this.buffer.type=Rs.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new fr(new Float32Array(1)),this.buffer.type=Rs.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(!this.ubo)this.uniforms[e]=new Ki(t,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,r){return new Ki(e,t,r)}static uboFrom(e,t){return new Ki(e,t??!0,!0)}}class Is{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Ki?this.uniformGroup=t:this.uniformGroup=new Ki(t):this.uniformGroup=new Ki({}),this.disposeRunner=new Qi("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const s=t.uniforms[r];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const s=da.from(e,t);return new Is(s,r)}}class xE{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let o=0;o<e;o++)r[o]=o;this.defaultGroupCache[e]=Ki.from({uSamplers:r},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,`${e}`),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new da(this.vertexSrc,s)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:this.defaultGroupCache[e]};return new Is(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class _g{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function wE(){return!ca.apple.device}function SE(n){let e=!0;const t=Be.ADAPTER.getNavigator();if(ca.tablet||ca.phone){if(ca.apple.device){const r=t.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(ca.android.device){const r=t.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?n:4}class Of{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var EE=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,bE=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const xc=class Wi extends Of{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=J_,this.vertexSize=6,this.state=Ns.for2d(),this.size=Wi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??SE(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??wE(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return dt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return bE}static get defaultFragmentTemplate(){return EE}setShaderGenerator({vertex:e=Wi.defaultVertexSrc,fragment:t=Wi.defaultFragmentTemplate}={}){this.shaderGenerator=new xE(e,t)}contextChange(){const e=this.renderer.gl;Be.PREFER_ENV===Hl.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Wi.defaultMaxTextures),this.maxTextures=ZS(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=Wi,r=this.size/4,s=Math.floor(r/this.maxTextures)+1;for(;e.length<r;)e.push(new mg);for(;t.length<s;)t.push(new _g);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,r=Wi._textureArrayPool,s=this.renderer.batch,o=this._tempBoundTextures,c=this.renderer.textureGC.count;let d=++st._globalBatch,p=0,g=r[0],v=0;s.copyBoundTextures(o,t);for(let x=0;x<this._bufferSize;++x){const S=e[x];e[x]=null,S._batchEnabled!==d&&(g.count>=t&&(s.boundArray(g,o,d,t),this.buildDrawCalls(g,v,x),v=x,g=r[++p],++d),S._batchEnabled=d,S.touched=c,g.elements[g.count++]=S)}g.count>0&&(s.boundArray(g,o,d,t),this.buildDrawCalls(g,v,this._bufferSize),++p,++d);for(let x=0;x<o.length;x++)o[x]=null;st._globalBatch=d}buildDrawCalls(e,t,r){const{_bufferedElements:s,_attributeBuffer:o,_indexBuffer:c,vertexSize:d}=this,p=Wi._drawCallPool;let g=this._dcIndex,v=this._aIndex,x=this._iIndex,S=p[g];S.start=this._iIndex,S.texArray=e;for(let b=t;b<r;++b){const T=s[b],R=T._texture.baseTexture,P=q_[R.alphaMode?1:0][T.blendMode];s[b]=null,t<b&&S.blend!==P&&(S.size=x-S.start,t=b,S=p[++g],S.texArray=e,S.start=x),this.packInterleavedGeometry(T,o,c,v,x),v+=T.vertexData.length/2*d,x+=T.indices.length,S.blend=P}t<r&&(S.size=x-S.start,++g),this._dcIndex=g,this._aIndex=v,this._iIndex=x}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:r}=this;Wi.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:r}=this.renderer,s=Wi._drawCallPool;let o=null;for(let c=0;c<e;c++){const{texArray:d,type:p,size:g,start:v,blend:x}=s[c];o!==d&&(o=d,this.bindAndClearTexArray(d)),this.state.blendMode=x,r.set(this.state),t.drawElements(p,g,t.UNSIGNED_SHORT,v*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Wi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=hf(Math.ceil(e/8)),r=E0(t),s=t*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new dg(s*this.vertexSize*4)),o}getIndexBuffer(e){const t=hf(Math.ceil(e/12)),r=E0(t),s=t*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let o=this._iBuffers[r];return o||(this._iBuffers[r]=o=new Uint16Array(s)),o}packInterleavedGeometry(e,t,r,s,o){const{uint32View:c,float32View:d}=t,p=s/this.vertexSize,g=e.uvs,v=e.indices,x=e.vertexData,S=e._texture.baseTexture._batchLocation,b=Math.min(e.worldAlpha,1),T=zt.shared.setValue(e._tintRGB).toPremultiplied(b,e._texture.baseTexture.alphaMode>0);for(let R=0;R<x.length;R+=2)d[s++]=x[R],d[s++]=x[R+1],d[s++]=g[R],d[s++]=g[R+1],c[s++]=T,d[s++]=S;for(let R=0;R<v.length;R++)r[o++]=p+v[R]}};xc.defaultBatchSize=4096,xc.extension={name:"batch",type:De.RendererPlugin},xc._drawCallPool=[],xc._textureArrayPool=[];let Nl=xc;Ye.add(Nl);var TE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,AE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const xg=class wc extends Is{constructor(e,t,r){const s=da.from(e||wc.defaultVertexSrc,t||wc.defaultFragmentSrc);super(s,r),this.padding=0,this.resolution=wc.defaultResolution,this.multisample=wc.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ns}apply(e,t,r,s,o){e.applyFilter(this,t,r,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return AE}static get defaultFragmentSrc(){return TE}};xg.defaultResolution=1,xg.defaultMultisample=vr.NONE;let mn=xg;class ff{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new zt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:r,backgroundAlpha:s}=e,o=r??t;o!==void 0&&(this.color=o),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}ff.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},ff.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"background"};Ye.add(ff);class sx{constructor(e){this.renderer=e,this.emptyRenderer=new Of(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let s=t-1;s>=0;--s)e[s]=r[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,t,r,s){const{elements:o,ids:c,count:d}=e;let p=0;for(let g=0;g<d;g++){const v=o[g],x=v._batchLocation;if(x>=0&&x<s&&t[x]===v){c[g]=x;continue}for(;p<s;){const S=t[p];if(S&&S._batchEnabled===r&&S._batchLocation===p){p++;continue}c[g]=p,v._batchLocation=p,t[p]=v;break}}}destroy(){this.renderer=null}}sx.extension={type:De.RendererSystem,name:"batch"};Ye.add(sx);let N0=0;class pf{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=N0++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=N0++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(Be.PREFER_ENV>=Hl.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}pf.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},pf.extension={type:De.RendererSystem,name:"context"};Ye.add(pf);class wg{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Qi("disposeFramebuffer"),this.multisample=vr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new st(null,{scaleMode:ha.NEAREST,resolution:1,mipmap:ks.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new st(null,{scaleMode:ha.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ks.OFF,format:Ce.DEPTH_COMPONENT,type:Ze.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const s=this.colorTextures[r],o=s.resolution;s.setSize(e/o,t/o)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class ax extends st{constructor(e={}){if(typeof e=="number"){const t=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3];e={width:t,height:r,scaleMode:s,resolution:o}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=vr.NONE),super(null,e),this.mipmap=ks.OFF,this.valid=!0,this._clear=new zt([0,0,0,0]),this.framebuffer=new wg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class ga extends kc{constructor(e){const t=e,r=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,s=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(r,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){r===void 0&&!t.startsWith("data:")?e.crossOrigin=qS(t):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,t,r,s){const o=e.gl,c=t.realWidth,d=t.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===zn.UNPACK),!this.noSubImage&&t.target===o.TEXTURE_2D&&r.width===c&&r.height===d?o.texSubImage2D(o.TEXTURE_2D,0,0,0,t.format,r.type,s):(r.width=c,r.height=d,o.texImage2D(t.target,0,r.internalFormat,t.format,r.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class ox extends ga{constructor(e,t){if(t=t||{},typeof e=="string"){const r=new Image;ga.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??Be.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,r)=>{const s=this.source;this.url=s.src;const o=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};s.complete&&s.src?o():(s.onload=o,s.onerror=c=>{r(c),this.onError.emit(c)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(s=>s.blob()).then(s=>t(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===zn.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let s=!0;const o=t._glTextures;for(const c in o){const d=o[c];if(d!==r&&d.dirtyId!==t.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class ny{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const s=t.width,o=t.height;if(r){const c=e.width/2/s,d=e.height/2/o,p=e.x/s+c,g=e.y/o+d;r=Zt.add(r,Zt.NW),this.x0=p+c*Zt.uX(r),this.y0=g+d*Zt.uY(r),r=Zt.add(r,2),this.x1=p+c*Zt.uX(r),this.y1=g+d*Zt.uY(r),r=Zt.add(r,2),this.x2=p+c*Zt.uX(r),this.y2=g+d*Zt.uY(r),r=Zt.add(r,2),this.x3=p+c*Zt.uX(r),this.y3=g+d*Zt.uY(r)}else this.x0=e.x/s,this.y0=e.y/o,this.x1=(e.x+e.width)/s,this.y1=e.y/o,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/o,this.x3=e.x/s,this.y3=(e.y+e.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}ny.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const O0=new ny;function Od(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}class Me extends Bc{constructor(e,t,r,s,o,c,d){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new ot(0,0,1,1)),e instanceof Me&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=O0,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=c?new ft(c.x,c.y):new ft(0,0),this.defaultBorders=d,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&Es[t.url]&&Me.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Me.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new Me(this.baseTexture,!this.noFrame&&e,t,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===O0&&(this._uvs=new ny),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=Be.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let o=null;if(s)o=e;else if(e instanceof st){if(!e.cacheId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${d}-${Gl()}`,st.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${Gl()}`}o=e._pixiId}let c=Es[o];if(s&&r&&!c)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!c&&!(e instanceof st)?(t.resolution||(t.resolution=ma(e)),c=new Me(new st(e,t)),c.baseTexture.cacheId=o,st.addToCache(c.baseTexture,o),Me.addToCache(c,o)):!c&&e instanceof st&&(c=new Me(e),Me.addToCache(c,o)),c}static fromURL(e,t){const r=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),s=Me.from(e,Object.assign({resourceOptions:r},t),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(()=>Promise.resolve(s))}static fromBuffer(e,t,r,s){return new Me(st.fromBuffer(e,t,r,s))}static fromLoader(e,t,r,s){const o=new st(e,Object.assign({scaleMode:st.defaultOptions.scaleMode,resolution:ma(t)},s)),{resource:c}=o;c instanceof ox&&(c.url=t);const d=new Me(o);return r||(r=t),st.addToCache(d.baseTexture,r),Me.addToCache(d,r),r!==t&&(st.addToCache(d.baseTexture,t),Me.addToCache(d,t)),d.baseTexture.valid?Promise.resolve(d):new Promise(p=>{d.baseTexture.once("loaded",()=>p(d))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Es[t]&&Es[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),Es[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=Es[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete Es[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)Es[e.textureCacheIds[t]]===e&&delete Es[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:s,height:o}=e,c=t+s>this.baseTexture.width,d=r+o>this.baseTexture.height;if(c||d){const p=c&&d?"and":"or",g=`X: ${t} + ${s} = ${t+s} > ${this.baseTexture.width}`,v=`Y: ${r} + ${o} = ${r+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${g} ${p} ${v}`)}this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Me._EMPTY||(Me._EMPTY=new Me(new st),Od(Me._EMPTY),Od(Me._EMPTY.baseTexture)),Me._EMPTY}static get WHITE(){if(!Me._WHITE){const e=Be.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),Me._WHITE=new Me(st.from(e)),Od(Me._WHITE),Od(Me._WHITE.baseTexture)}return Me._WHITE}}class $l extends Me{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const s=this.baseTexture.resolution,o=Math.round(e*s)/s,c=Math.round(t*s)/s;this.valid=o>0&&c>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=c,r&&this.baseTexture.resize(o,c),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new $l(new ax(e))}}class lx{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=vr.NONE){const s=new ax(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new $l(s)}getOptimalTexture(e,t,r=1,s=vr.NONE){let o;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=hf(e),t=hf(t),o=((e&65535)<<16|t&65535)>>>0,s>1&&(o+=s*4294967296)):o=s>1?-s:-1,this.texturePool[o]||(this.texturePool[o]=[]);let c=this.texturePool[o].pop();return c||(c=this.createTexture(e,t,s)),c.filterPoolKey=o,c.setResolution(r),c}getFilterTexture(e,t,r){const s=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||vr.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const r=this.texturePool[t];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const r=this.texturePool[t];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}lx.SCREEN_KEY=-1;class CE extends bo{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class ux extends bo{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new fr(this.vertices),this.uvBuffer=new fr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,s=0;return this.uvs[0]=r,this.uvs[1]=s,this.uvs[2]=r+t.width/e.width,this.uvs[3]=s,this.uvs[4]=r+t.width/e.width,this.uvs[5]=s+t.height/e.height,this.uvs[6]=r,this.uvs[7]=s+t.height/e.height,r=t.x,s=t.y,this.vertices[0]=r,this.vertices[1]=s,this.vertices[2]=r+t.width,this.vertices[3]=s,this.vertices[4]=r+t.width,this.vertices[5]=s+t.height,this.vertices[6]=r,this.vertices[7]=s+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class PE{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=vr.NONE,this.sourceFrame=new ot,this.destinationFrame=new ot,this.bindingSourceFrame=new ot,this.bindingDestinationFrame=new ot,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Fd=[new ft,new ft,new ft,new ft],Lm=new Ht;class hx{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new lx,this.statePool=[],this.quad=new CE,this.quadUv=new ux,this.tempRect=new ot,this.activeState={},this.globalUniforms=new Ki({outputFrame:new ot,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const r=this.renderer,s=this.defaultFilterStack,o=this.statePool.pop()||new PE,c=r.renderTexture;let d,p;if(c.current){const P=c.current;d=P.resolution,p=P.multisample}else d=r.resolution,p=r.multisample;let g=t[0].resolution||d,v=t[0].multisample??p,x=t[0].padding,S=t[0].autoFit,b=t[0].legacy??!0;for(let P=1;P<t.length;P++){const M=t[P];g=Math.min(g,M.resolution||d),v=Math.min(v,M.multisample??p),x=this.useMaxPadding?Math.max(x,M.padding):x+M.padding,S=S&&M.autoFit,b=b||(M.legacy??!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),s.push(o),o.resolution=g,o.multisample=v,o.legacy=b,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(x);const T=this.tempRect.copyFrom(c.sourceFrame);r.projection.transform&&this.transformAABB(Lm.copyFrom(r.projection.transform).invert(),T),S?(o.sourceFrame.fit(T),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(T)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,c.current?c.current.resolution:r.resolution,c.sourceFrame,c.destinationFrame,r.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,g,v),o.filters=t,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const R=this.tempRect;R.x=0,R.y=0,R.width=o.sourceFrame.width,R.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(c.sourceFrame),o.bindingDestinationFrame.copyFrom(c.destinationFrame),o.transform=r.projection.transform,r.projection.transform=null,c.bind(o.renderTexture,o.sourceFrame,R),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const s=this.globalUniforms.uniforms;s.outputFrame=t.sourceFrame,s.resolution=t.resolution;const o=s.inputSize,c=s.inputPixel,d=s.inputClamp;if(o[0]=t.destinationFrame.width,o[1]=t.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],c[0]=Math.round(o[0]*t.resolution),c[1]=Math.round(o[1]*t.resolution),c[2]=1/c[0],c[3]=1/c[1],d[0]=.5*c[2],d[1]=.5*c[3],d[2]=t.sourceFrame.width*o[2]-.5*c[2],d[3]=t.sourceFrame.height*o[3]-.5*c[3],t.legacy){const g=s.filterArea;g[0]=t.destinationFrame.width,g[1]=t.destinationFrame.height,g[2]=t.sourceFrame.x,g[3]=t.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const p=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,t.renderTexture,p.renderTexture,Cs.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let g=t.renderTexture,v=this.getOptimalFilterTexture(g.width,g.height,t.resolution);v.filterFrame=g.filterFrame;let x=0;for(x=0;x<r.length-1;++x){x===1&&t.multisample>1&&(v=this.getOptimalFilterTexture(g.width,g.height,t.resolution),v.filterFrame=g.filterFrame),r[x].apply(this,g,v,Cs.CLEAR,t);const S=g;g=v,v=S}r[x].apply(this,g,p.renderTexture,Cs.BLEND,t),x>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(v)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Cs.CLEAR){const{renderTexture:r,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const c=this.tempRect;c.x=0,c.y=0,c.width=e.filterFrame.width,c.height=e.filterFrame.height,r.bind(e,e.filterFrame,c)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=s.stateId&1||this.forceClear;(t===Cs.CLEAR||t===Cs.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,s){const o=this.renderer;o.state.set(e.state),this.bindAndClear(r,s),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Yi.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Yi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:s}=this.activeState,{orig:o}=t._texture,c=e.set(s.width,0,0,s.height,r.x,r.y),d=t.worldTransform.copyTo(Ht.TEMP_MATRIX);return d.invert(),c.prepend(d),c.scale(1/o.width,1/o.height),c.translate(t.anchor.x,t.anchor.y),c}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,s=vr.NONE){return this.texturePool.getOptimalTexture(e,t,r,s)}getFilterTexture(e,t,r){if(typeof e=="number"){const o=e;e=t,t=o}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||vr.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=Fd[0],s=Fd[1],o=Fd[2],c=Fd[3];r.set(t.left,t.top),s.set(t.left,t.bottom),o.set(t.right,t.top),c.set(t.right,t.bottom),e.apply(r,r),e.apply(s,s),e.apply(o,o),e.apply(c,c);const d=Math.min(r.x,s.x,o.x,c.x),p=Math.min(r.y,s.y,o.y,c.y),g=Math.max(r.x,s.x,o.x,c.x),v=Math.max(r.y,s.y,o.y,c.y);t.x=d,t.y=p,t.width=g-d,t.height=v-p}roundFrame(e,t,r,s,o){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(o){const{a:c,b:d,c:p,d:g}=o;if((Math.abs(d)>1e-4||Math.abs(p)>1e-4)&&(Math.abs(c)>1e-4||Math.abs(g)>1e-4))return}o=o?Lm.copyFrom(o):Lm.identity(),o.translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.transformAABB(o,e),e.ceil(t),this.transformAABB(o.invert(),e)}}}hx.extension={type:De.RendererSystem,name:"filter"};Ye.add(hx);class RE{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=vr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const IE=new ot;class cx{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new wg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ot,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Be.PREFER_ENV===Hl.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=s=>t.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:s}=this;if(e){const o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,o.mipLevel=r),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat!==e.dirtyFormat?(o.dirtyFormat=e.dirtyFormat,o.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let c=0;c<e.colorTextures.length;c++){const d=e.colorTextures[c];this.renderer.texture.unbind(d.parentTextureArray||d)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const c=t.width>>r,d=t.height>>r,p=c/t.width;this.setViewport(t.x*p,t.y*p,c,d)}else{const c=e.width>>r,d=e.height>>r;this.setViewport(0,0,c,d)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,s){const o=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),s=Math.round(s),(o.width!==r||o.height!==s||o.x!==e||o.y!==t)&&(o.x=e,o.y=t,o.width=r,o.height=s,this.gl.viewport(e,t,r,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,s,o=og.COLOR|og.DEPTH){const{gl:c}=this;c.clearColor(e,t,r,s),c.clear(o)}initFramebuffer(e){const{gl:t}=this,r=new RE(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){t.bindRenderbuffer(t.RENDERBUFFER,r.stencil);let c;this.renderer.context.webGLVersion===1?c=t.DEPTH_STENCIL:e.depth&&e.stencil?c=t.DEPTH24_STENCIL8:e.depth?c=t.DEPTH_COMPONENT24:c=t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,c,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,c,e.width,e.height)}const s=e.colorTextures;let o=s.length;t.drawBuffers||(o=Math.min(o,1));for(let c=0;c<o;c++){const d=s[c],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),c===0&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,s=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures;let c=o.length;r.drawBuffers||(c=Math.min(c,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||r.createRenderbuffer():s.msaaBuffer&&(r.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const d=[];for(let p=0;p<c;p++){const g=o[p],v=g.parentTextureArray||g;this.renderer.texture.bind(v,0),p===0&&s.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,s.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,v._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,s.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+p,g.target,v._glTextures[this.CONTEXT_UID].texture,t),d.push(r.COLOR_ATTACHMENT0+p))}if(d.length>1&&r.drawBuffers(d),e.depthTexture&&this.writeDepthTexture){const p=e.depthTexture;this.renderer.texture.bind(p,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||r.createRenderbuffer();let p,g;this.renderer.context.webGLVersion===1?(p=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH_STENCIL):e.depth&&e.stencil?(p=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH24_STENCIL8):e.depth?(p=r.DEPTH_ATTACHMENT,g=r.DEPTH_COMPONENT24):(p=r.STENCIL_ATTACHMENT,g=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,s.stencil),s.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,g,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,g,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,p,r.RENDERBUFFER,s.stencil)}else s.stencil&&(r.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=vr.NONE;if(e<=1||t===null)return r;for(let s=0;s<t.length;s++)if(t[s]<=e){r=t[s];break}return r===1&&(r=vr.NONE),r}blit(e,t,r){const{current:s,renderer:o,gl:c,CONTEXT_UID:d}=this;if(o.context.webGLVersion!==2||!s)return;const p=s.glFramebuffers[d];if(!p)return;if(!e){if(!p.msaaBuffer)return;const v=s.colorTextures[0];if(!v)return;p.blitFramebuffer||(p.blitFramebuffer=new wg(s.width,s.height),p.blitFramebuffer.addColorTexture(0,v)),e=p.blitFramebuffer,e.colorTextures[0]!==v&&(e.colorTextures[0]=v,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}t||(t=IE,t.width=s.width,t.height=s.height),r||(r=t);const g=t.width===r.width&&t.height===r.height;this.bind(e),c.bindFramebuffer(c.READ_FRAMEBUFFER,p.framebuffer),c.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,c.COLOR_BUFFER_BIT,g?c.NEAREST:c.LINEAR),c.bindFramebuffer(c.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),t||(s.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&s.deleteRenderbuffer(r.msaaBuffer),r.stencil&&s.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const r=e.width,s=e.height,o=this.gl,c=t.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,c);let d,p;this.renderer.context.webGLVersion===1?(d=o.DEPTH_STENCIL_ATTACHMENT,p=o.DEPTH_STENCIL):e.depth?(d=o.DEPTH_STENCIL_ATTACHMENT,p=o.DEPTH24_STENCIL8):(d=o.STENCIL_ATTACHMENT,p=o.STENCIL_INDEX8),t.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,t.multisample,p,r,s):o.renderbufferStorage(o.RENDERBUFFER,p,r,s),o.framebufferRenderbuffer(o.FRAMEBUFFER,d,o.RENDERBUFFER,c)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ot}destroy(){this.renderer=null}}cx.extension={type:De.RendererSystem,name:"framebuffer"};Ye.add(cx);const Um={5126:4,5123:2,5121:1};class dx{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;Be.PREFER_ENV===Hl.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=s=>r.bindVertexArrayOES(s),e.deleteVertexArray=s=>r.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(s,o)=>r.vertexAttribDivisorANGLE(s,o),e.drawElementsInstanced=(s,o,c,d,p)=>r.drawElementsInstancedANGLE(s,o,c,d,p),e.drawArraysInstanced=(s,o,c,d)=>r.drawArraysInstancedANGLE(s,o,c,d)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},o=!0);const c=s[t.program.id]||this.initGeometryVao(e,t,o);this._activeGeometry=e,this._activeVao!==c&&(this._activeVao=c,this.hasVao?r.bindVertexArray(c):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const s=e.buffers[r];t.update(s)}}checkCompatibility(e,t){const r=e.attributes,s=t.attributeData;for(const o in s)if(!r[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(e,t){const r=e.attributes,s=t.attributeData,o=["g",e.id];for(const c in r)s[c]&&o.push(c,s[c].location);return o.join("-")}initGeometryVao(e,t,r=!0){const s=this.gl,o=this.CONTEXT_UID,c=this.renderer.buffer,d=t.program;d.glPrograms[o]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,d);const p=this.getSignature(e,d),g=e.glVertexArrayObjects[this.CONTEXT_UID];let v=g[p];if(v)return g[d.id]=v,v;const x=e.buffers,S=e.attributes,b={},T={};for(const R in x)b[R]=0,T[R]=0;for(const R in S)!S[R].size&&d.attributeData[R]?S[R].size=d.attributeData[R].size:S[R].size||console.warn(`PIXI Geometry attribute '${R}' size cannot be determined (likely the bound shader does not have the attribute)`),b[S[R].buffer]+=S[R].size*Um[S[R].type];for(const R in S){const P=S[R],M=P.size;P.stride===void 0&&(b[P.buffer]===M*Um[P.type]?P.stride=0:P.stride=b[P.buffer]),P.start===void 0&&(P.start=T[P.buffer],T[P.buffer]+=M*Um[P.type])}v=s.createVertexArray(),s.bindVertexArray(v);for(let R=0;R<x.length;R++){const P=x[R];c.bind(P),r&&P._glBuffers[o].refCount++}return this.activateVao(e,d),g[d.id]=v,g[p]=v,s.bindVertexArray(null),c.unbind(Rs.ARRAY_BUFFER),v}disposeGeometry(e,t){var d;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=e.buffers,c=(d=this.renderer)==null?void 0:d.buffer;if(e.disposeRunner.remove(this),!!r){if(c)for(let p=0;p<o.length;p++){const g=o[p]._glBuffers[this.CONTEXT_UID];g&&(g.refCount--,g.refCount===0&&!t&&c.dispose(o[p],t))}if(!t){for(const p in r)if(p[0]==="g"){const g=r[p];this._activeVao===g&&this.unbind(),s.deleteVertexArray(g)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,c=e.buffers,d=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);let p=null;for(const g in d){const v=d[g],x=c[v.buffer],S=x._glBuffers[s];if(t.attributeData[g]){p!==S&&(o.bind(x),p=S);const b=t.attributeData[g].location;if(r.enableVertexAttribArray(b),r.vertexAttribPointer(b,v.size,v.type||r.FLOAT,v.normalized,v.stride,v.start),v.instance)if(this.hasInstance)r.vertexAttribDivisor(b,v.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,r,s){const{gl:o}=this,c=this._activeGeometry;if(c.indexBuffer){const d=c.indexBuffer.data.BYTES_PER_ELEMENT,p=d===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;d===2||d===4&&this.canUseUInt32ElementIndex?c.instanced?o.drawElementsInstanced(e,t||c.indexBuffer.data.length,p,(r||0)*d,s||1):o.drawElements(e,t||c.indexBuffer.data.length,p,(r||0)*d):console.warn("unsupported index buffer type: uint32")}else c.instanced?o.drawArraysInstanced(e,r,t||c.getSize(),s||1):o.drawArrays(e,r,t||c.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}dx.extension={type:De.RendererSystem,name:"geometry"};Ye.add(dx);const F0=new Ht;class iy{constructor(e,t){this._texture=e,this.mapCoord=new Ht,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const r=this.mapCoord;for(let s=0;s<e.length;s+=2){const o=e[s],c=e[s+1];t[s]=o*r.a+c*r.c+r.tx,t[s+1]=o*r.b+c*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const s=t.orig,o=t.trim;o&&(F0.set(s.width/o.width,0,0,s.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(F0));const c=t.baseTexture,d=this.uClampFrame,p=this.clampMargin/c.resolution,g=this.clampOffset;return d[0]=(t._frame.x+p+g)/c.width,d[1]=(t._frame.y+p+g)/c.height,d[2]=(t._frame.x+t._frame.width-p+g)/c.width,d[3]=(t._frame.y+t._frame.height-p+g)/c.height,this.uClampOffset[0]=g/c.realWidth,this.uClampOffset[1]=g/c.realHeight,this.isSimple=t._frame.width===c.width&&t._frame.height===c.height&&t.rotate===0,!0}}var kE=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,ME=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class DE extends mn{constructor(e,t,r){let s=null;typeof e!="string"&&t===void 0&&r===void 0&&(s=e,e=void 0,t=void 0,r=void 0),super(e||ME,t||kE,r),this.maskSprite=s,this.maskMatrix=new Ht}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,s){const o=this._maskSprite,c=o._texture;c.valid&&(c.uvMatrix||(c.uvMatrix=new iy(c,0)),c.uvMatrix.update(),this.uniforms.npmAlpha=c.baseTexture.alphaMode?0:1,this.uniforms.mask=c,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(c.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=c.uvMatrix.uClampFrame,e.applyFilter(this,t,r,s))}}class NE{constructor(e=null){this.type=Tr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=mn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Tr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class fx{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const o=this.maskDataPool.pop()||new NE;o.pooled=!0,o.maskObject=t,r=o}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(s),r._colorMask=s?s._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==Tr.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Tr.SCISSOR:this.renderer.scissor.push(r);break;case Tr.STENCIL:this.renderer.stencil.push(r);break;case Tr.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Tr.COLOR:this.pushColorMask(r);break}r.type===Tr.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case Tr.SCISSOR:this.renderer.scissor.pop(t);break;case Tr.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case Tr.SPRITE:this.popSpriteMask(t);break;case Tr.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===Tr.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=Tr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Tr.SCISSOR:e.type=Tr.STENCIL:e.type=Tr.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new DE])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=t;const o=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,s),r.filterArea=o,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}fx.extension={type:De.RendererSystem,name:"mask"};Ye.add(fx);class px{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==r&&(s===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const B0=new Ht,L0=[],mx=class tf extends px{constructor(e){super(e),this.glConst=Be.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:r}=e,{renderer:s}=this,o=s.renderTexture,c=r.getBounds(!0,L0.pop()??new ot);this.roundFrameToPixels(c,o.current?o.current.resolution:s.resolution,o.sourceFrame,o.destinationFrame,s.projection.transform),t&&c.fit(t),e._scissorRectLocal=c}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:s,d:o}=e;return(Math.abs(r)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(o)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||tf.isMatrixRotated(t.worldTransform)||tf.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const r=e._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(e,t,r,s,o){tf.isMatrixRotated(o)||(o=o?B0.copyFrom(o):B0.identity(),o.translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,e),e.fit(s),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&L0.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};mx.extension={type:De.RendererSystem,name:"scissor"};let OE=mx;Ye.add(OE);class gx extends px{constructor(e){super(e),this.glConst=Be.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const o=e._colorMask;o!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,s,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,o!==0&&(e._colorMask=o,r.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=r?r._colorMask:15;s!==0&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(r._colorMask=s,t.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}gx.extension={type:De.RendererSystem,name:"stencil"};Ye.add(gx);class yx{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return dt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return dt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return dt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}yx.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"_plugin"};Ye.add(yx);class vx{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ht,this.transform=null}update(e,t,r,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,s),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(e,t,r,s){const o=this.projectionMatrix,c=s?-1:1;o.identity(),o.a=1/t.width*2,o.d=c*(1/t.height*2),o.tx=-1-t.x*o.a,o.ty=-c-t.y*o.d}setTransform(e){}destroy(){this.renderer=null}}vx.extension={type:De.RendererSystem,name:"projection"};Ye.add(vx);const FE=new Nf,U0=new ot;class _x{constructor(e){this.renderer=e,this._tempMatrix=new Ht}generateTexture(e,t){const{region:r,...s}=t||{},o=(r==null?void 0:r.copyTo(U0))||e.getLocalBounds(U0,!0),c=s.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/c),o.height=Math.max(o.height,1/c),s.width=o.width,s.height=o.height,s.resolution=c,s.multisample??(s.multisample=this.renderer.multisample);const d=$l.create(s);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const p=e.transform;return e.transform=FE,this.renderer.render(e,{renderTexture:d,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=p,d}destroy(){}}_x.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"textureGenerator"};Ye.add(_x);const Cl=new ot,mc=new ot;class xx{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ot,this.destinationFrame=new ot,this.viewportFrame=new ot}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){const s=this.renderer;this.current=e;let o,c,d;e?(o=e.baseTexture,d=o.resolution,t||(Cl.width=e.frame.width,Cl.height=e.frame.height,t=Cl),r||(mc.x=e.frame.x,mc.y=e.frame.y,mc.width=t.width,mc.height=t.height,r=mc),c=o.framebuffer):(d=s.resolution,t||(Cl.width=s._view.screen.width,Cl.height=s._view.screen.height,t=Cl),r||(r=Cl,r.width=t.width,r.height=t.height));const p=this.viewportFrame;p.x=r.x*d,p.y=r.y*d,p.width=r.width*d,p.height=r.height*d,e||(p.y=s.view.height-(p.y+p.height)),p.ceil(),this.renderer.framebuffer.bind(c,p),this.renderer.projection.update(r,t,d,!c),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=zt.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const o=this.destinationFrame,c=this.current?this.current.baseTexture:this.renderer._view.screen,d=o.width!==c.width||o.height!==c.height;if(d){let{x:p,y:g,width:v,height:x}=this.viewportFrame;p=Math.round(p),g=Math.round(g),v=Math.round(v),x=Math.round(x),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(p,g,v,x)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,t),d&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}xx.extension={type:De.RendererSystem,name:"renderTexture"};Ye.add(xx);class BE{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function LE(n,e){const t={},r=e.getProgramParameter(n,e.ACTIVE_ATTRIBUTES);for(let s=0;s<r;s++){const o=e.getActiveAttrib(n,s);if(o.name.startsWith("gl_"))continue;const c=ix(e,o.type),d={type:c,name:o.name,size:nx(c),location:e.getAttribLocation(n,o.name)};t[o.name]=d}return t}function UE(n,e){const t={},r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<r;s++){const o=e.getActiveUniform(n,s),c=o.name.replace(/\[.*?\]$/,""),d=!!o.name.match(/\[.*?\]$/),p=ix(e,o.type);t[c]={name:c,index:s,type:p,size:o.size,isArray:d,value:tx(p,o.size)}}return t}function zE(n,e){var d;const t=I0(n,n.VERTEX_SHADER,e.vertexSrc),r=I0(n,n.FRAGMENT_SHADER,e.fragmentSrc),s=n.createProgram();n.attachShader(s,t),n.attachShader(s,r);const o=(d=e.extra)==null?void 0:d.transformFeedbackVaryings;if(o&&(typeof n.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):n.transformFeedbackVaryings(s,o.names,o.bufferMode==="separate"?n.SEPARATE_ATTRIBS:n.INTERLEAVED_ATTRIBS)),n.linkProgram(s),n.getProgramParameter(s,n.LINK_STATUS)||mE(n,s,t,r),e.attributeData=LE(s,n),e.uniformData=UE(s,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const p=Object.keys(e.attributeData);p.sort((g,v)=>g>v?1:-1);for(let g=0;g<p.length;g++)e.attributeData[p[g]].location=g,n.bindAttribLocation(s,g,p[g]);n.linkProgram(s)}n.deleteShader(t),n.deleteShader(r);const c={};for(const p in e.uniformData){const g=e.uniformData[p];c[p]={location:n.getUniformLocation(s,p),value:tx(g.type,g.size)}}return new BE(s,c)}function GE(n,e,t,r,s){t.buffer.update(s)}const HE={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},wx={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function $E(n){const e=n.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let t=0,r=0,s=0;for(let o=0;o<e.length;o++){const c=e[o];if(t=wx[c.data.type],c.data.size>1&&(t=Math.max(t,16)*c.data.size),c.dataLen=t,r%t!==0&&r<16){const d=r%t%16;r+=d,s+=d}r+t>16?(s=Math.ceil(s/16)*16,c.offset=s,s+=t,r=t):(c.offset=s,r+=t,s+=t)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function jE(n,e){const t=[];for(const r in n)e[r]&&t.push(e[r]);return t.sort((r,s)=>r.index-s.index),t}function WE(n,e){if(!n.autoManage)return{size:0,syncFunc:GE};const t=jE(n.uniforms,e),{uboElements:r,size:s}=$E(t),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let c=0;c<r.length;c++){const d=r[c],p=n.uniforms[d.data.name],g=d.data.name;let v=!1;for(let x=0;x<nh.length;x++){const S=nh[x];if(S.codeUbo&&S.test(d.data,p)){o.push(`offset = ${d.offset/4};`,nh[x].codeUbo(d.data.name,p)),v=!0;break}}if(!v)if(d.data.size>1){const x=nx(d.data.type),S=Math.max(wx[d.data.type]/16,1),b=x/S,T=(4-b%4)%4;o.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};

                t = 0;

                for(var i=0; i < ${d.data.size*S}; i++)
                {
                    for(var j = 0; j < ${b}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${T};
                }

                `)}else{const x=HE[d.data.type];o.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};
                ${x};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let VE=0;const Bd={textureCount:0,uboCount:0};class Sx{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=VE++}systemCheck(){if(!yE())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,s=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(s.program)),t||(Bd.textureCount=0,Bd.uboCount=0,this.syncUniformGroup(e.uniformGroup,Bd)),s}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=dE(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const s=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),s(r.uniformData,e.uniforms,this.renderer,Bd,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const o=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,s.uniformBlockBinding(t.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const c=this.getSignature(e,this.shader.program.uniformData,"ubo");let d=this._uboCache[c];if(d||(d=this._uboCache[c]=WE(e,this.shader.program.uniformData)),e.autoManage){const p=new Float32Array(d.size/4);e.buffer.update(p)}return t.uniformGroups[e.id]=d.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const s=e.uniforms,o=[`${r}-`];for(const c in s)o.push(c),t[c]&&o.push(t[c].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,s=zE(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Sx.extension={type:De.RendererSystem,name:"shader"};Ye.add(Sx);class mf{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}mf.defaultOptions={hello:!1},mf.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"startup"};Ye.add(mf);function XE(n,e=[]){return e[tt.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.ADD]=[n.ONE,n.ONE],e[tt.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.NONE]=[0,0],e[tt.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],e[tt.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[tt.SRC_IN]=[n.DST_ALPHA,n.ZERO],e[tt.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],e[tt.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[tt.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],e[tt.DST_IN]=[n.ZERO,n.SRC_ALPHA],e[tt.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],e[tt.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],e[tt.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[tt.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],e}const YE=0,qE=1,QE=2,KE=3,ZE=4,JE=5,Ex=class Sg{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=tt.NONE,this._blendEq=!1,this.map=[],this.map[YE]=this.setBlend,this.map[qE]=this.setOffset,this.map[QE]=this.setCullFace,this.map[KE]=this.setDepthTest,this.map[ZE]=this.setFrontFace,this.map[JE]=this.setDepthMask,this.checks=[],this.defaultState=new Ns,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=XE(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)t&1&&this.map[r].call(this,!!(e.data&1<<r)),t=t>>1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(Sg.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(Sg.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;t.length===2?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&r===-1?this.checks.push(e):!t&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};Ex.extension={type:De.RendererSystem,name:"state"};let eb=Ex;Ye.add(eb);class tb extends Bc{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(s=>e.systems[s]),r=[...t,...Object.keys(e.systems).filter(s=>!t.includes(s))];for(const s of r)this.addSystem(e.systems[s],s)}addRunners(...e){e.forEach(t=>{this.runners[t]=new Qi(t)})}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const s in this.runners)this.runners[s].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach(s=>{const o=r.find(c=>this._systemsHash[c]===s);s[e.name](t[o])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Sc=class rf{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=rf.defaultMaxIdle,this.checkCountMax=rf.defaultCheckCountMax,this.mode=rf.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Jg.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let s=0;s<t.length;s++){const o=t[s];o.resource&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),t[s]=null,r=!0)}if(r){let s=0;for(let o=0;o<t.length;o++)t[o]!==null&&(t[s++]=t[o]);t.length=s}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};Sc.defaultMode=Jg.AUTO,Sc.defaultMaxIdle=60*60,Sc.defaultCheckCountMax=60*10,Sc.extension={type:De.RendererSystem,name:"textureGC"};let Ol=Sc;Ye.add(Ol);class zm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ze.UNSIGNED_BYTE,this.internalFormat=Ce.RGBA,this.samplerType=0}}function rb(n){let e;return"WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?e={[n.RGB]:Fe.FLOAT,[n.RGBA]:Fe.FLOAT,[n.ALPHA]:Fe.FLOAT,[n.LUMINANCE]:Fe.FLOAT,[n.LUMINANCE_ALPHA]:Fe.FLOAT,[n.R8]:Fe.FLOAT,[n.R8_SNORM]:Fe.FLOAT,[n.RG8]:Fe.FLOAT,[n.RG8_SNORM]:Fe.FLOAT,[n.RGB8]:Fe.FLOAT,[n.RGB8_SNORM]:Fe.FLOAT,[n.RGB565]:Fe.FLOAT,[n.RGBA4]:Fe.FLOAT,[n.RGB5_A1]:Fe.FLOAT,[n.RGBA8]:Fe.FLOAT,[n.RGBA8_SNORM]:Fe.FLOAT,[n.RGB10_A2]:Fe.FLOAT,[n.RGB10_A2UI]:Fe.FLOAT,[n.SRGB8]:Fe.FLOAT,[n.SRGB8_ALPHA8]:Fe.FLOAT,[n.R16F]:Fe.FLOAT,[n.RG16F]:Fe.FLOAT,[n.RGB16F]:Fe.FLOAT,[n.RGBA16F]:Fe.FLOAT,[n.R32F]:Fe.FLOAT,[n.RG32F]:Fe.FLOAT,[n.RGB32F]:Fe.FLOAT,[n.RGBA32F]:Fe.FLOAT,[n.R11F_G11F_B10F]:Fe.FLOAT,[n.RGB9_E5]:Fe.FLOAT,[n.R8I]:Fe.INT,[n.R8UI]:Fe.UINT,[n.R16I]:Fe.INT,[n.R16UI]:Fe.UINT,[n.R32I]:Fe.INT,[n.R32UI]:Fe.UINT,[n.RG8I]:Fe.INT,[n.RG8UI]:Fe.UINT,[n.RG16I]:Fe.INT,[n.RG16UI]:Fe.UINT,[n.RG32I]:Fe.INT,[n.RG32UI]:Fe.UINT,[n.RGB8I]:Fe.INT,[n.RGB8UI]:Fe.UINT,[n.RGB16I]:Fe.INT,[n.RGB16UI]:Fe.UINT,[n.RGB32I]:Fe.INT,[n.RGB32UI]:Fe.UINT,[n.RGBA8I]:Fe.INT,[n.RGBA8UI]:Fe.UINT,[n.RGBA16I]:Fe.INT,[n.RGBA16UI]:Fe.UINT,[n.RGBA32I]:Fe.INT,[n.RGBA32UI]:Fe.UINT,[n.DEPTH_COMPONENT16]:Fe.FLOAT,[n.DEPTH_COMPONENT24]:Fe.FLOAT,[n.DEPTH_COMPONENT32F]:Fe.FLOAT,[n.DEPTH_STENCIL]:Fe.FLOAT,[n.DEPTH24_STENCIL8]:Fe.FLOAT,[n.DEPTH32F_STENCIL8]:Fe.FLOAT}:e={[n.RGB]:Fe.FLOAT,[n.RGBA]:Fe.FLOAT,[n.ALPHA]:Fe.FLOAT,[n.LUMINANCE]:Fe.FLOAT,[n.LUMINANCE_ALPHA]:Fe.FLOAT,[n.DEPTH_STENCIL]:Fe.FLOAT},e}function nb(n){let e;return"WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?e={[Ze.UNSIGNED_BYTE]:{[Ce.RGBA]:n.RGBA8,[Ce.RGB]:n.RGB8,[Ce.RG]:n.RG8,[Ce.RED]:n.R8,[Ce.RGBA_INTEGER]:n.RGBA8UI,[Ce.RGB_INTEGER]:n.RGB8UI,[Ce.RG_INTEGER]:n.RG8UI,[Ce.RED_INTEGER]:n.R8UI,[Ce.ALPHA]:n.ALPHA,[Ce.LUMINANCE]:n.LUMINANCE,[Ce.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[Ze.BYTE]:{[Ce.RGBA]:n.RGBA8_SNORM,[Ce.RGB]:n.RGB8_SNORM,[Ce.RG]:n.RG8_SNORM,[Ce.RED]:n.R8_SNORM,[Ce.RGBA_INTEGER]:n.RGBA8I,[Ce.RGB_INTEGER]:n.RGB8I,[Ce.RG_INTEGER]:n.RG8I,[Ce.RED_INTEGER]:n.R8I},[Ze.UNSIGNED_SHORT]:{[Ce.RGBA_INTEGER]:n.RGBA16UI,[Ce.RGB_INTEGER]:n.RGB16UI,[Ce.RG_INTEGER]:n.RG16UI,[Ce.RED_INTEGER]:n.R16UI,[Ce.DEPTH_COMPONENT]:n.DEPTH_COMPONENT16},[Ze.SHORT]:{[Ce.RGBA_INTEGER]:n.RGBA16I,[Ce.RGB_INTEGER]:n.RGB16I,[Ce.RG_INTEGER]:n.RG16I,[Ce.RED_INTEGER]:n.R16I},[Ze.UNSIGNED_INT]:{[Ce.RGBA_INTEGER]:n.RGBA32UI,[Ce.RGB_INTEGER]:n.RGB32UI,[Ce.RG_INTEGER]:n.RG32UI,[Ce.RED_INTEGER]:n.R32UI,[Ce.DEPTH_COMPONENT]:n.DEPTH_COMPONENT24},[Ze.INT]:{[Ce.RGBA_INTEGER]:n.RGBA32I,[Ce.RGB_INTEGER]:n.RGB32I,[Ce.RG_INTEGER]:n.RG32I,[Ce.RED_INTEGER]:n.R32I},[Ze.FLOAT]:{[Ce.RGBA]:n.RGBA32F,[Ce.RGB]:n.RGB32F,[Ce.RG]:n.RG32F,[Ce.RED]:n.R32F,[Ce.DEPTH_COMPONENT]:n.DEPTH_COMPONENT32F},[Ze.HALF_FLOAT]:{[Ce.RGBA]:n.RGBA16F,[Ce.RGB]:n.RGB16F,[Ce.RG]:n.RG16F,[Ce.RED]:n.R16F},[Ze.UNSIGNED_SHORT_5_6_5]:{[Ce.RGB]:n.RGB565},[Ze.UNSIGNED_SHORT_4_4_4_4]:{[Ce.RGBA]:n.RGBA4},[Ze.UNSIGNED_SHORT_5_5_5_1]:{[Ce.RGBA]:n.RGB5_A1},[Ze.UNSIGNED_INT_2_10_10_10_REV]:{[Ce.RGBA]:n.RGB10_A2,[Ce.RGBA_INTEGER]:n.RGB10_A2UI},[Ze.UNSIGNED_INT_10F_11F_11F_REV]:{[Ce.RGB]:n.R11F_G11F_B10F},[Ze.UNSIGNED_INT_5_9_9_9_REV]:{[Ce.RGB]:n.RGB9_E5},[Ze.UNSIGNED_INT_24_8]:{[Ce.DEPTH_STENCIL]:n.DEPTH24_STENCIL8},[Ze.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Ce.DEPTH_STENCIL]:n.DEPTH32F_STENCIL8}}:e={[Ze.UNSIGNED_BYTE]:{[Ce.RGBA]:n.RGBA,[Ce.RGB]:n.RGB,[Ce.ALPHA]:n.ALPHA,[Ce.LUMINANCE]:n.LUMINANCE,[Ce.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[Ze.UNSIGNED_SHORT_5_6_5]:{[Ce.RGB]:n.RGB},[Ze.UNSIGNED_SHORT_4_4_4_4]:{[Ce.RGBA]:n.RGBA},[Ze.UNSIGNED_SHORT_5_5_5_1]:{[Ce.RGBA]:n.RGBA}},e}class bx{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new st,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=nb(e),this.samplerTypes=rb(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let s=0;s<t;s++)this.boundTextures[s]=null;this.emptyTextures={};const r=new zm(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new zm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,t=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<r.length;s++)r[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<r.length;s++)r[s]===e&&(this.currentLocation!==s&&(t.activeTexture(t.TEXTURE0+s),this.currentLocation=s),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[s]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:s}=this;if(r)for(let o=e-1;o>=0;--o){const c=t[o];c&&c._glTextures[s].samplerType!==Fe.FLOAT&&this.renderer.texture.unbind(c)}}initTexture(e){const t=new zm(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var r;t.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??Fe.FLOAT,this.webGLVersion===2&&e.type===Ze.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var s;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const r=this.renderer;if(this.initTextureType(e,t),(s=e.resource)==null?void 0:s.upload(r,e,t))t.samplerType!==Fe.FLOAT&&(this.hasIntegerTextures=!0);else{const o=e.realWidth,c=e.realHeight,d=r.gl;(t.width!==o||t.height!==c||t.dirtyId<0)&&(t.width=o,t.height=c,d.texImage2D(e.target,0,t.internalFormat,o,c,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const s=this.managedTextures.indexOf(e);s!==-1&&rh(this.managedTextures,s,1)}}updateTextureStyle(e){var r;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===ks.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=fa.CLAMP:t.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==ks.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===ha.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===ha.LINEAR){const o=Math.min(e.anisotropicLevel,r.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===ha.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===ha.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}bx.extension={type:De.RendererSystem,name:"texture"};Ye.add(bx);class Tx{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:s}=this;t&&s.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:s}=this,o=t.createTransformFeedback();e._glTransformFeedbacks[s]=o,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,o);for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];d&&(r.buffer.update(d),d._glBuffers[s].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,c,d._glBuffers[s].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),o}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];if(!d)continue;const p=d._glBuffers[this.CONTEXT_UID];p&&(p.refCount--,p.refCount===0&&!t&&o.dispose(d,t))}r&&(t||s.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Tx.extension={type:De.RendererSystem,name:"transformFeedback"};Ye.add(Tx);class gf{constructor(e){this.renderer=e}init(e){this.screen=new ot(0,0,e.width,e.height),this.element=e.view||Be.ADAPTER.createCanvas(),this.resolution=e.resolution||Be.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=r,this.screen.height=s,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${s}px`),this.renderer.emit("resize",r,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}gf.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},gf.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"_view"};Ye.add(gf);Be.PREFER_ENV=Hl.WEBGL2;Be.STRICT_TEXTURE_CACHE=!1;Be.RENDER_OPTIONS={...pf.defaultOptions,...ff.defaultOptions,...gf.defaultOptions,...mf.defaultOptions};Object.defineProperties(Be,{WRAP_MODE:{get(){return st.defaultOptions.wrapMode},set(n){dt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),st.defaultOptions.wrapMode=n}},SCALE_MODE:{get(){return st.defaultOptions.scaleMode},set(n){dt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),st.defaultOptions.scaleMode=n}},MIPMAP_TEXTURES:{get(){return st.defaultOptions.mipmap},set(n){dt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),st.defaultOptions.mipmap=n}},ANISOTROPIC_LEVEL:{get(){return st.defaultOptions.anisotropicLevel},set(n){dt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),st.defaultOptions.anisotropicLevel=n}},FILTER_RESOLUTION:{get(){return dt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),mn.defaultResolution},set(n){mn.defaultResolution=n}},FILTER_MULTISAMPLE:{get(){return dt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),mn.defaultMultisample},set(n){mn.defaultMultisample=n}},SPRITE_MAX_TEXTURES:{get(){return Nl.defaultMaxTextures},set(n){dt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Nl.defaultMaxTextures=n}},SPRITE_BATCH_SIZE:{get(){return Nl.defaultBatchSize},set(n){dt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Nl.defaultBatchSize=n}},CAN_UPLOAD_SAME_BUFFER:{get(){return Nl.canUploadSameBuffer},set(n){dt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Nl.canUploadSameBuffer=n}},GC_MODE:{get(){return Ol.defaultMode},set(n){dt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Ol.defaultMode=n}},GC_MAX_IDLE:{get(){return Ol.defaultMaxIdle},set(n){dt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Ol.defaultMaxIdle=n}},GC_MAX_CHECK_COUNT:{get(){return Ol.defaultCheckCountMax},set(n){dt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Ol.defaultCheckCountMax=n}},PRECISION_VERTEX:{get(){return da.defaultVertexPrecision},set(n){dt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),da.defaultVertexPrecision=n}},PRECISION_FRAGMENT:{get(){return da.defaultFragmentPrecision},set(n){dt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),da.defaultFragmentPrecision=n}}});var To=(n=>(n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(To||{});class Gm{constructor(e,t=null,r=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=s}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const Ax=class ti{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Gm(null,null,1/0),this.deltaMS=1/ti.targetFPMS,this.elapsedMS=1/ti.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=To.NORMAL){return this._addListener(new Gm(e,t,r))}addOnce(e,t,r=To.NORMAL){return this._addListener(new Gm(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const o=e-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=e-o%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*ti.targetFPMS;const r=this._head;let s=r.next;for(;s;)s=s.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,ti.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!ti._shared){const e=ti._shared=new ti;e.autoStart=!0,e._protected=!0}return ti._shared}static get system(){if(!ti._system){const e=ti._system=new ti;e.autoStart=!0,e._protected=!0}return ti._system}};Ax.targetFPMS=.06;let Or=Ax;Object.defineProperties(Be,{TARGET_FPMS:{get(){return Or.targetFPMS},set(n){dt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Or.targetFPMS=n}}});class Cx{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,To.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Or.shared:new Or,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Cx.extension=De.Application;Ye.add(Cx);const Px=[];Ye.handleByList(De.Renderer,Px);function ib(n){for(const e of Px)if(e.test(n))return new e(n);throw new Error("Unable to auto-detect a suitable renderer.")}var sb=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ab=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const ob=sb,Rx=ab;class Ix{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=vr.HIGH?this.multisample=vr.HIGH:t>=vr.MEDIUM?this.multisample=vr.MEDIUM:t>=vr.LOW?this.multisample=vr.LOW:this.multisample=vr.NONE}destroy(){}}Ix.extension={type:De.RendererSystem,name:"_multisample"};Ye.add(Ix);class lb{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class kx{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:s}=this;if(this.boundBufferBases[t]!==e){const o=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,o.buffer)}}bindBufferRange(e,t,r){const{gl:s,CONTEXT_UID:o}=this;r=r||0;const c=e._glBuffers[o]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,t||0,c.buffer,r*256,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,t.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const o=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,o)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),r&&(t||s.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new lb(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}kx.extension={type:De.RendererSystem,name:"buffer"};Ye.add(kx);class Mx{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let s,o,c,d;if(t&&(s=t.renderTexture,o=t.clear,c=t.transform,d=t.skipUpdateTransform),this.renderingToScreen=!s,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=c,!r.context.isLost){if(s||(this.lastObjectRendered=e),!d){const p=e.enableTempParent();e.updateTransform(),e.disableTempParent(p)}r.renderTexture.bind(s),r.batch.currentRenderer.start(),(o??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),s&&(t.blit&&r.framebuffer.blit(),s.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Mx.extension={type:De.RendererSystem,name:"objectRenderer"};Ye.add(Mx);const nf=class Eg extends tb{constructor(e){super(),this.type=F_.WEBGL,e=Object.assign({},Be.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Ki({projectionMatrix:new Ht},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Eg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(dt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=Eg.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:kS()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return dt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return dt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return dt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return dt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){dt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return dt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){dt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return dt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};nf.extension={type:De.Renderer,priority:1},nf.__plugins={},nf.__systems={};let sy=nf;Ye.handleByMap(De.RendererPlugin,sy.__plugins);Ye.handleByMap(De.RendererSystem,sy.__systems);Ye.add(sy);class Dx extends kc{constructor(e,t){const{width:r,height:s}=t||{};super(r,s),this.items=[],this.itemDirtyIds=[];for(let o=0;o<e;o++){const c=new st;this.items.push(c),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof kc?this.addResourceAt(e[r],r):this.addResourceAt(Z_(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:r}=this.items[0];return this.resize(t,r),this.update(),Promise.resolve(this)}),this._load}}class ub extends Dx{constructor(e,t){const{width:r,height:s}=t||{};let o,c;Array.isArray(e)?(o=e,c=e.length):c=e,super(c,{width:r,height:s}),o&&this.initFromArray(o,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=th.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:s,itemDirtyIds:o,items:c}=this,{gl:d}=e;r.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,t.format,r.type,null);for(let p=0;p<s;p++){const g=c[p];o[p]<g.dirtyId&&(o[p]=g.dirtyId,g.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,p,g.resource.width,g.resource.height,1,t.format,r.type,g.resource.source))}return!0}}class hb extends ga{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Nx=class Ec extends Dx{constructor(e,t){const{width:r,height:s,autoLoad:o,linkBaseTexture:c}=t||{};if(e&&e.length!==Ec.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:r,height:s});for(let d=0;d<Ec.SIDES;d++)this.items[d].target=th.TEXTURE_CUBE_MAP_POSITIVE_X+d;this.linkBaseTexture=c!==!1,e&&this.initFromArray(e,t),o!==!1&&this.load()}bind(e){super.bind(e),e.target=th.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=th.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,r){const s=this.itemDirtyIds;for(let o=0;o<Ec.SIDES;o++){const c=this.items[o];(s[o]<c.dirtyId||r.dirtyId<t.dirtyId)&&(c.valid&&c.resource?(c.resource.upload(e,c,r),s[o]=c.dirtyId):s[o]<-1&&(e.gl.texImage2D(c.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),s[o]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Ec.SIDES}};Nx.SIDES=6;let cb=Nx;class Ju extends ga{constructor(e,t){t=t||{};let r,s,o;typeof e=="string"?(r=Ju.EMPTY,s=e,o=!0):(r=e,s=null,o=!1),super(r),this.url=s,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??o,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const r=await Be.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await r.blob();if(this.destroyed)return;const o=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===zn.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),e(this)}catch(r){if(this.destroyed)return;t(r),this.onError.emit(r)}}),this._load)}upload(e,t,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Ju._EMPTY=Ju._EMPTY??Be.ADAPTER.createCanvas(0,0),Ju._EMPTY}}const bg=class sf extends ga{constructor(e,t){t=t||{},super(Be.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},sf.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;ga.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=t*this.scale,o=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/r*t,o=this._overrideHeight||this._overrideWidth/t*r),s=Math.round(s),o=Math.round(o);const c=this.source;c.width=s,c.height=o,c._pixiId=`canvas_${Gl()}`,c.getContext("2d").drawImage(e,0,0,t,r,0,0,s,o),this._resolve(),this._resolve=null}}static getSize(e){const t=sf.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&sf.SVG_XML.test(e)}};bg.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,bg.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let Tg=bg;class db extends ga{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const Ag=class Cg extends ga{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const r=document.createElement("video");t.autoLoad!==!1&&r.setAttribute("preload","auto"),t.playsinline!==!1&&(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","")),t.muted===!0&&(r.setAttribute("muted",""),r.muted=!0),t.loop===!0&&r.setAttribute("loop",""),t.autoPlay!==!1&&r.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];ga.crossOrigin(r,s,t.crossorigin);for(let o=0;o<e.length;++o){const c=document.createElement("source");let{src:d,mime:p}=e[o];if(d=d||e[o],d.startsWith("data:"))p=d.slice(5,d.indexOf(";"));else if(!d.startsWith("blob:")){const g=d.split("?").shift().toLowerCase(),v=g.slice(g.lastIndexOf(".")+1);p=p||Cg.MIME_TYPES[v]||`video/${v}`}c.src=d,p&&(c.type=p),r.appendChild(c)}e=r}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=Or.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Or.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Or.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Or.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||Cg.TYPES.includes(t)}};Ag.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Ag.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Ox=Ag;fg.push(Ju,ox,hb,Ox,db,Tg,If,cb,ub);class yf{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ot.EMPTY:(e=e||new ot(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:r,b:s,c:o,d:c,tx:d,ty:p}=e,g=r*t.x+o*t.y+d,v=s*t.x+c*t.y+p;this.minX=Math.min(this.minX,g),this.maxX=Math.max(this.maxX,g),this.minY=Math.min(this.minY,v),this.maxY=Math.max(this.maxY,v)}addQuad(e){let t=this.minX,r=this.minY,s=this.maxX,o=this.maxY,c=e[0],d=e[1];t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,o=d>o?d:o,c=e[2],d=e[3],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,o=d>o?d:o,c=e[4],d=e[5],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,o=d>o?d:o,c=e[6],d=e[7],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,o=d>o?d:o,this.minX=t,this.minY=r,this.maxX=s,this.maxY=o}addFrame(e,t,r,s,o){this.addFrameMatrix(e.worldTransform,t,r,s,o)}addFrameMatrix(e,t,r,s,o){const c=e.a,d=e.b,p=e.c,g=e.d,v=e.tx,x=e.ty;let S=this.minX,b=this.minY,T=this.maxX,R=this.maxY,P=c*t+p*r+v,M=d*t+g*r+x;S=P<S?P:S,b=M<b?M:b,T=P>T?P:T,R=M>R?M:R,P=c*s+p*r+v,M=d*s+g*r+x,S=P<S?P:S,b=M<b?M:b,T=P>T?P:T,R=M>R?M:R,P=c*t+p*o+v,M=d*t+g*o+x,S=P<S?P:S,b=M<b?M:b,T=P>T?P:T,R=M>R?M:R,P=c*s+p*o+v,M=d*s+g*o+x,S=P<S?P:S,b=M<b?M:b,T=P>T?P:T,R=M>R?M:R,this.minX=S,this.minY=b,this.maxX=T,this.maxY=R}addVertexData(e,t,r){let s=this.minX,o=this.minY,c=this.maxX,d=this.maxY;for(let p=t;p<r;p+=2){const g=e[p],v=e[p+1];s=g<s?g:s,o=v<o?v:o,c=g>c?g:c,d=v>d?v:d}this.minX=s,this.minY=o,this.maxX=c,this.maxY=d}addVertices(e,t,r,s){this.addVerticesMatrix(e.worldTransform,t,r,s)}addVerticesMatrix(e,t,r,s,o=0,c=o){const d=e.a,p=e.b,g=e.c,v=e.d,x=e.tx,S=e.ty;let b=this.minX,T=this.minY,R=this.maxX,P=this.maxY;for(let M=r;M<s;M+=2){const L=t[M],F=t[M+1],j=d*L+g*F+x,U=v*F+p*L+S;b=Math.min(b,j-o),R=Math.max(R,j+o),T=Math.min(T,U-c),P=Math.max(P,U+c)}this.minX=b,this.minY=T,this.maxX=R,this.maxY=P}addBounds(e){const t=this.minX,r=this.minY,s=this.maxX,o=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>o?e.maxY:o}addBoundsMask(e,t){const r=e.minX>t.minX?e.minX:t.minX,s=e.minY>t.minY?e.minY:t.minY,o=e.maxX<t.maxX?e.maxX:t.maxX,c=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=o&&s<=c){const d=this.minX,p=this.minY,g=this.maxX,v=this.maxY;this.minX=r<d?r:d,this.minY=s<p?s:p,this.maxX=o>g?o:g,this.maxY=c>v?c:v}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const r=e.minX>t.x?e.minX:t.x,s=e.minY>t.y?e.minY:t.y,o=e.maxX<t.x+t.width?e.maxX:t.x+t.width,c=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=o&&s<=c){const d=this.minX,p=this.minY,g=this.maxX,v=this.maxY;this.minX=r<d?r:d,this.minY=s<p?s:p,this.maxX=o>g?o:g,this.maxY=c>v?c:v}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,s,o,c){e-=o,t-=c,r+=o,s+=c,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>s?this.maxY:s}}class Yt extends Bc{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Nf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new yf,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let r=0;r<t.length;++r){const s=t[r];Object.defineProperty(Yt.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new ot),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ot),e=this._localBoundsRect),this._localBounds||(this._localBounds=new yf);const t=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(r==null?void 0:r.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const c=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=s,this._bounds.updateID+=this._boundsID-o,c}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,s){return t&&(e=t.toGlobal(e,r,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,r=1,s=1,o=0,c=0,d=0,p=0,g=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=s||1,this.rotation=o,this.skew.x=c,this.skew.y=d,this.pivot.x=p,this.pivot.y=g,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new fb),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*sE}set angle(e){this.transform.rotation=e*aE}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class fb extends Yt{constructor(){super(...arguments),this.sortDirty=null}}Yt.prototype.displayObjectUpdateTransform=Yt.prototype.updateTransform;const pb=new Ht;function mb(n,e){return n.zIndex===e.zIndex?n._lastSortedIndex-e._lastSortedIndex:n.zIndex-e.zIndex}const Fx=class Pg extends Yt{constructor(){super(),this.children=[],this.sortableChildren=Pg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),s=this.getChildIndex(t);this.children[r]=t,this.children[s]=e,this.onChildrenChange(r<s?r:s)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(e);rh(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],r=this.children.indexOf(t);if(r===-1)return null;t.parent=null,t.transform._parentID=-1,rh(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,rh(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const r=e,s=t,o=s-r;let c;if(o>0&&o<=s){c=this.children.splice(r,o);for(let d=0;d<c.length;++d)c[d].parent=null,c[d].transform&&(c[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let d=0;d<c.length;++d)c[d].emit("removed",this),this.emit("childRemoved",c[d],this,d);return c}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){const s=this.children[t];s._lastSortedIndex=t,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(mb),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const r=this.children[e];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const r=super.getLocalBounds(e);if(!t)for(let s=0,o=this.children.length;s<o;++s){const c=this.children[s];c.visible&&c.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let r,s;this.cullArea?(r=this.cullArea,s=this.worldTransform):this._render!==Pg.prototype._render&&(r=this.getBounds(!0));const o=e.projection.transform;if(o&&(s?(s=pb.copyFrom(s),s.prepend(o)):s=o),r&&t.intersects(r,s))this._render(e);else if(this.cullArea)return;for(let c=0,d=this.children.length;c<d;++c){const p=this.children[c],g=p.cullable;p.cullable=g||!this.cullArea,p.render(e),p.cullable=g}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(t=this.filters)!=null&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let r=0,s=this.children.length;r<s;++r)this.children[r].render(e)}}renderAdvanced(e){var o,c,d;const t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let p=0;p<t.length;p++)t[p].enabled&&this._enabledFilters.push(t[p])}const s=t&&((o=this._enabledFilters)==null?void 0:o.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Tr.NONE));if(s&&e.batch.flush(),t&&((c=this._enabledFilters)!=null&&c.length)&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let p=0,g=this.children.length;p<g;++p)this.children[p].render(e)}s&&e.batch.flush(),r&&e.mask.pop(this),t&&((d=this._enabledFilters)!=null&&d.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(let s=0;s<r.length;++s)r[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};Fx.defaultSortableChildren=!1;let gn=Fx;gn.prototype.containerUpdateTransform=gn.prototype.updateTransform;Object.defineProperties(Be,{SORTABLE_CHILDREN:{get(){return gn.defaultSortableChildren},set(n){dt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),gn.defaultSortableChildren=n}}});var Ff=(n=>(n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",n))(Ff||{});const gc=new ft,gb=new Uint16Array([0,1,2,0,2,3]);class Os extends gn{constructor(e){super(),this._anchor=new Ps(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new zt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=tt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Me.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=gb,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Be.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=wo(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=wo(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,r=t.a,s=t.b,o=t.c,c=t.d,d=t.tx,p=t.ty,g=this.vertexData,v=e.trim,x=e.orig,S=this._anchor;let b=0,T=0,R=0,P=0;if(v?(T=v.x-S._x*x.width,b=T+v.width,P=v.y-S._y*x.height,R=P+v.height):(T=-S._x*x.width,b=T+x.width,P=-S._y*x.height,R=P+x.height),g[0]=r*T+o*P+d,g[1]=c*P+s*T+p,g[2]=r*b+o*P+d,g[3]=c*P+s*b+p,g[4]=r*b+o*R+d,g[5]=c*R+s*b+p,g[6]=r*T+o*R+d,g[7]=c*R+s*T+p,this._roundPixels){const M=Be.RESOLUTION;for(let L=0;L<g.length;++L)g[L]=Math.round(g[L]*M)/M}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,r=e.orig,s=this._anchor,o=this.transform.worldTransform,c=o.a,d=o.b,p=o.c,g=o.d,v=o.tx,x=o.ty,S=-s._x*r.width,b=S+r.width,T=-s._y*r.height,R=T+r.height;if(t[0]=c*S+p*T+v,t[1]=g*T+d*S+x,t[2]=c*b+p*T+v,t[3]=g*T+d*b+x,t[4]=c*b+p*R+v,t[5]=g*R+d*b+x,t[6]=c*S+p*R+v,t[7]=g*R+d*S+x,this._roundPixels){const P=Be.RESOLUTION;for(let M=0;M<t.length;++M)t[M]=Math.round(t[M]*P)/P}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new yf),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ot),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,gc);const t=this._texture.orig.width,r=this._texture.orig.height,s=-t*this.anchor.x;let o=0;return gc.x>=s&&gc.x<s+t&&(o=-r*this.anchor.y,gc.y>=o&&gc.y<o+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const t=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const r=e instanceof Me?e:Me.from(e,t);return new Os(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=wo(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=wo(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Me.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Ld={willReadFrequently:!0},bs=class Qe{static get experimentalLetterSpacingSupported(){let e=Qe._experimentalLetterSpacingSupported;if(e!==void 0){const t=Be.ADAPTER.getCanvasRenderingContext2D().prototype;e=Qe._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,r,s,o,c,d,p,g){this.text=e,this.style=t,this.width=r,this.height=s,this.lines=o,this.lineWidths=c,this.lineHeight=d,this.maxLineWidth=p,this.fontProperties=g}static measureText(e,t,r,s=Qe._canvas){r=r??t.wordWrap;const o=t.toFontString(),c=Qe.measureFont(o);c.fontSize===0&&(c.fontSize=t.fontSize,c.ascent=t.fontSize);const d=s.getContext("2d",Ld);d.font=o;const p=(r?Qe.wordWrap(e,t,s):e).split(/(?:\r\n|\r|\n)/),g=new Array(p.length);let v=0;for(let T=0;T<p.length;T++){const R=Qe._measureText(p[T],t.letterSpacing,d);g[T]=R,v=Math.max(v,R)}let x=v+t.strokeThickness;t.dropShadow&&(x+=t.dropShadowDistance);const S=t.lineHeight||c.fontSize+t.strokeThickness;let b=Math.max(S,c.fontSize+t.strokeThickness*2)+t.leading+(p.length-1)*(S+t.leading);return t.dropShadow&&(b+=t.dropShadowDistance),new Qe(e,t,x,b,p,g,S+t.leading,v,c)}static _measureText(e,t,r){let s=!1;Qe.experimentalLetterSpacingSupported&&(Qe.experimentalLetterSpacing?(r.letterSpacing=`${t}px`,r.textLetterSpacing=`${t}px`,s=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let o=r.measureText(e).width;return o>0&&(s?o-=t:o+=(Qe.graphemeSegmenter(e).length-1)*t),o}static wordWrap(e,t,r=Qe._canvas){const s=r.getContext("2d",Ld);let o=0,c="",d="";const p=Object.create(null),{letterSpacing:g,whiteSpace:v}=t,x=Qe.collapseSpaces(v),S=Qe.collapseNewlines(v);let b=!x;const T=t.wordWrapWidth+g,R=Qe.tokenize(e);for(let P=0;P<R.length;P++){let M=R[P];if(Qe.isNewline(M)){if(!S){d+=Qe.addLine(c),b=!x,c="",o=0;continue}M=" "}if(x){const F=Qe.isBreakingSpace(M),j=Qe.isBreakingSpace(c[c.length-1]);if(F&&j)continue}const L=Qe.getFromCache(M,g,p,s);if(L>T)if(c!==""&&(d+=Qe.addLine(c),c="",o=0),Qe.canBreakWords(M,t.breakWords)){const F=Qe.wordWrapSplit(M);for(let j=0;j<F.length;j++){let U=F[j],q=U,D=1;for(;F[j+D];){const ue=F[j+D];if(!Qe.canBreakChars(q,ue,M,j,t.breakWords))U+=ue;else break;q=ue,D++}j+=D-1;const Z=Qe.getFromCache(U,g,p,s);Z+o>T&&(d+=Qe.addLine(c),b=!1,c="",o=0),c+=U,o+=Z}}else{c.length>0&&(d+=Qe.addLine(c),c="",o=0);const F=P===R.length-1;d+=Qe.addLine(M,!F),b=!1,c="",o=0}else L+o>T&&(b=!1,d+=Qe.addLine(c),c="",o=0),(c.length>0||!Qe.isBreakingSpace(M)||b)&&(c+=M,o+=L)}return d+=Qe.addLine(c,!1),d}static addLine(e,t=!0){return e=Qe.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,r,s){let o=r[e];return typeof o!="number"&&(o=Qe._measureText(e,t,s)+t,r[e]=o),o}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const r=e[t];if(!Qe.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:Qe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:Qe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let r="";if(typeof e!="string")return t;for(let s=0;s<e.length;s++){const o=e[s],c=e[s+1];if(Qe.isBreakingSpace(o,c)||Qe.isNewline(o)){r!==""&&(t.push(r),r=""),t.push(o);continue}r+=o}return r!==""&&t.push(r),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,s,o){return!0}static wordWrapSplit(e){return Qe.graphemeSegmenter(e)}static measureFont(e){if(Qe._fonts[e])return Qe._fonts[e];const t={ascent:0,descent:0,fontSize:0},r=Qe._canvas,s=Qe._context;s.font=e;const o=Qe.METRICS_STRING+Qe.BASELINE_SYMBOL,c=Math.ceil(s.measureText(o).width);let d=Math.ceil(s.measureText(Qe.BASELINE_SYMBOL).width);const p=Math.ceil(Qe.HEIGHT_MULTIPLIER*d);if(d=d*Qe.BASELINE_MULTIPLIER|0,c===0||p===0)return Qe._fonts[e]=t,t;r.width=c,r.height=p,s.fillStyle="#f00",s.fillRect(0,0,c,p),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o,0,d);const g=s.getImageData(0,0,c,p).data,v=g.length,x=c*4;let S=0,b=0,T=!1;for(S=0;S<d;++S){for(let R=0;R<x;R+=4)if(g[b+R]!==255){T=!0;break}if(!T)b+=x;else break}for(t.ascent=d-S,b=v-x,T=!1,S=p;S>d;--S){for(let R=0;R<x;R+=4)if(g[b+R]!==255){T=!0;break}if(!T)b-=x;else break}return t.descent=S-d,t.fontSize=t.ascent+t.descent,Qe._fonts[e]=t,t}static clearMetrics(e=""){e?delete Qe._fonts[e]:Qe._fonts={}}static get _canvas(){var e;if(!Qe.__canvas){let t;try{const r=new OffscreenCanvas(0,0);if((e=r.getContext("2d",Ld))!=null&&e.measureText)return Qe.__canvas=r,r;t=Be.ADAPTER.createCanvas()}catch{t=Be.ADAPTER.createCanvas()}t.width=t.height=10,Qe.__canvas=t}return Qe.__canvas}static get _context(){return Qe.__context||(Qe.__context=Qe._canvas.getContext("2d",Ld)),Qe.__context}};bs.METRICS_STRING="|q",bs.BASELINE_SYMBOL="M",bs.BASELINE_MULTIPLIER=1.4,bs.HEIGHT_MULTIPLIER=2,bs.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const n=new Intl.Segmenter;return e=>[...n.segment(e)].map(t=>t.segment)}return n=>[...n]})(),bs.experimentalLetterSpacing=!1,bs._fonts={},bs._newlines=[10,13],bs._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let _o=bs;const yb=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Bx=class bc{constructor(e){this.styleID=0,this.reset(),$m(this,e,e)}clone(){const e={};return $m(e,this,bc.defaultStyle),new bc(e)}reset(){$m(this,bc.defaultStyle,bc.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=Hm(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=Hm(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){vb(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=Hm(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let s=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!yb.includes(s)&&(s=`"${s}"`),t[r]=s}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};Bx.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ff.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ya=Bx;function Hm(n){const e=zt.shared,t=r=>{const s=e.setValue(r);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(n)?n.map(t):t(n)}function vb(n,e){if(!Array.isArray(n)||!Array.isArray(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0}function $m(n,e,t){for(const r in t)Array.isArray(e[r])?n[r]=e[r].slice():n[r]=e[r]}const _b={texture:!0,children:!1,baseTexture:!0},Lx=class Rg extends Os{constructor(e,t,r){let s=!1;r||(r=Be.ADAPTER.createCanvas(),s=!0),r.width=3,r.height=3;const o=Me.from(r);o.orig=new ot,o.trim=new ot,super(o),this._ownCanvas=s,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=Rg.defaultResolution??Be.RESOLUTION,this._autoResolution=Rg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return _o.experimentalLetterSpacing}static set experimentalLetterSpacing(e){dt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),_o.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const r=this.context,s=_o.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,c=s.height,d=s.lines,p=s.lineHeight,g=s.lineWidths,v=s.maxLineWidth,x=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,c)+t.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;let S,b;const T=t.dropShadow?2:1;for(let R=0;R<T;++R){const P=t.dropShadow&&R===0,M=P?Math.ceil(Math.max(1,c)+t.padding*2):0,L=M*this._resolution;if(P){r.fillStyle="black",r.strokeStyle="black";const j=t.dropShadowColor,U=t.dropShadowBlur*this._resolution,q=t.dropShadowDistance*this._resolution;r.shadowColor=zt.shared.setValue(j).setAlpha(t.dropShadowAlpha).toRgbaString(),r.shadowBlur=U,r.shadowOffsetX=Math.cos(t.dropShadowAngle)*q,r.shadowOffsetY=Math.sin(t.dropShadowAngle)*q+L}else r.fillStyle=this._generateFillStyle(t,d,s),r.strokeStyle=t.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let F=(p-x.fontSize)/2;p-x.fontSize<0&&(F=0);for(let j=0;j<d.length;j++)S=t.strokeThickness/2,b=t.strokeThickness/2+j*p+x.ascent+F,t.align==="right"?S+=v-g[j]:t.align==="center"&&(S+=(v-g[j])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(d[j],S+t.padding,b+t.padding-M,!0),t.fill&&this.drawLetterSpacing(d[j],S+t.padding,b+t.padding-M)}this.updateTexture()}drawLetterSpacing(e,t,r,s=!1){const o=this._style.letterSpacing;let c=!1;if(_o.experimentalLetterSpacingSupported&&(_o.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,c=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||c){s?this.context.strokeText(e,t,r):this.context.fillText(e,t,r);return}let d=t;const p=_o.graphemeSegmenter(e);let g=this.context.measureText(e).width,v=0;for(let x=0;x<p.length;++x){const S=p[x];s?this.context.strokeText(S,d,r):this.context.fillText(S,d,r);let b="";for(let T=x+1;T<p.length;++T)b+=p[T];v=this.context.measureText(b).width,d+=g-v+o,g=v}}updateTexture(){const e=this.canvas;if(this._style.trim){const c=YS(e);c.data&&(e.width=c.width,e.height=c.height,this.context.putImageData(c.data,0,0))}const t=this._texture,r=this._style,s=r.trim?0:r.padding,o=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-s,t.trim.y=-s,t.orig.width=t._frame.width-s*2,t.orig.height=t._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let o;const c=e.dropShadow?e.dropShadowDistance:0,d=e.padding||0,p=this.canvas.width/this._resolution-c-d*2,g=this.canvas.height/this._resolution-c-d*2,v=s.slice(),x=e.fillGradientStops.slice();if(!x.length){const S=v.length+1;for(let b=1;b<S;++b)x.push(b/S)}if(v.unshift(s[0]),x.unshift(0),v.push(s[s.length-1]),x.push(1),e.fillGradientType===Ff.LINEAR_VERTICAL){o=this.context.createLinearGradient(p/2,d,p/2,g+d);const S=r.fontProperties.fontSize+e.strokeThickness;for(let b=0;b<t.length;b++){const T=r.lineHeight*(b-1)+S,R=r.lineHeight*b;let P=R;b>0&&T>R&&(P=(R+T)/2);const M=R+S,L=r.lineHeight*(b+1);let F=M;b+1<t.length&&L<M&&(F=(M+L)/2);const j=(F-P)/g;for(let U=0;U<v.length;U++){let q=0;typeof x[U]=="number"?q=x[U]:q=U/v.length;let D=Math.min(1,Math.max(0,P/g+q*j));D=Number(D.toFixed(5)),o.addColorStop(D,v[U])}}}else{o=this.context.createLinearGradient(d,g/2,p+d,g/2);const S=v.length+1;let b=1;for(let T=0;T<v.length;T++){let R;typeof x[T]=="number"?R=x[T]:R=b/S,o.addColorStop(R,v[T]),b++}}return o}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},_b,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=wo(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=wo(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof ya?this._style=e:this._style=new ya(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};Lx.defaultAutoResolution=!0;let ay=Lx;class vf{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class af{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in t){const c=t[o].match(/^[a-z]+/gm)[0],d=t[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const g in d){const v=d[g].split("="),x=v[0],S=v[1].replace(/"/gm,""),b=parseFloat(S),T=isNaN(b)?S:b;p[x]=T}r[c].push(p)}const s=new vf;return r.info.forEach(o=>s.info.push({face:o.face,size:parseInt(o.size,10)})),r.common.forEach(o=>s.common.push({lineHeight:parseInt(o.lineHeight,10)})),r.page.forEach(o=>s.page.push({id:parseInt(o.id,10),file:o.file})),r.char.forEach(o=>s.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),r.kerning.forEach(o=>s.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),r.distanceField.forEach(o=>s.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),s}}class Ig{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new vf,r=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),o=e.getElementsByTagName("page"),c=e.getElementsByTagName("char"),d=e.getElementsByTagName("kerning"),p=e.getElementsByTagName("distanceField");for(let g=0;g<r.length;g++)t.info.push({face:r[g].getAttribute("face"),size:parseInt(r[g].getAttribute("size"),10)});for(let g=0;g<s.length;g++)t.common.push({lineHeight:parseInt(s[g].getAttribute("lineHeight"),10)});for(let g=0;g<o.length;g++)t.page.push({id:parseInt(o[g].getAttribute("id"),10)||0,file:o[g].getAttribute("file")});for(let g=0;g<c.length;g++){const v=c[g];t.char.push({id:parseInt(v.getAttribute("id"),10),page:parseInt(v.getAttribute("page"),10)||0,x:parseInt(v.getAttribute("x"),10),y:parseInt(v.getAttribute("y"),10),width:parseInt(v.getAttribute("width"),10),height:parseInt(v.getAttribute("height"),10),xoffset:parseInt(v.getAttribute("xoffset"),10),yoffset:parseInt(v.getAttribute("yoffset"),10),xadvance:parseInt(v.getAttribute("xadvance"),10)})}for(let g=0;g<d.length;g++)t.kerning.push({first:parseInt(d[g].getAttribute("first"),10),second:parseInt(d[g].getAttribute("second"),10),amount:parseInt(d[g].getAttribute("amount"),10)});for(let g=0;g<p.length;g++)t.distanceField.push({fieldType:p[g].getAttribute("fieldType"),distanceRange:parseInt(p[g].getAttribute("distanceRange"),10)});return t}}class kg{static test(e){return typeof e=="string"&&e.includes("<font>")?Ig.test(Be.ADAPTER.parseXML(e)):!1}static parse(e){return Ig.parse(Be.ADAPTER.parseXML(e))}}const jm=[af,Ig,kg];function xb(n){for(let e=0;e<jm.length;e++)if(jm[e].test(n))return jm[e];return null}function wb(n,e,t,r,s,o){const c=t.fill;if(Array.isArray(c)){if(c.length===1)return c[0]}else return c;let d;const p=t.dropShadow?t.dropShadowDistance:0,g=t.padding||0,v=n.width/r-p-g*2,x=n.height/r-p-g*2,S=c.slice(),b=t.fillGradientStops.slice();if(!b.length){const T=S.length+1;for(let R=1;R<T;++R)b.push(R/T)}if(S.unshift(c[0]),b.unshift(0),S.push(c[c.length-1]),b.push(1),t.fillGradientType===Ff.LINEAR_VERTICAL){d=e.createLinearGradient(v/2,g,v/2,x+g);let T=0;const R=(o.fontProperties.fontSize+t.strokeThickness)/x;for(let P=0;P<s.length;P++){const M=o.lineHeight*P;for(let L=0;L<S.length;L++){let F=0;typeof b[L]=="number"?F=b[L]:F=L/S.length;const j=M/x+F*R;let U=Math.max(T,j);U=Math.min(U,1),d.addColorStop(U,S[L]),T=U}}}else{d=e.createLinearGradient(g,x/2,v+g,x/2);const T=S.length+1;let R=1;for(let P=0;P<S.length;P++){let M;typeof b[P]=="number"?M=b[P]:M=R/T,d.addColorStop(M,S[P]),R++}}return d}function Sb(n,e,t,r,s,o,c){const d=t.text,p=t.fontProperties;e.translate(r,s),e.scale(o,o);const g=c.strokeThickness/2,v=-(c.strokeThickness/2);if(e.font=c.toFontString(),e.lineWidth=c.strokeThickness,e.textBaseline=c.textBaseline,e.lineJoin=c.lineJoin,e.miterLimit=c.miterLimit,e.fillStyle=wb(n,e,c,o,[d],t),e.strokeStyle=c.stroke,c.dropShadow){const x=c.dropShadowColor,S=c.dropShadowBlur*o,b=c.dropShadowDistance*o;e.shadowColor=zt.shared.setValue(x).setAlpha(c.dropShadowAlpha).toRgbaString(),e.shadowBlur=S,e.shadowOffsetX=Math.cos(c.dropShadowAngle)*b,e.shadowOffsetY=Math.sin(c.dropShadowAngle)*b}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;c.stroke&&c.strokeThickness&&e.strokeText(d,g,v+t.lineHeight-p.descent),c.fill&&e.fillText(d,g,v+t.lineHeight-p.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function of(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}function Ux(n){return Array.from?Array.from(n):n.split("")}function Eb(n){typeof n=="string"&&(n=[n]);const e=[];for(let t=0,r=n.length;t<r;t++){const s=n[t];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);const o=s[0].charCodeAt(0),c=s[1].charCodeAt(0);if(c<o)throw new Error("[BitmapFont]: Invalid character range.");for(let d=o,p=c;d<=p;d++)e.push(String.fromCharCode(d))}else e.push(...Ux(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const go=class Ts{constructor(e,t,r){var v;const[s]=e.info,[o]=e.common,[c]=e.page,[d]=e.distanceField,p=ma(c.file),g={};this._ownsTextures=r,this.font=s.face,this.size=s.size,this.lineHeight=o.lineHeight/p,this.chars={},this.pageTextures=g;for(let x=0;x<e.page.length;x++){const{id:S,file:b}=e.page[x];g[S]=t instanceof Array?t[x]:t[b],d!=null&&d.fieldType&&d.fieldType!=="none"&&(g[S].baseTexture.alphaMode=zn.NO_PREMULTIPLIED_ALPHA,g[S].baseTexture.mipmap=ks.OFF)}for(let x=0;x<e.char.length;x++){const{id:S,page:b}=e.char[x];let{x:T,y:R,width:P,height:M,xoffset:L,yoffset:F,xadvance:j}=e.char[x];T/=p,R/=p,P/=p,M/=p,L/=p,F/=p,j/=p;const U=new ot(T+g[b].frame.x/p,R+g[b].frame.y/p,P,M);this.chars[S]={xOffset:L,yOffset:F,xAdvance:j,kerning:{},texture:new Me(g[b].baseTexture,U),page:b}}for(let x=0;x<e.kerning.length;x++){let{first:S,second:b,amount:T}=e.kerning[x];S/=p,b/=p,T/=p,this.chars[b]&&(this.chars[b].kerning[S]=T)}this.distanceFieldRange=d==null?void 0:d.distanceRange,this.distanceFieldType=((v=d==null?void 0:d.fieldType)==null?void 0:v.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,r){let s;if(e instanceof vf)s=e;else{const c=xb(e);if(!c)throw new Error("Unrecognized data format for font.");s=c.parse(e)}t instanceof Me&&(t=[t]);const o=new Ts(s,t,r);return Ts.available[o.font]=o,o}static uninstall(e){const t=Ts.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete Ts.available[e]}static from(e,t,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:o,resolution:c,textureWidth:d,textureHeight:p,...g}=Object.assign({},Ts.defaultOptions,r),v=Eb(s),x=t instanceof ya?t:new ya(t),S=d,b=new vf;b.info[0]={face:x.fontFamily,size:x.fontSize},b.common[0]={lineHeight:x.fontSize};let T=0,R=0,P,M,L,F=0;const j=[];for(let q=0;q<v.length;q++){P||(P=Be.ADAPTER.createCanvas(),P.width=d,P.height=p,M=P.getContext("2d"),L=new st(P,{resolution:c,...g}),j.push(new Me(L)),b.page.push({id:j.length-1,file:""}));const D=v[q],Z=_o.measureText(D,x,!1,P),ue=Z.width,ce=Math.ceil(Z.height),Se=Math.ceil((x.fontStyle==="italic"?2:1)*ue);if(R>=p-ce*c){if(R===0)throw new Error(`[BitmapFont] textureHeight ${p}px is too small (fontFamily: '${x.fontFamily}', fontSize: ${x.fontSize}px, char: '${D}')`);--q,P=null,M=null,L=null,R=0,T=0,F=0;continue}if(F=Math.max(ce+Z.fontProperties.descent,F),Se*c+T>=S){if(T===0)throw new Error(`[BitmapFont] textureWidth ${d}px is too small (fontFamily: '${x.fontFamily}', fontSize: ${x.fontSize}px, char: '${D}')`);--q,R+=F*c,R=Math.ceil(R),T=0,F=0;continue}Sb(P,M,Z,T,R,c,x);const Q=of(Z.text);b.char.push({id:Q,page:j.length-1,x:T/c,y:R/c,width:Se,height:ce,xoffset:0,yoffset:0,xadvance:ue-(x.dropShadow?x.dropShadowDistance:0)-(x.stroke?x.strokeThickness:0)}),T+=(Se+2*o)*c,T=Math.ceil(T)}if(!(r!=null&&r.skipKerning))for(let q=0,D=v.length;q<D;q++){const Z=v[q];for(let ue=0;ue<D;ue++){const ce=v[ue],Se=M.measureText(Z).width,Q=M.measureText(ce).width,J=M.measureText(Z+ce).width-(Se+Q);J&&b.kerning.push({first:of(Z),second:of(ce),amount:J})}}const U=new Ts(b,j,!0);return Ts.available[e]!==void 0&&Ts.uninstall(e),Ts.available[e]=U,U}};go.ALPHA=[["a","z"],["A","Z"]," "],go.NUMERIC=[["0","9"]],go.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],go.ASCII=[[" ","~"]],go.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:go.ALPHANUMERIC},go.available={};let yo=go;class bb{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const Wm=new ft,z0=new Ul,zx=class Gx extends gn{constructor(e,t,r,s=Yi.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||Ns.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Be.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Yi.TRIANGLES&&t.length<Gx.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const s=this.transform.worldTransform,o=s.a,c=s.b,d=s.c,p=s.d,g=s.tx,v=s.ty,x=this.vertexData;for(let S=0;S<x.length/2;S++){const b=t[S*2],T=t[S*2+1];x[S*2]=o*b+d*T+g,x[S*2+1]=c*b+p*T+v}if(this._roundPixels){const S=Be.RESOLUTION;for(let b=0;b<x.length;++b)x[b]=Math.round(x[b]*S)/S}this.vertexDirty=r}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new bb(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Wm);const t=this.geometry.getBuffer("aVertexPosition").data,r=z0.points,s=this.geometry.getIndex().data,o=s.length,c=this.drawMode===4?3:1;for(let d=0;d+2<o;d+=c){const p=s[d]*2,g=s[d+1]*2,v=s[d+2]*2;if(r[0]=t[p],r[1]=t[p+1],r[2]=t[g],r[3]=t[g+1],r[4]=t[v],r[5]=t[v+1],z0.contains(Wm.x,Wm.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};zx.BATCHABLE_SIZE=100;let Mc=zx;class Bf extends bo{constructor(e,t,r){super();const s=new fr(e),o=new fr(t,!0),c=new fr(r,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,Ze.FLOAT).addAttribute("aTextureCoord",o,2,!1,Ze.FLOAT).addIndex(c),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var Tb=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Ab=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Dc extends Is{constructor(e,t){const r={uSampler:e,alpha:1,uTextureMatrix:Ht.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(r,t.uniforms),super(t.program||da.from(Ab,Tb),r),this._colorDirty=!1,this.uvMatrix=new iy(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new zt(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;zt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var Cb=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,Pb=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const G0=[],H0=[],$0=[],Hx=class $x extends gn{constructor(e,t={}){super();const{align:r,tint:s,maxWidth:o,letterSpacing:c,fontName:d,fontSize:p}=Object.assign({},$x.styleDefaults,t);if(!yo.available[d])throw new Error(`Missing BitmapFont "${d}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new zt(s),this._font=void 0,this._fontName=d,this._fontSize=p,this.text=e,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=c,this._anchor=new Ps(()=>{this.dirty=!0},this,0,0),this._roundPixels=Be.ROUND_PIXELS,this.dirty=!0,this._resolution=Be.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Se;const e=yo.available[this._fontName],t=this.fontSize,r=t/e.size,s=new ft,o=[],c=[],d=[],p=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",g=Ux(p),v=this._maxWidth*e.size/t,x=e.distanceFieldType==="none"?G0:H0;let S=null,b=0,T=0,R=0,P=-1,M=0,L=0,F=0,j=0;for(let Q=0;Q<g.length;Q++){const J=g[Q],le=of(J);if(/(?:\s)/.test(J)&&(P=Q,M=b,j++),J==="\r"||J===`
`){c.push(b),d.push(-1),T=Math.max(T,b),++R,++L,s.x=0,s.y+=e.lineHeight,S=null,j=0;continue}const be=e.chars[le];if(!be)continue;S&&be.kerning[S]&&(s.x+=be.kerning[S]);const B=$0.pop()||{texture:Me.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ft};B.texture=be.texture,B.line=R,B.charCode=le,B.position.x=Math.round(s.x+be.xOffset+this._letterSpacing/2),B.position.y=Math.round(s.y+be.yOffset),B.prevSpaces=j,o.push(B),b=B.position.x+Math.max(be.xAdvance-be.xOffset,be.texture.orig.width),s.x+=be.xAdvance+this._letterSpacing,F=Math.max(F,be.yOffset+be.texture.height),S=le,P!==-1&&v>0&&s.x>v&&(++L,rh(o,1+P-L,1+Q-P),Q=P,P=-1,c.push(M),d.push(o.length>0?o[o.length-1].prevSpaces:0),T=Math.max(T,M),R++,s.x=0,s.y+=e.lineHeight,S=null,j=0)}const U=g[g.length-1];U!=="\r"&&U!==`
`&&(/(?:\s)/.test(U)&&(b=M),c.push(b),T=Math.max(T,b),d.push(-1));const q=[];for(let Q=0;Q<=R;Q++){let J=0;this._align==="right"?J=T-c[Q]:this._align==="center"?J=(T-c[Q])/2:this._align==="justify"&&(J=d[Q]<0?0:(T-c[Q])/d[Q]),q.push(J)}const D=o.length,Z={},ue=[],ce=this._activePagesMeshData;x.push(...ce);for(let Q=0;Q<D;Q++){const J=o[Q].texture,le=J.baseTexture.uid;if(!Z[le]){let be=x.pop();if(!be){const G=new Bf;let C,H;e.distanceFieldType==="none"?(C=new Dc(Me.EMPTY),H=tt.NORMAL):(C=new Dc(Me.EMPTY,{program:da.from(Pb,Cb),uniforms:{uFWidth:0}}),H=tt.NORMAL_NPM);const N=new Mc(G,C);N.blendMode=H,be={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:N,vertices:null,uvs:null,indices:null}}be.index=0,be.indexCount=0,be.vertexCount=0,be.uvsCount=0,be.total=0;const{_textureCache:B}=this;B[le]=B[le]||new Me(J.baseTexture),be.mesh.texture=B[le],be.mesh.tint=this._tintColor.value,ue.push(be),Z[le]=be}Z[le].total++}for(let Q=0;Q<ce.length;Q++)ue.includes(ce[Q])||this.removeChild(ce[Q].mesh);for(let Q=0;Q<ue.length;Q++)ue[Q].mesh.parent!==this&&this.addChild(ue[Q].mesh);this._activePagesMeshData=ue;for(const Q in Z){const J=Z[Q],le=J.total;if(!(((Se=J.indices)==null?void 0:Se.length)>6*le)||J.vertices.length<Mc.BATCHABLE_SIZE*2)J.vertices=new Float32Array(4*2*le),J.uvs=new Float32Array(4*2*le),J.indices=new Uint16Array(6*le);else{const be=J.total,B=J.vertices;for(let G=be*4*2;G<B.length;G++)B[G]=0}J.mesh.size=6*le}for(let Q=0;Q<D;Q++){const J=o[Q];let le=J.position.x+q[J.line]*(this._align==="justify"?J.prevSpaces:1);this._roundPixels&&(le=Math.round(le));const be=le*r,B=J.position.y*r,G=J.texture,C=Z[G.baseTexture.uid],H=G.frame,N=G._uvs,I=C.index++;C.indices[I*6+0]=0+I*4,C.indices[I*6+1]=1+I*4,C.indices[I*6+2]=2+I*4,C.indices[I*6+3]=0+I*4,C.indices[I*6+4]=2+I*4,C.indices[I*6+5]=3+I*4,C.vertices[I*8+0]=be,C.vertices[I*8+1]=B,C.vertices[I*8+2]=be+H.width*r,C.vertices[I*8+3]=B,C.vertices[I*8+4]=be+H.width*r,C.vertices[I*8+5]=B+H.height*r,C.vertices[I*8+6]=be,C.vertices[I*8+7]=B+H.height*r,C.uvs[I*8+0]=N.x0,C.uvs[I*8+1]=N.y0,C.uvs[I*8+2]=N.x1,C.uvs[I*8+3]=N.y1,C.uvs[I*8+4]=N.x2,C.uvs[I*8+5]=N.y2,C.uvs[I*8+6]=N.x3,C.uvs[I*8+7]=N.y3}this._textWidth=T*r,this._textHeight=(s.y+e.lineHeight)*r;for(const Q in Z){const J=Z[Q];if(this.anchor.x!==0||this.anchor.y!==0){let G=0;const C=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let N=0;N<J.total;N++)J.vertices[G++]-=C,J.vertices[G++]-=H,J.vertices[G++]-=C,J.vertices[G++]-=H,J.vertices[G++]-=C,J.vertices[G++]-=H,J.vertices[G++]-=C,J.vertices[G++]-=H}this._maxLineHeight=F*r;const le=J.mesh.geometry.getBuffer("aVertexPosition"),be=J.mesh.geometry.getBuffer("aTextureCoord"),B=J.mesh.geometry.getIndex();le.data=J.vertices,be.data=J.uvs,B.data=J.indices,le.update(),be.update(),B.update()}for(let Q=0;Q<o.length;Q++)$0.push(o[Q]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:r,size:s}=yo.available[this._fontName];if(r!=="none"){const{a:o,b:c,c:d,d:p}=this.worldTransform,g=Math.sqrt(o*o+c*c),v=Math.sqrt(d*d+p*p),x=(Math.abs(g)+Math.abs(v))/2,S=this.fontSize/s,b=e._view.resolution;for(const T of this._activePagesMeshData)T.mesh.shader.uniforms.uFWidth=x*t*S*b}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=yo.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!yo.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??yo.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,r=yo.available[this._fontName].distanceFieldType==="none"?G0:H0;r.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],r.filter(s=>t[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=Me.EMPTY});for(const s in t)t[s].destroy(),delete t[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};Hx.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let Rb=Hx;const j0={loader:De.LoadParser,resolver:De.ResolveParser,cache:De.CacheParser,detection:De.DetectionParser};Ye.handle(De.Asset,n=>{const e=n.ref;Object.entries(j0).filter(([t])=>!!e[t]).forEach(([t,r])=>Ye.add(Object.assign(e[t],{extension:e[t].extension??r})))},n=>{const e=n.ref;Object.keys(j0).filter(t=>!!e[t]).forEach(t=>Ye.remove(e[t]))});class Ib{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ch(n,e){if(Array.isArray(e)){for(const t of e)if(n.startsWith(`data:${t}`))return!0;return!1}return n.startsWith(`data:${e}`)}function Ao(n,e){const t=n.split("?")[0],r=Fr.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Xi=(n,e,t=!1)=>(Array.isArray(n)||(n=[n]),e?n.map(r=>typeof r=="string"||t?e(r):r):n),Mg=(n,e)=>{const t=e.split("?")[1];return t&&(n+=`?${t}`),n};function jx(n,e,t,r,s){const o=e[t];for(let c=0;c<o.length;c++){const d=o[c];t<e.length-1?jx(n.replace(r[t],d),e,t+1,r,s):s.push(n.replace(r[t],d))}}function kb(n){const e=/\{(.*?)\}/g,t=n.match(e),r=[];if(t){const s=[];t.forEach(o=>{const c=o.substring(1,o.length-1).split(",");s.push(c)}),jx(n,s,0,t,r)}else r.push(n);return r}const _f=n=>!Array.isArray(n);class Mb{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=Xi(e);let s;for(let d=0;d<this.parsers.length;d++){const p=this.parsers[d];if(p.test(t)){s=p.getCacheableAssets(r,t);break}}s||(s={},r.forEach(d=>{s[d]=t}));const o=Object.keys(s),c={cacheKeys:o,keys:r};if(r.forEach(d=>{this._cacheMap.set(d,c)}),o.forEach(d=>{this._cache.has(d)&&this._cache.get(d)!==t&&console.warn("[Cache] already has key:",d),this._cache.set(d,s[d])}),t instanceof Me){const d=t;r.forEach(p=>{d.baseTexture!==Me.EMPTY.baseTexture&&st.addToCache(d.baseTexture,p),Me.addToCache(d,p)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(r=>{this._cache.delete(r)}),t.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const Fl=new Mb;class Db{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{var c,d;let s=null,o=null;if(t.loadParser&&(o=this._parserHash[t.loadParser],o||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!o){for(let p=0;p<this.parsers.length;p++){const g=this.parsers[p];if(g.load&&((c=g.test)!=null&&c.call(g,e,t,this))){o=g;break}}if(!o)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await o.load(e,t,this),r.parser=o;for(let p=0;p<this.parsers.length;p++){const g=this.parsers[p];g.parse&&g.parse&&await((d=g.testParse)==null?void 0:d.call(g,s,t,this))&&(s=await g.parse(s,t,this)||s,r.parser=g)}return s})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0;const s={},o=_f(e),c=Xi(e,g=>({alias:[g],src:g})),d=c.length,p=c.map(async g=>{const v=Fr.toAbsolute(g.src);if(!s[g.src])try{this.promiseCache[v]||(this.promiseCache[v]=this._getLoadPromiseAndParser(v,g)),s[g.src]=await this.promiseCache[v].promise,t&&t(++r/d)}catch(x){throw delete this.promiseCache[v],delete s[g.src],new Error(`[Loader.load] Failed to load ${v}.
${x}`)}});return await Promise.all(p),o?s[c[0].src]:s}async unload(e){const t=Xi(e,r=>({alias:[r],src:r})).map(async r=>{var c,d;const s=Fr.toAbsolute(r.src),o=this.promiseCache[s];if(o){const p=await o.promise;delete this.promiseCache[s],(d=(c=o.parser)==null?void 0:c.unload)==null||d.call(c,p,r,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var Zi=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(Zi||{});const Nb=".json",Ob="application/json",Fb={extension:{type:De.LoadParser,priority:Zi.Low},name:"loadJson",test(n){return ch(n,Ob)||Ao(n,Nb)},async load(n){return await(await Be.ADAPTER.fetch(n)).json()}};Ye.add(Fb);const Bb=".txt",Lb="text/plain",Ub={name:"loadTxt",extension:{type:De.LoadParser,priority:Zi.Low},test(n){return ch(n,Lb)||Ao(n,Bb)},async load(n){return await(await Be.ADAPTER.fetch(n)).text()}};Ye.add(Ub);const zb=["normal","bold","100","200","300","400","500","600","700","800","900"],Gb=[".ttf",".otf",".woff",".woff2"],Hb=["font/ttf","font/otf","font/woff","font/woff2"],$b=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function jb(n){const e=Fr.extname(n),t=Fr.basename(n,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let r=t.length>0;for(const o of t)if(!o.match($b)){r=!1;break}let s=t.join(" ");return r||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const Wb=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Vb(n){return Wb.test(n)?n:encodeURI(n)}const Xb={extension:{type:De.LoadParser,priority:Zi.Low},name:"loadWebFont",test(n){return ch(n,Hb)||Ao(n,Gb)},async load(n,e){var r,s,o;const t=Be.ADAPTER.getFontFaceSet();if(t){const c=[],d=((r=e.data)==null?void 0:r.family)??jb(n),p=((o=(s=e.data)==null?void 0:s.weights)==null?void 0:o.filter(v=>zb.includes(v)))??["normal"],g=e.data??{};for(let v=0;v<p.length;v++){const x=p[v],S=new FontFace(d,`url(${Vb(n)})`,{...g,weight:x});await S.load(),t.add(S),c.push(S)}return c.length===1?c[0]:c}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(n){(Array.isArray(n)?n:[n]).forEach(e=>Be.ADAPTER.getFontFaceSet().delete(e))}};Ye.add(Xb);const Yb=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let ih=null,Dg=class{constructor(){ih||(ih=URL.createObjectURL(new Blob([Yb],{type:"application/javascript"}))),this.worker=new Worker(ih)}};Dg.revokeObjectURL=function(){ih&&(URL.revokeObjectURL(ih),ih=null)};const qb=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let sh=null;class Wx{constructor(){sh||(sh=URL.createObjectURL(new Blob([qb],{type:"application/javascript"}))),this.worker=new Worker(sh)}}Wx.revokeObjectURL=function(){sh&&(URL.revokeObjectURL(sh),sh=null)};let W0=0,Vm;class Qb{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new Dg;t.addEventListener("message",r=>{t.terminate(),Dg.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Vm===void 0&&(Vm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Vm&&(this._createdWorkers++,e=new Wx().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise((s,o)=>{this.queue.push({id:e,arguments:t,resolve:s,reject:o})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),r=t.id;this.resolveHash[W0]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:W0++,id:r})}}const V0=new Qb;function Lc(n,e,t){n.resource.internal=!0;const r=new Me(n),s=()=>{delete e.promiseCache[t],Fl.has(t)&&Fl.remove(t)};return r.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),r.once("destroyed",()=>{n.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),r}const Kb=[".jpeg",".jpg",".png",".webp",".avif"],Zb=["image/jpeg","image/png","image/webp","image/avif"];async function Jb(n){const e=await Be.ADAPTER.fetch(n);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const Lf={name:"loadTextures",extension:{type:De.LoadParser,priority:Zi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(n){return ch(n,Zb)||Ao(n,Kb)},async load(n,e,t){var d;const r=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;r?this.config.preferWorkers&&await V0.isImageBitmapSupported()?s=await V0.loadImageBitmap(n):s=await Jb(n):s=await new Promise((p,g)=>{const v=new Image;v.crossOrigin=this.config.crossOrigin,v.src=n,v.complete?p(v):(v.onload=()=>p(v),v.onerror=x=>g(x))});const o={...e.data};o.resolution??(o.resolution=ma(n)),r&&((d=o.resourceOptions)==null?void 0:d.ownsImageBitmap)===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const c=new st(s,o);return c.resource.src=n,Lc(c,t,n)},unload(n){n.destroy(!0)}};Ye.add(Lf);const eT=".svg",tT="image/svg+xml",rT={extension:{type:De.LoadParser,priority:Zi.High},name:"loadSVG",test(n){return ch(n,tT)||Ao(n,eT)},async testParse(n){return Tg.test(n)},async parse(n,e,t){var o;const r=new Tg(n,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await r.load();const s=new st(r,{resolution:ma(n),...e==null?void 0:e.data});return s.resource.src=e.src,Lc(s,t,e.src)},async load(n,e){return(await Be.ADAPTER.fetch(n)).text()},unload:Lf.unload};Ye.add(rT);const nT=[".mp4",".m4v",".webm",".ogv"],iT=["video/mp4","video/webm","video/ogg"],sT={name:"loadVideo",extension:{type:De.LoadParser,priority:Zi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(n){return ch(n,iT)||Ao(n,nT)},async load(n,e,t){var c;let r;const s=await(await Be.ADAPTER.fetch(n)).blob(),o=URL.createObjectURL(s);try{const d={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(c=e==null?void 0:e.data)==null?void 0:c.resourceOptions,autoLoad:!0},p=new Ox(o,d);await p.load();const g=new st(p,{alphaMode:await IS(),resolution:ma(n),...e==null?void 0:e.data});g.resource.src=n,r=Lc(g,t,n),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(d){throw URL.revokeObjectURL(o),d}return r},unload(n){n.destroy(!0)}};Ye.add(sT);class aT{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){const{alias:t,name:r,src:s,srcs:o}=e;return Xi(t||r||s||o,c=>typeof c=="string"?c:Array.isArray(c)?c.map(d=>(d==null?void 0:d.src)??(d==null?void 0:d.srcs)??d):c!=null&&c.src||c!=null&&c.srcs?c.src??c.srcs:c,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const r=[];Array.isArray(t)?t.forEach(s=>{const o=s.src??s.srcs,c=s.alias??s.name;let d;if(typeof c=="string"){const p=this._createBundleAssetId(e,c);r.push(p),d=[c,p]}else{const p=c.map(g=>this._createBundleAssetId(e,g));r.push(...p),d=[...c,...p]}this.add({...s,alias:d,src:o})}):Object.keys(t).forEach(s=>{const o=[s,this._createBundleAssetId(e,s)];if(typeof t[s]=="string")this.add({alias:o,src:t[s]});else if(Array.isArray(t[s]))this.add({alias:o,src:t[s]});else{const c=t[s],d=c.src??c.srcs;this.add({...c,alias:o,src:Array.isArray(d)?d:[d]})}r.push(...o)}),this._bundles[e]=r}add(e,t,r,s,o){const c=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(dt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),c.push({alias:e,src:t,data:r,format:s,loadParser:o})):Array.isArray(e)?c.push(...e):c.push(e);let d;d=p=>{this.hasKey(p)&&console.warn(`[Resolver] already has key: ${p} overwriting`)},Xi(c).forEach(p=>{const{src:g,srcs:v}=p;let{data:x,format:S,loadParser:b}=p;const T=Xi(g||v).map(M=>typeof M=="string"?kb(M):Array.isArray(M)?M:[M]),R=this.getAlias(p);Array.isArray(R)?R.forEach(d):d(R);const P=[];T.forEach(M=>{M.forEach(L=>{let F={};if(typeof L!="object"){F.src=L;for(let j=0;j<this._parsers.length;j++){const U=this._parsers[j];if(U.test(L)){F=U.parse(L);break}}}else x=L.data??x,S=L.format??S,b=L.loadParser??b,F={...F,...L};if(!R)throw new Error(`[Resolver] alias is undefined for this asset: ${F.src}`);F=this.buildResolvedAsset(F,{aliases:R,data:x,format:S,loadParser:b}),P.push(F)})}),R.forEach(M=>{this._assetMap[M]=P})})}resolveBundle(e){const t=_f(e);e=Xi(e);const r={};return e.forEach(s=>{const o=this._bundles[s];if(o){const c=this.resolve(o),d={};for(const p in c){const g=c[p];d[this._extractAssetIdFromBundle(s,p)]=g}r[s]=d}}),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const r={};for(const s in t)r[s]=t[s].src;return r}return t.src}resolve(e){const t=_f(e);e=Xi(e);const r={};return e.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let o=this._assetMap[s];const c=o[0],d=this._getPreferredOrder(o);d==null||d.priority.forEach(p=>{d.params[p].forEach(g=>{const v=o.filter(x=>x[p]?x[p]===g:!1);v.length&&(o=v)})}),this._resolverHash[s]=o[0]??c}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});r[s]=this._resolverHash[s]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const r=e[0],s=this._preferredOrder.find(o=>o.params.format.includes(r.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:r,data:s,loadParser:o,format:c}=t;return(this._basePath||this._rootPath)&&(e.src=Fr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=o??e.loadParser,e.format=c??e.format??Fr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class oT{constructor(){this._detections=[],this._initialized=!1,this.resolver=new aT,this.loader=new Db,this.cache=Fl,this._backgroundLoader=new Ib(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var o,c;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let d=e.manifest;typeof d=="string"&&(d=await this.load(d)),this.resolver.addManifest(d)}const t=((o=e.texturePreference)==null?void 0:o.resolution)??1,r=typeof t=="number"?[t]:t,s=await this._detectFormats({preferredFormats:(c=e.texturePreference)==null?void 0:c.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,r,s,o){this.resolver.add(e,t,r,s,o)}async load(e,t){this._initialized||await this.init();const r=_f(e),s=Xi(e).map(d=>{if(typeof d!="string"){const p=this.resolver.getAlias(d);return p.some(g=>!this.resolver.hasKey(g))&&this.add(d),Array.isArray(p)?p[0]:p}return this.resolver.hasKey(d)||this.add({alias:d,src:d}),d}),o=this.resolver.resolve(s),c=await this._mapLoadToResolve(o,t);return r?c[s[0]]:c}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const s=this.resolver.resolveBundle(e),o={},c=Object.keys(s);let d=0,p=0;const g=()=>{t==null||t(++d/p)},v=c.map(x=>{const S=s[x];return p+=Object.keys(S).length,this._mapLoadToResolve(S,g).then(b=>{o[x]=b})});return await Promise.all(v),r?o[e[0]]:o}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Fl.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=Fl.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const o=await this.loader.load(r,t);this._backgroundLoader.active=!0;const c={};return r.forEach((d,p)=>{const g=o[d.src],v=[d.src];d.alias&&v.push(...d.alias),c[s[p]]=g,Fl.set(v,g)}),c}async unload(e){this._initialized||await this.init();const t=Xi(e).map(s=>typeof s!="string"?s.src:s),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Xi(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map(s=>this._unloadFromResolved(t[s]));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(r=>{Fl.remove(r.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((r,s)=>t.indexOf(r)===s),t}get detections(){return this._detections}get preferWorkers(){return Lf.config.preferWorkers}set preferWorkers(e){dt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}}const Ud=new oT;Ye.handleByList(De.LoadParser,Ud.loader.parsers).handleByList(De.ResolveParser,Ud.resolver.parsers).handleByList(De.CacheParser,Ud.cache.parsers).handleByList(De.DetectionParser,Ud.detections);const lT={extension:De.CacheParser,test:n=>Array.isArray(n)&&n.every(e=>e instanceof Me),getCacheableAssets:(n,e)=>{const t={};return n.forEach(r=>{e.forEach((s,o)=>{t[r+(o===0?"":o+1)]=s})}),t}};Ye.add(lT);async function Vx(n){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=n});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(n)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const uT={extension:{type:De.DetectionParser,priority:1},test:async()=>Vx("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async n=>[...n,"avif"],remove:async n=>n.filter(e=>e!=="avif")};Ye.add(uT);const hT={extension:{type:De.DetectionParser,priority:0},test:async()=>Vx("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async n=>[...n,"webp"],remove:async n=>n.filter(e=>e!=="webp")};Ye.add(hT);const X0=["png","jpg","jpeg"],cT={extension:{type:De.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async n=>[...n,...X0],remove:async n=>n.filter(e=>!X0.includes(e))};Ye.add(cT);const dT="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function oy(n){return dT?!1:document.createElement("video").canPlayType(n)!==""}const fT={extension:{type:De.DetectionParser,priority:0},test:async()=>oy("video/webm"),add:async n=>[...n,"webm"],remove:async n=>n.filter(e=>e!=="webm")};Ye.add(fT);const pT={extension:{type:De.DetectionParser,priority:0},test:async()=>oy("video/mp4"),add:async n=>[...n,"mp4","m4v"],remove:async n=>n.filter(e=>e!=="mp4"&&e!=="m4v")};Ye.add(pT);const mT={extension:{type:De.DetectionParser,priority:0},test:async()=>oy("video/ogg"),add:async n=>[...n,"ogv"],remove:async n=>n.filter(e=>e!=="ogv")};Ye.add(mT);const gT={extension:De.ResolveParser,test:Lf.test,parse:n=>{var e;return{resolution:parseFloat(((e=Be.RETINA_PREFIX.exec(n))==null?void 0:e[1])??"1"),format:Fr.extname(n).slice(1),src:n}}};Ye.add(gT);const yT=[".xml",".fnt"],vT={extension:{type:De.LoadParser,priority:Zi.Normal},name:"loadBitmapFont",test(n){return yT.includes(Fr.extname(n).toLowerCase())},async testParse(n){return af.test(n)||kg.test(n)},async parse(n,e,t){const r=af.test(n)?af.parse(n):kg.parse(n),{src:s}=e,{page:o}=r,c=[];for(let g=0;g<o.length;++g){const v=o[g].file;let x=Fr.join(Fr.dirname(s),v);x=Mg(x,s),c.push(x)}const d=await t.load(c),p=c.map(g=>d[g]);return yo.install(r,p,!0)},async load(n,e){return(await Be.ADAPTER.fetch(n)).text()},unload(n){n.destroy()}};Ye.add(vT);const xf={build(n){const e=n.points;let t,r,s,o,c,d;if(n.type===$r.CIRC){const T=n.shape;t=T.x,r=T.y,c=d=T.radius,s=o=0}else if(n.type===$r.ELIP){const T=n.shape;t=T.x,r=T.y,c=T.width,d=T.height,s=o=0}else{const T=n.shape,R=T.width/2,P=T.height/2;t=T.x+R,r=T.y+P,c=d=Math.max(0,Math.min(T.radius,Math.min(R,P))),s=R-c,o=P-d}if(!(c>=0&&d>=0&&s>=0&&o>=0)){e.length=0;return}const p=Math.ceil(2.3*Math.sqrt(c+d)),g=p*8+(s?4:0)+(o?4:0);if(e.length=g,g===0)return;if(p===0){e.length=8,e[0]=e[6]=t+s,e[1]=e[3]=r+o,e[2]=e[4]=t-s,e[5]=e[7]=r-o;return}let v=0,x=p*4+(s?2:0)+2,S=x,b=g;{const T=s+c,R=o,P=t+T,M=t-T,L=r+R;if(e[v++]=P,e[v++]=L,e[--x]=L,e[--x]=M,o){const F=r-R;e[S++]=M,e[S++]=F,e[--b]=F,e[--b]=P}}for(let T=1;T<p;T++){const R=Math.PI/2*(T/p),P=s+Math.cos(R)*c,M=o+Math.sin(R)*d,L=t+P,F=t-P,j=r+M,U=r-M;e[v++]=L,e[v++]=j,e[--x]=j,e[--x]=F,e[S++]=F,e[S++]=U,e[--b]=U,e[--b]=L}{const T=s,R=o+d,P=t+T,M=t-T,L=r+R,F=r-R;e[v++]=P,e[v++]=L,e[--b]=F,e[--b]=P,s&&(e[v++]=M,e[v++]=L,e[--b]=F,e[--b]=M)}},triangulate(n,e){const t=n.points,r=e.points,s=e.indices;if(t.length===0)return;let o=r.length/2;const c=o;let d,p;if(n.type!==$r.RREC){const v=n.shape;d=v.x,p=v.y}else{const v=n.shape;d=v.x+v.width/2,p=v.y+v.height/2}const g=n.matrix;r.push(n.matrix?g.a*d+g.c*p+g.tx:d,n.matrix?g.b*d+g.d*p+g.ty:p),o++,r.push(t[0],t[1]);for(let v=2;v<t.length;v+=2)r.push(t[v],t[v+1]),s.push(o++,c,o);s.push(c+1,c,o)}};function Y0(n,e=!1){const t=n.length;if(t<6)return;let r=0;for(let s=0,o=n[t-2],c=n[t-1];s<t;s+=2){const d=n[s],p=n[s+1];r+=(d-o)*(p+c),o=d,c=p}if(!e&&r>0||e&&r<=0){const s=t/2;for(let o=s+s%2;o<t;o+=2){const c=t-o-2,d=t-o-1,p=o,g=o+1;[n[c],n[p]]=[n[p],n[c]],[n[d],n[g]]=[n[g],n[d]]}}}const Xx={build(n){n.points=n.shape.points.slice()},triangulate(n,e){let t=n.points;const r=n.holes,s=e.points,o=e.indices;if(t.length>=6){Y0(t,!1);const c=[];for(let g=0;g<r.length;g++){const v=r[g];Y0(v.points,!0),c.push(t.length/2),t=t.concat(v.points)}const d=jw(t,c,2);if(!d)return;const p=s.length/2;for(let g=0;g<d.length;g+=3)o.push(d[g]+p),o.push(d[g+1]+p),o.push(d[g+2]+p);for(let g=0;g<t.length;g++)s.push(t[g])}}},_T={build(n){const e=n.shape,t=e.x,r=e.y,s=e.width,o=e.height,c=n.points;c.length=0,s>=0&&o>=0&&c.push(t,r,t+s,r,t+s,r+o,t,r+o)},triangulate(n,e){const t=n.points,r=e.points;if(t.length===0)return;const s=r.length/2;r.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},xT={build(n){xf.build(n)},triangulate(n,e){xf.triangulate(n,e)}};var gi=(n=>(n.MITER="miter",n.BEVEL="bevel",n.ROUND="round",n))(gi||{}),So=(n=>(n.BUTT="butt",n.ROUND="round",n.SQUARE="square",n))(So||{});const lh={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(n,e=20){if(!this.adaptive||!n||isNaN(n))return e;let t=Math.ceil(n/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class q0{static curveTo(e,t,r,s,o,c){const d=c[c.length-2],p=c[c.length-1]-t,g=d-e,v=s-t,x=r-e,S=Math.abs(p*x-g*v);if(S<1e-8||o===0)return(c[c.length-2]!==e||c[c.length-1]!==t)&&c.push(e,t),null;const b=p*p+g*g,T=v*v+x*x,R=p*v+g*x,P=o*Math.sqrt(b)/S,M=o*Math.sqrt(T)/S,L=P*R/b,F=M*R/T,j=P*x+M*g,U=P*v+M*p,q=g*(M+L),D=p*(M+L),Z=x*(P+F),ue=v*(P+F),ce=Math.atan2(D-U,q-j),Se=Math.atan2(ue-U,Z-j);return{cx:j+e,cy:U+t,radius:o,startAngle:ce,endAngle:Se,anticlockwise:g*v>x*p}}static arc(e,t,r,s,o,c,d,p,g){const v=d-c,x=lh._segmentsCount(Math.abs(v)*o,Math.ceil(Math.abs(v)/df)*40),S=v/(x*2),b=S*2,T=Math.cos(S),R=Math.sin(S),P=x-1,M=P%1/P;for(let L=0;L<=P;++L){const F=L+M*L,j=S+c+b*F,U=Math.cos(j),q=-Math.sin(j);g.push((T*U+R*q)*o+r,(T*-q+R*U)*o+s)}}}class wT{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class ly{static curveLength(e,t,r,s,o,c,d,p){let g=0,v=0,x=0,S=0,b=0,T=0,R=0,P=0,M=0,L=0,F=0,j=e,U=t;for(let q=1;q<=10;++q)v=q/10,x=v*v,S=x*v,b=1-v,T=b*b,R=T*b,P=R*e+3*T*v*r+3*b*x*o+S*d,M=R*t+3*T*v*s+3*b*x*c+S*p,L=j-P,F=U-M,j=P,U=M,g+=Math.sqrt(L*L+F*F);return g}static curveTo(e,t,r,s,o,c,d){const p=d[d.length-2],g=d[d.length-1];d.length-=2;const v=lh._segmentsCount(ly.curveLength(p,g,e,t,r,s,o,c));let x=0,S=0,b=0,T=0,R=0;d.push(p,g);for(let P=1,M=0;P<=v;++P)M=P/v,x=1-M,S=x*x,b=S*x,T=M*M,R=T*M,d.push(b*p+3*S*M*e+3*x*T*r+R*o,b*g+3*S*M*t+3*x*T*s+R*c)}}function Q0(n,e,t,r,s,o,c,d){const p=n-t*s,g=e-r*s,v=n+t*o,x=e+r*o;let S,b;c?(S=r,b=-t):(S=-r,b=t);const T=p+S,R=g+b,P=v+S,M=x+b;return d.push(T,R,P,M),2}function Pl(n,e,t,r,s,o,c,d){const p=t-n,g=r-e;let v=Math.atan2(p,g),x=Math.atan2(s-n,o-e);d&&v<x?v+=Math.PI*2:!d&&v>x&&(x+=Math.PI*2);let S=v;const b=x-v,T=Math.abs(b),R=Math.sqrt(p*p+g*g),P=(15*T*Math.sqrt(R)/Math.PI>>0)+1,M=b/P;if(S+=M,d){c.push(n,e,t,r);for(let L=1,F=S;L<P;L++,F+=M)c.push(n,e,n+Math.sin(F)*R,e+Math.cos(F)*R);c.push(n,e,s,o)}else{c.push(t,r,n,e);for(let L=1,F=S;L<P;L++,F+=M)c.push(n+Math.sin(F)*R,e+Math.cos(F)*R,n,e);c.push(s,o,n,e)}return P*2}function ST(n,e){const t=n.shape;let r=n.points||t.points.slice();const s=e.closePointEps;if(r.length===0)return;const o=n.lineStyle,c=new ft(r[0],r[1]),d=new ft(r[r.length-2],r[r.length-1]),p=t.type!==$r.POLY||t.closeStroke,g=Math.abs(c.x-d.x)<s&&Math.abs(c.y-d.y)<s;if(p){r=r.slice(),g&&(r.pop(),r.pop(),d.set(r[r.length-2],r[r.length-1]));const G=(c.x+d.x)*.5,C=(d.y+c.y)*.5;r.unshift(G,C),r.push(G,C)}const v=e.points,x=r.length/2;let S=r.length;const b=v.length/2,T=o.width/2,R=T*T,P=o.miterLimit*o.miterLimit;let M=r[0],L=r[1],F=r[2],j=r[3],U=0,q=0,D=-(L-j),Z=M-F,ue=0,ce=0,Se=Math.sqrt(D*D+Z*Z);D/=Se,Z/=Se,D*=T,Z*=T;const Q=o.alignment,J=(1-Q)*2,le=Q*2;p||(o.cap===So.ROUND?S+=Pl(M-D*(J-le)*.5,L-Z*(J-le)*.5,M-D*J,L-Z*J,M+D*le,L+Z*le,v,!0)+2:o.cap===So.SQUARE&&(S+=Q0(M,L,D,Z,J,le,!0,v))),v.push(M-D*J,L-Z*J,M+D*le,L+Z*le);for(let G=1;G<x-1;++G){M=r[(G-1)*2],L=r[(G-1)*2+1],F=r[G*2],j=r[G*2+1],U=r[(G+1)*2],q=r[(G+1)*2+1],D=-(L-j),Z=M-F,Se=Math.sqrt(D*D+Z*Z),D/=Se,Z/=Se,D*=T,Z*=T,ue=-(j-q),ce=F-U,Se=Math.sqrt(ue*ue+ce*ce),ue/=Se,ce/=Se,ue*=T,ce*=T;const C=F-M,H=L-j,N=F-U,I=q-j,z=C*N+H*I,X=H*N-I*C,ie=X<0;if(Math.abs(X)<.001*Math.abs(z)){v.push(F-D*J,j-Z*J,F+D*le,j+Z*le),z>=0&&(o.join===gi.ROUND?S+=Pl(F,j,F-D*J,j-Z*J,F-ue*J,j-ce*J,v,!1)+4:S+=2,v.push(F-ue*le,j-ce*le,F+ue*J,j+ce*J));continue}const he=(-D+M)*(-Z+j)-(-D+F)*(-Z+L),pe=(-ue+U)*(-ce+j)-(-ue+F)*(-ce+q),_e=(C*pe-N*he)/X,Ae=(I*he-H*pe)/X,Re=(_e-F)*(_e-F)+(Ae-j)*(Ae-j),ye=F+(_e-F)*J,ke=j+(Ae-j)*J,Ue=F-(_e-F)*le,We=j-(Ae-j)*le,lt=Math.min(C*C+H*H,N*N+I*I),$e=ie?J:le,Ve=lt+$e*$e*R,Dt=Re<=Ve;let $t=o.join;if($t===gi.MITER&&Re/R>P&&($t=gi.BEVEL),Dt)switch($t){case gi.MITER:{v.push(ye,ke,Ue,We);break}case gi.BEVEL:{ie?v.push(ye,ke,F+D*le,j+Z*le,ye,ke,F+ue*le,j+ce*le):v.push(F-D*J,j-Z*J,Ue,We,F-ue*J,j-ce*J,Ue,We),S+=2;break}case gi.ROUND:{ie?(v.push(ye,ke,F+D*le,j+Z*le),S+=Pl(F,j,F+D*le,j+Z*le,F+ue*le,j+ce*le,v,!0)+4,v.push(ye,ke,F+ue*le,j+ce*le)):(v.push(F-D*J,j-Z*J,Ue,We),S+=Pl(F,j,F-D*J,j-Z*J,F-ue*J,j-ce*J,v,!1)+4,v.push(F-ue*J,j-ce*J,Ue,We));break}}else{switch(v.push(F-D*J,j-Z*J,F+D*le,j+Z*le),$t){case gi.MITER:{ie?v.push(Ue,We,Ue,We):v.push(ye,ke,ye,ke),S+=2;break}case gi.ROUND:{ie?S+=Pl(F,j,F+D*le,j+Z*le,F+ue*le,j+ce*le,v,!0)+2:S+=Pl(F,j,F-D*J,j-Z*J,F-ue*J,j-ce*J,v,!1)+2;break}}v.push(F-ue*J,j-ce*J,F+ue*le,j+ce*le),S+=2}}M=r[(x-2)*2],L=r[(x-2)*2+1],F=r[(x-1)*2],j=r[(x-1)*2+1],D=-(L-j),Z=M-F,Se=Math.sqrt(D*D+Z*Z),D/=Se,Z/=Se,D*=T,Z*=T,v.push(F-D*J,j-Z*J,F+D*le,j+Z*le),p||(o.cap===So.ROUND?S+=Pl(F-D*(J-le)*.5,j-Z*(J-le)*.5,F-D*J,j-Z*J,F+D*le,j+Z*le,v,!1)+2:o.cap===So.SQUARE&&(S+=Q0(F,j,D,Z,J,le,!1,v)));const be=e.indices,B=lh.epsilon*lh.epsilon;for(let G=b;G<S+b-2;++G)M=v[G*2],L=v[G*2+1],F=v[(G+1)*2],j=v[(G+1)*2+1],U=v[(G+2)*2],q=v[(G+2)*2+1],!(Math.abs(M*(j-q)+F*(q-L)+U*(L-j))<B)&&be.push(G,G+1,G+2)}function ET(n,e){let t=0;const r=n.shape,s=n.points||r.points,o=r.type!==$r.POLY||r.closeStroke;if(s.length===0)return;const c=e.points,d=e.indices,p=s.length/2,g=c.length/2;let v=g;for(c.push(s[0],s[1]),t=1;t<p;t++)c.push(s[t*2],s[t*2+1]),d.push(v,v+1),v++;o&&d.push(v,g)}function K0(n,e){n.lineStyle.native?ET(n,e):ST(n,e)}class uy{static curveLength(e,t,r,s,o,c){const d=e-2*r+o,p=t-2*s+c,g=2*r-2*e,v=2*s-2*t,x=4*(d*d+p*p),S=4*(d*g+p*v),b=g*g+v*v,T=2*Math.sqrt(x+S+b),R=Math.sqrt(x),P=2*x*R,M=2*Math.sqrt(b),L=S/R;return(P*T+R*S*(T-M)+(4*b*x-S*S)*Math.log((2*R+L+T)/(L+M)))/(4*P)}static curveTo(e,t,r,s,o){const c=o[o.length-2],d=o[o.length-1],p=lh._segmentsCount(uy.curveLength(c,d,e,t,r,s));let g=0,v=0;for(let x=1;x<=p;++x){const S=x/p;g=c+(e-c)*S,v=d+(t-d)*S,o.push(g+(e+(r-e)*S-g)*S,v+(t+(s-t)*S-v)*S)}}}const Xm={[$r.POLY]:Xx,[$r.CIRC]:xf,[$r.ELIP]:xf,[$r.RECT]:_T,[$r.RREC]:xT},Z0=[],zd=[];class wf{constructor(e,t=null,r=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=s,this.type=e.type}clone(){return new wf(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const $u=new ft,Yx=class qx extends J_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new yf,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),zd.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),Z0.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,s=null){const o=new wf(e,t,r,s);return this.graphicsData.push(o),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const r=new wf(e,null,null,t),s=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=s.lineStyle,s.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let r=0;r<t.length;++r){const s=t[r];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,$u):$u.copyFrom(e),s.shape.contains($u.x,$u.y))){let o=!1;if(s.holes){for(let c=0;c<s.holes.length;c++)if(s.holes[c].shape.contains($u.x,$u.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let r=null,s=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],s=r.style);for(let p=this.shapeIndex;p<t.length;p++){this.shapeIndex++;const g=t[p],v=g.fillStyle,x=g.lineStyle;Xm[g.type].build(g),g.matrix&&this.transformPoints(g.points,g.matrix),(v.visible||x.visible)&&this.processHoles(g.holes);for(let S=0;S<2;S++){const b=S===0?v:x;if(!b.visible)continue;const T=b.texture.baseTexture,R=this.indices.length,P=this.points.length/2;T.wrapMode=fa.REPEAT,S===0?this.processFill(g):this.processLine(g);const M=this.points.length/2-P;M!==0&&(r&&!this._compareStyles(s,b)&&(r.end(R,P),r=null),r||(r=Z0.pop()||new wT,r.begin(b,R,P),this.batches.push(r),s=b),this.addUvs(this.points,e,b.texture,P,M,b.matrix))}}const o=this.indices.length,c=this.points.length/2;if(r&&r.end(o,c),this.batches.length===0){this.batchable=!0;return}const d=c>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&d===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=d?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const r=this.graphicsData[e],s=r.fillStyle,o=r.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,r=e.length;t<r;t++){const s=e[t];for(let o=0;o<s.size;o++){const c=s.start+o;this.indicesUint16[c]=this.indicesUint16[c]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<qx.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++st._globalBatch;for(let x=0;x<this.drawCalls.length;x++)this.drawCalls[x].texArray.clear(),zd.push(this.drawCalls[x]);this.drawCalls.length=0;const t=this.colors,r=this.textureIds;let s=zd.pop();s||(s=new mg,s.texArray=new _g),s.texArray.count=0,s.start=0,s.size=0,s.type=Yi.TRIANGLES;let o=0,c=null,d=0,p=!1,g=Yi.TRIANGLES,v=0;this.drawCalls.push(s);for(let x=0;x<this.batches.length;x++){const S=this.batches[x],b=8,T=S.style,R=T.texture.baseTexture;p!==!!T.native&&(p=!!T.native,g=p?Yi.LINES:Yi.TRIANGLES,c=null,o=b,e++),c!==R&&(c=R,R._batchEnabled!==e&&(o===b&&(e++,o=0,s.size>0&&(s=zd.pop(),s||(s=new mg,s.texArray=new _g),this.drawCalls.push(s)),s.start=v,s.size=0,s.texArray.count=0,s.type=g),R.touched=1,R._batchEnabled=e,R._batchLocation=o,R.wrapMode=fa.REPEAT,s.texArray.elements[s.texArray.count++]=R,o++)),s.size+=S.size,v+=S.size,d=R._batchLocation,this.addColors(t,T.color,T.alpha,S.attribSize,S.attribStart),this.addTextureIds(r,d,S.attribSize,S.attribStart)}st._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,r=this.colors,s=this.textureIds,o=new ArrayBuffer(e.length*3*4),c=new Float32Array(o),d=new Uint32Array(o);let p=0;for(let g=0;g<e.length/2;g++)c[p++]=e[g*2],c[p++]=e[g*2+1],c[p++]=t[g*2],c[p++]=t[g*2+1],d[p++]=r[g],c[p++]=s[g];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?Xx.triangulate(e,this):Xm[e.type].triangulate(e,this)}processLine(e){K0(e,this);for(let t=0;t<e.holes.length;t++)K0(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const r=e[t];Xm[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){const s=e[r*2],o=e[r*2+1];e[r*2]=t.a*s+t.c*o+t.tx,e[r*2+1]=t.b*s+t.d*o+t.ty}}addColors(e,t,r,s,o=0){const c=zt.shared.setValue(t).toLittleEndianNumber(),d=zt.shared.setValue(c).toPremultiplied(r);e.length=Math.max(e.length,o+s);for(let p=0;p<s;p++)e[o+p]=d}addTextureIds(e,t,r,s=0){e.length=Math.max(e.length,s+r);for(let o=0;o<r;o++)e[s+o]=t}addUvs(e,t,r,s,o,c=null){let d=0;const p=t.length,g=r.frame;for(;d<o;){let x=e[(s+d)*2],S=e[(s+d)*2+1];if(c){const b=c.a*x+c.c*S+c.tx;S=c.b*x+c.d*S+c.ty,x=b}d++,t.push(x/g.width,S/g.height)}const v=r.baseTexture;(g.width<v.width||g.height<v.height)&&this.adjustUvs(t,r,p,o)}adjustUvs(e,t,r,s){const o=t.baseTexture,c=1e-6,d=r+s*2,p=t.frame,g=p.width/o.width,v=p.height/o.height;let x=p.x/p.width,S=p.y/p.height,b=Math.floor(e[r]+c),T=Math.floor(e[r+1]+c);for(let R=r+2;R<d;R+=2)b=Math.min(b,Math.floor(e[R]+c)),T=Math.min(T,Math.floor(e[R+1]+c));x-=b,S-=T;for(let R=r;R<d;R+=2)e[R]=(e[R]+x)*g,e[R+1]=(e[R+1]+S)*v}};Yx.BATCHABLE_SIZE=100;let bT=Yx;class Uf{constructor(){this.color=16777215,this.alpha=1,this.texture=Me.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Uf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Me.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class hy extends Uf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=So.BUTT,this.join=gi.MITER,this.miterLimit=10}clone(){const e=new hy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=So.BUTT,this.join=gi.MITER,this.miterLimit=10}}const Ym={},Ng=class lf extends gn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Uf,this._lineStyle=new hy,this._matrix=null,this._holeMode=!1,this.state=Ns.for2d(),this._geometry=e||new bT,this._geometry.refCount++,this._transformID=-1,this._tintColor=new zt(16777215),this.blendMode=tt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new lf(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,s=.5,o=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:r,alignment:s,native:o}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:Me.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:So.BUTT,join:gi.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Ul,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Ul,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,s=r[r.length-2],o=r[r.length-1];return(s!==e||o!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,s){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),uy.curveTo(e,t,r,s,o),this}bezierCurveTo(e,t,r,s,o,c){return this._initCurve(),ly.curveTo(e,t,r,s,o,c,this.currentPath.points),this}arcTo(e,t,r,s,o){this._initCurve(e,t);const c=this.currentPath.points,d=q0.curveTo(e,t,r,s,o,c);if(d){const{cx:p,cy:g,radius:v,startAngle:x,endAngle:S,anticlockwise:b}=d;this.arc(p,g,v,x,S,b)}return this}arc(e,t,r,s,o,c=!1){if(s===o)return this;if(!c&&o<=s?o+=df:c&&s<=o&&(s+=df),o-s===0)return this;const d=e+Math.cos(s)*r,p=t+Math.sin(s)*r,g=this._geometry.closePointEps;let v=this.currentPath?this.currentPath.points:null;if(v){const x=Math.abs(v[v.length-2]-d),S=Math.abs(v[v.length-1]-p);x<g&&S<g||v.push(d,p)}else this.moveTo(d,p),v=this.currentPath.points;return q0.arc(d,p,e,t,r,s,o,c,v),this}beginFill(e=0,t){return this.beginTextureFill({texture:Me.WHITE,color:e,alpha:t})}normalizeColor(e){const t=zt.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:Me.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,s){return this.drawShape(new ot(e,t,r,s))}drawRoundedRect(e,t,r,s,o){return this.drawShape(new Df(e,t,r,s,o))}drawCircle(e,t,r){return this.drawShape(new kf(e,t,r))}drawEllipse(e,t,r,s){return this.drawShape(new Mf(e,t,r,s))}drawPolygon(...e){let t,r=!0;const s=e[0];s.points?(r=s.closeStroke,t=s.points):Array.isArray(e[0])?t=e[0]:t=e;const o=new Ul(t);return o.closeStroke=r,this.drawShape(o),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===$r.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let s=0;s<r;s++){const o=e.batches[s],c=o.style.color,d=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),p=new Float32Array(e.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),g=new Uint16Array(e.indicesUint16.buffer,o.start*2,o.size),v={vertexData:d,blendMode:t,indices:g,uvs:p,_batchRGB:zt.shared.setValue(c).toRgbArray(),_tintRGB:c,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=v}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){const s=this.batches[t];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const t=this._resolveDirectShader(e),r=this._geometry,s=this.worldAlpha,o=t.uniforms,c=r.drawCalls;o.translationMatrix=this.transform.worldTransform,zt.shared.setValue(this._tintColor).premultiply(s).toArray(o.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let d=0,p=c.length;d<p;d++)this._renderDrawCallDirect(e,r.drawCalls[d])}_renderDrawCallDirect(e,t){const{texArray:r,type:s,size:o,start:c}=t,d=r.count;for(let p=0;p<d;p++)e.texture.bind(r.elements[p],p);e.geometry.draw(s,o,c)}_resolveDirectShader(e){let t=this.shader;const r=this.pluginName;if(!t){if(!Ym[r]){const{maxTextures:s}=e.plugins[r],o=new Int32Array(s);for(let p=0;p<s;p++)o[p]=p;const c={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:Ki.from({uSamplers:o},!0)},d=e.plugins[r]._shader.program;Ym[r]=new Is(d,c)}t=Ym[r]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:r,maxX:s,maxY:o}=e.bounds;this._bounds.addFrame(this.transform,t,r,s,o)}containsPoint(e){return this.worldTransform.applyInverse(e,lf._TEMP_POINT),this._geometry.containsPoint(lf._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=zt.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,r=t.a,s=t.b,o=t.c,c=t.d,d=t.tx,p=t.ty,g=this._geometry.points,v=this.vertexData;let x=0;for(let S=0;S<g.length;S+=2){const b=g[S],T=g[S+1];v[x++]=r*b+o*T+d,v[x++]=c*T+s*b+p}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};Ng.curves=lh,Ng._TEMP_POINT=new ft;let ah=Ng;class TT extends Bf{constructor(e=100,t=100,r=10,s=10){super(),this.segWidth=r,this.segHeight=s,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],r=[],s=[],o=this.segWidth-1,c=this.segHeight-1,d=this.width/o,p=this.height/c;for(let v=0;v<e;v++){const x=v%this.segWidth,S=v/this.segWidth|0;t.push(x*d,S*p),r.push(x/o,S/c)}const g=o*c;for(let v=0;v<g;v++){const x=v%o,S=v/o|0,b=S*this.segWidth+x,T=S*this.segWidth+x+1,R=(S+1)*this.segWidth+x,P=(S+1)*this.segWidth+x+1;s.push(b,T,R,T,P,R)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class AT extends Bf{constructor(e=200,t,r=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));const o=r.data,c=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;let d=0,p=e[0];const g=this._width*this.textureScale,v=e.length;for(let S=0;S<v;S++){const b=S*4;if(this.textureScale>0){const T=p.x-e[S].x,R=p.y-e[S].y,P=Math.sqrt(T*T+R*R);p=e[S],d+=P/g}else d=S/(v-1);o[b]=d,o[b+1]=0,o[b+2]=d,o[b+3]=1}let x=0;for(let S=0;S<v-1;S++){const b=S*2;c[x++]=b,c[x++]=b+1,c[x++]=b+2,c[x++]=b+2,c[x++]=b+1,c[x++]=b+3}r.update(),s.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],r,s=0,o=0;const c=this.buffers[0].data,d=e.length,p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let g=0;g<d;g++){const v=e[g],x=g*4;g<e.length-1?r=e[g+1]:r=v,o=-(r.x-t.x),s=r.y-t.y;const S=Math.sqrt(s*s+o*o);S<1e-6?(s=0,o=0):(s/=S,o/=S,s*=p,o*=p),c[x]=v.x+s,c[x+1]=v.y+o,c[x+2]=v.x-s,c[x+3]=v.y-o,t=v}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class CT extends Mc{constructor(e,t,r){const s=new TT(e.width,e.height,t,r),o=new Dc(Me.WHITE);super(s,o),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:r}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Gd=10;class PT extends CT{constructor(e,t,r,s,o){var c,d,p,g;super(Me.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??((c=e.defaultBorders)==null?void 0:c.left)??Gd,this._rightWidth=s??((d=e.defaultBorders)==null?void 0:d.right)??Gd,this._topHeight=r??((p=e.defaultBorders)==null?void 0:p.top)??Gd,this._bottomHeight=o??((g=e.defaultBorders)==null?void 0:g.bottom)??Gd,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,s=this._height>r?1:this._height/r;return Math.min(t,s)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,s=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=s*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class RT extends Mc{constructor(e=Me.EMPTY,t,r,s,o){const c=new Bf(t,r,s);c.getBuffer("aVertexPosition").static=!1;const d=new Dc(e);super(c,d,null,o),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class IT extends Mc{constructor(e,t,r=0){const s=new AT(e.height,t,r),o=new Dc(e);r>0&&(e.baseTexture.wrapMode=fa.REPEAT),super(s,o),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class kT extends gn{constructor(e=1500,t,r=16384,s=!1){super();const o=16384;r>o&&(r=o),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=tt.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new zt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class J0{constructor(e,t,r){this.geometry=new bo,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let o=e[s];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||Ze.FLOAT,offset:o.offset},t[s]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new fr(jS(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];d.offset=t,t+=d.size,this.dynamicStride+=d.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new fr(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];d.offset=s,s+=d.size,this.staticStride+=d.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new fr(this.staticData,!0,!1);for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];e.addAttribute(d.attributeName,this.dynamicBuffer,0,d.type===Ze.UNSIGNED_BYTE,d.type,this.dynamicStride*4,d.offset*4)}for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];e.addAttribute(d.attributeName,this.staticBuffer,0,d.type===Ze.UNSIGNED_BYTE,d.type,this.staticStride*4,d.offset*4)}}uploadDynamic(e,t,r){for(let s=0;s<this.dynamicProperties.length;s++){const o=this.dynamicProperties[s];o.uploadFunction(e,t,r,o.type===Ze.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let s=0;s<this.staticProperties.length;s++){const o=this.staticProperties[s];o.uploadFunction(e,t,r,o.type===Ze.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var MT=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,DT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Qx extends Of{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ht,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ze.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Is.from(DT,MT,{}),this.state=Ns.for2d()}render(e){const t=e.children,r=e._maxSize,s=e._batchSize,o=this.renderer;let c=t.length;if(c===0)return;c>r&&!e.autoResize&&(c=r);let d=e._buffers;d||(d=e._buffers=this.generateBuffers(e));const p=t[0]._texture.baseTexture,g=p.alphaMode>0;this.state.blendMode=Q_(e.blendMode,g),o.state.set(this.state);const v=o.gl,x=e.worldTransform.copyTo(this.tempMatrix);x.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=x.toArray(!0),this.shader.uniforms.uColor=zt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,g).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=p,this.renderer.shader.bind(this.shader);let S=!1;for(let b=0,T=0;b<c;b+=s,T+=1){let R=c-b;R>s&&(R=s),T>=d.length&&d.push(this._generateOneMoreBuffer(e));const P=d[T];P.uploadDynamic(t,b,R);const M=e._bufferUpdateIDs[T]||0;S=S||P._updateID<M,S&&(P._updateID=e._updateID,P.uploadStatic(t,b,R)),o.geometry.bind(P.geometry),v.drawElements(v.TRIANGLES,R*6,v.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],r=e._maxSize,s=e._batchSize,o=e._properties;for(let c=0;c<r;c+=s)t.push(new J0(this.properties,o,s));return t}_generateOneMoreBuffer(e){const t=e._batchSize,r=e._properties;return new J0(this.properties,r,t)}uploadVertices(e,t,r,s,o,c){let d=0,p=0,g=0,v=0;for(let x=0;x<r;++x){const S=e[t+x],b=S._texture,T=S.scale.x,R=S.scale.y,P=b.trim,M=b.orig;P?(p=P.x-S.anchor.x*M.width,d=p+P.width,v=P.y-S.anchor.y*M.height,g=v+P.height):(d=M.width*(1-S.anchor.x),p=M.width*-S.anchor.x,g=M.height*(1-S.anchor.y),v=M.height*-S.anchor.y),s[c]=p*T,s[c+1]=v*R,s[c+o]=d*T,s[c+o+1]=v*R,s[c+o*2]=d*T,s[c+o*2+1]=g*R,s[c+o*3]=p*T,s[c+o*3+1]=g*R,c+=o*4}}uploadPosition(e,t,r,s,o,c){for(let d=0;d<r;d++){const p=e[t+d].position;s[c]=p.x,s[c+1]=p.y,s[c+o]=p.x,s[c+o+1]=p.y,s[c+o*2]=p.x,s[c+o*2+1]=p.y,s[c+o*3]=p.x,s[c+o*3+1]=p.y,c+=o*4}}uploadRotation(e,t,r,s,o,c){for(let d=0;d<r;d++){const p=e[t+d].rotation;s[c]=p,s[c+o]=p,s[c+o*2]=p,s[c+o*3]=p,c+=o*4}}uploadUvs(e,t,r,s,o,c){for(let d=0;d<r;++d){const p=e[t+d]._texture._uvs;p?(s[c]=p.x0,s[c+1]=p.y0,s[c+o]=p.x1,s[c+o+1]=p.y1,s[c+o*2]=p.x2,s[c+o*2+1]=p.y2,s[c+o*3]=p.x3,s[c+o*3+1]=p.y3,c+=o*4):(s[c]=0,s[c+1]=0,s[c+o]=0,s[c+o+1]=0,s[c+o*2]=0,s[c+o*2+1]=0,s[c+o*3]=0,s[c+o*3+1]=0,c+=o*4)}}uploadTint(e,t,r,s,o,c){for(let d=0;d<r;++d){const p=e[t+d],g=zt.shared.setValue(p._tintRGB).toPremultiplied(p.alpha,p.texture.baseTexture.alphaMode>0);s[c]=g,s[c+o]=g,s[c+o*2]=g,s[c+o*3]=g,c+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Qx.extension={name:"particle",type:De.RendererPlugin};Ye.add(Qx);class Nc extends Os{constructor(e,t=!0){super(e[0]instanceof Me?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Or.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Or.shared.add(this.update,this,To.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=t/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let r=0;r<e.length;++r)t.push(Me.from(e[r]));return new Nc(t)}static fromImages(e){const t=[];for(let r=0;r<e.length;++r)t.push(Me.from(e[r]));return new Nc(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof Me)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Or.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Or.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const yc=new ft;class cy extends Os{constructor(e,t=100,r=100){super(e),this.tileTransform=new Nf,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new iy(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,s)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ot),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,yc);const t=this._width,r=this._height,s=-t*this.anchor._x;if(yc.x>=s&&yc.x<s+t){const o=-r*this.anchor._y;if(yc.y>=o&&yc.y<o+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const r=e instanceof Me?e:Me.from(e,t);return new cy(r,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var NT=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,OT=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,FT=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,e_=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,BT=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Hd=new Ht;class Kx extends Of{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new ux,this.state=Ns.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Is.from(e_,BT,t),this.shader=e.context.webGLVersion>1?Is.from(OT,NT,t):Is.from(e_,FT,t)}render(e){const t=this.renderer,r=this.quad;let s=r.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const o=e.uvRespectAnchor?e.anchor.x:0,c=e.uvRespectAnchor?e.anchor.y:0;s=r.uvs,s[0]=s[6]=-o,s[1]=s[3]=-c,s[2]=s[4]=1-o,s[5]=s[7]=1-c,r.invalidate();const d=e._texture,p=d.baseTexture,g=p.alphaMode>0,v=e.tileTransform.localTransform,x=e.uvMatrix;let S=p.isPowerOfTwo&&d.frame.width===p.width&&d.frame.height===p.height;S&&(p._glTextures[t.CONTEXT_UID]?S=p.wrapMode!==fa.CLAMP:p.wrapMode===fa.CLAMP&&(p.wrapMode=fa.REPEAT));const b=S?this.simpleShader:this.shader,T=d.width,R=d.height,P=e._width,M=e._height;Hd.set(v.a*T/P,v.b*T/M,v.c*R/P,v.d*R/M,v.tx/P,v.ty/M),Hd.invert(),S?Hd.prepend(x.mapCoord):(b.uniforms.uMapCoord=x.mapCoord.toArray(!0),b.uniforms.uClampFrame=x.uClampFrame,b.uniforms.uClampOffset=x.uClampOffset),b.uniforms.uTransform=Hd.toArray(!0),b.uniforms.uColor=zt.shared.setValue(e.tint).premultiply(e.worldAlpha,g).toArray(b.uniforms.uColor),b.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),b.uniforms.uSampler=d,t.shader.bind(b),t.geometry.bind(r),this.state.blendMode=Q_(e.blendMode,g),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Kx.extension={name:"tilingSprite",type:De.RendererPlugin};Ye.add(Kx);const Zx=class Og{constructor(e){this.stage=new gn,e=Object.assign({forceCanvas:!1},e),this.renderer=ib(e),Og._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,t){const r=Og._plugins.slice(0);r.reverse(),r.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Zx._plugins=[];let zf=Zx;Ye.handleByList(De.Application,zf._plugins);class Jx{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,r;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:o}=this._resizeTo;t=s,r=o}this.renderer.resize(t,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Jx.extension=De.Application;Ye.add(Jx);var qm={exports:{}},Qm,t_;function LT(){if(t_)return Qm;t_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qm=n,Qm}var Km,r_;function UT(){if(r_)return Km;r_=1;var n=LT();function e(){}function t(){}return t.resetWarningCache=e,Km=function(){function r(c,d,p,g,v,x){if(x!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Km}var n_;function zT(){return n_||(n_=1,qm.exports=UT()()),qm.exports}var GT=zT();const Gt=Cf(GT);function ri(n){return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(n)}function e1(n){var e=function(t,r){if(ri(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var o=s.call(t,r);if(ri(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(n,"string");return ri(e)==="symbol"?e:String(e)}function dr(n,e,t){return(e=e1(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function va(n){return function(e){if(Array.isArray(e))return Zm(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||function(e,t){if(e){if(typeof e=="string")return Zm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zm(e,t):void 0}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ar(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s]}var HT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $T(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jT=function(n){return n==null};function Tc(n){var e=[];if(n===void 0)return e;if(typeof n=="string")e=n.split(",");else if(typeof n=="number")e=[n];else if(Array.isArray(n))e=va(n);else{if(n===null||ri(n)!=="object")return e;e=[n&&(n==null?void 0:n.x)||0,n&&(n==null?void 0:n.y)||0]}return e.filter(function(t){return!jT(t)&&!isNaN(t)}).map(Number)}function i_(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Jm(n){return n instanceof ft||n instanceof Ps}var Sf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function eg(n,e,t){if(Jm(n[e])&&Jm(t))n[e].copyFrom(t);else if(Jm(n[e])){var r=Tc(t);ar(r!==void 0&&r.length>0&&r.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),ri(t)),n[e].set(r.shift(),r.shift())}else n[e]=t}var ju,t1=function(n){var e,t=n;if(!Array.isArray(t)){if(e=n,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(n)}var r={};return t.forEach(function(s){r[s]=!0}),function(s){return r[s]!==void 0}},r1=function(n){return function(){return!n.apply(void 0,arguments)}},Fg="children",WT=(dr(ju={},Fg,!0),dr(ju,"parent",!0),dr(ju,"worldAlpha",!0),dr(ju,"worldTransform",!0),dr(ju,"worldVisible",!0),ju),Bg={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Ms=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(d){return requestAnimationFrame(function(){var p,g;d==null||(p=d.__reactpixi)===null||p===void 0||(g=p.root)===null||g===void 0||g.emit("__REACT_PIXI_REQUEST_RENDER__")})},s=function(d,p){if(t.hasOwnProperty(d))return ar(p.typeofs.some(function(g){return ri(t[d])===g})||p.instanceofs.some(function(g){return t[d]instanceof g}),"".concat(n," ").concat(d," prop is invalid")),t[d]};if(t.texture)return ar(t.texture instanceof Me,"".concat(n," texture needs to be typeof `Texture`")),t.texture;var o=s("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||s("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||s("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,Me]});ar(!!o,"".concat(n," could not get texture from props"));var c=Me.from(o);return c.__reactpixi={root:e},c.once("update",r),c.once("loaded",r),c.valid&&r(c),c},VT=r1(t1([].concat(va(Object.keys(WT)),va(Sf))));function Ds(n,e,t){var r=!1;if(ar(Yt.prototype.isPrototypeOf(n),"instance needs to be typeof `DisplayObject`, got `%s`",ri(n)),!t.ignoreEvents)for(var s=typeof n.removeListener=="function",o=typeof n.on=="function",c=0;c<Sf.length;c++){var d=Sf[c];e[d]!==t[d]&&(r=!0,typeof e[d]=="function"&&s&&n.removeListener(d,e[d]),typeof t[d]=="function"&&o&&n.on(d,t[d]))}var p=Object.keys(t||{});if(t.overwriteProps){for(var g=0;g<p.length;g++){var v=p[g];e[v]!==t[v]&&(r=!0,eg(n,v,t[v]))}return r}for(var x=p.filter(VT),S=0;S<x.length;S++){var b=x[S],T=t[b];t[b]!==e[b]&&(r=!0),T!==void 0?eg(n,b,T):b in Bg?(console.warn("setting default value: ".concat(b,", from: ").concat(n[b]," to: ").concat(T," for"),n),r=!0,eg(n,b,Bg[b])):console.warn("ignoring prop: ".concat(b,", from ").concat(n[b]," to ").concat(T," for"),n)}return r}var XT=function(n,e){var t=e.text,r=e.style;return new Rb(t,r)},YT=function(){return new gn};function Co(n,e){if(n==null)return{};var t,r,s=function(c,d){if(c==null)return{};var p,g,v={},x=Object.keys(c);for(g=0;g<x.length;g++)p=x[g],d.indexOf(p)>=0||(v[p]=c[p]);return v}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var qT=["draw","geometry"],QT=function(n,e){var t=e.geometry;ar(!t||t instanceof ah,"Graphics geometry needs to be a `Graphics`");var r=t?new ah(t.geometry):new ah;return r.applyProps=function(s,o,c){var d=c.draw;c.geometry;var p=Ds(s,o,Co(c,qT));return o.draw!==d&&typeof d=="function"&&(p=!0,d.call(r,r)),p},r},KT=["image","texture"],ZT=function(n,e){var t=e.leftWidth,r=t===void 0?10:t,s=e.topHeight,o=s===void 0?10:s,c=e.rightWidth,d=c===void 0?10:c,p=e.bottomHeight,g=p===void 0?10:p,v=Ms("NineSlicePlane",n,e),x=new PT(v,r,o,d,g);return x.applyProps=function(S,b,T){var R=T.image,P=T.texture,M=Ds(S,b,Co(T,KT));return(R||P)&&(P!==b.texture&&(M=!0),S.texture=Ms("NineSlicePlane",n,T)),M},x};function s_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function $d(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s_(Object(t),!0).forEach(function(r){dr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var JT=function(n,e){var t=e.maxSize,r=t===void 0?1500:t,s=e.batchSize,o=s===void 0?16384:s,c=e.autoResize,d=c!==void 0&&c,p=$d($d({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),g=$d($d({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),v=new kT(r,p,o,d);return v.willUnmount=function(x,S,b){x.destroy(g)},v},eA=["image","texture"],tA=function(n,e){var t=new Os(Ms("Sprite",n,e));return t.applyProps=function(r,s,o){var c=o.image,d=o.texture,p=Ds(r,s,Co(o,eA));return(d&&s.texture!==o.texture||c&&s.image!==o.image)&&(s.texture!==o.texture&&(p=!0),r.texture=Ms("Sprite",n,o)),p},t},rA=["textures","isPlaying","initialFrame","images"],nA=function(n,e){var t=e.textures,r=e.images,s=e.isPlaying,o=s===void 0||s,c=e.initialFrame,d=function(g){return g.map(function(v){return ar(v instanceof Me||(v==null?void 0:v.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),v})},p=r?Nc.fromImages(r):new Nc(d(t));return p[o?"gotoAndPlay":"gotoAndStop"](c||0),p.applyProps=function(g,v,x){var S=x.textures,b=x.isPlaying,T=x.initialFrame,R=x.images,P=Ds(g,v,Co(x,rA));if(R&&v.images!==R){for(var M=[],L=0;L<R.length;++L)M.push(Me.from(R[L]));g.textures=M,P=!0}if(S&&v.textures!==S&&(g.textures=d(S),P=!0),b!==v.isPlaying||T!==v.initialFrame){var F=typeof T=="number"?T:p.currentFrame||0;p[b?"gotoAndPlay":"gotoAndStop"](F),P=!0}return P},p},iA=function(n,e){var t=e.text,r=t===void 0?"":t,s=e.style,o=s===void 0?{}:s,c=e.isSprite,d=new ay(r,o);return c?(d.updateText(),new Os(d.texture)):d},sA=["tileScale","tilePosition","image","texture"],aA=function(n,e){var t=e.width,r=t===void 0?100:t,s=e.height,o=s===void 0?100:s,c=Ms("TilingSprite",n,e),d=new cy(c,r,o);return d.applyProps=function(p,g,v){var x=v.tileScale,S=v.tilePosition,b=v.image,T=v.texture,R=Ds(p,g,Co(v,sA));if(S){var P,M=Tc(S);(P=p.tilePosition).set.apply(P,va(M)),R=!i_(Tc(g.tilePosition),M)||R}if(x){var L,F=Tc(x);(L=p.tileScale).set.apply(L,va(F)),R=!i_(Tc(g.tileScale),F)||R}return(b||T)&&(T!==g.texture&&(R=!0),p.texture=Ms("Sprite",n,v)),R},d},oA=["image","texture"],lA=function(n,e){var t=Ms("Mesh",n,e),r=e.vertices,s=e.uvs,o=e.indices,c=e.drawMode,d=c===void 0?Yi.TRIANGLES:c,p=new RT(t,r,s,o,d);return p.applyProps=function(g,v,x){var S=x.image,b=x.texture,T=Ds(g,v,Co(x,oA));return(S||b)&&(b!==v.texture&&(T=!0),g.texture=Ms("Mesh",n,x)),T},p},uA=["image","texture"],hA=function(n,e){var t=Ms("SimpleRope",n,e),r=e.points,s=new IT(t,r);return s.applyProps=function(o,c,d){var p=d.image,g=d.texture,v=Co(d,uA);ar(Array.isArray(d.points),"SimpleRope points needs to be %s","Array<Point>");var x=Ds(o,c,v);return(p||g)&&(g!==c.texture&&(x=!0),o.texture=Ms("SimpleRope",n,d)),x},s},cA=Object.freeze({__proto__:null,BitmapText:XT,Container:YT,Graphics:QT,NineSlicePlane:ZT,ParticleContainer:JT,Sprite:tA,Text:iA,TilingSprite:aA,SimpleMesh:lA,SimpleRope:hA,AnimatedSprite:nA});function a_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function o_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(t),!0).forEach(function(r){dr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Gn={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},dA=Object.keys(Gn).reduce(function(n,e){return o_(o_({},n),{},dr({},e,cA[e]))},{}),n1={};function fA(n,e){return ar(!!n,"Expect type to be defined, got `%s`",n),ar(!Gn[n],"Component `%s` could not be created, already exists in default components.",n),n1[n]=e,n}var l_,u_,h_,c_,Lg={},Ug={},pA={get exports(){return Ug},set exports(n){Ug=n}},d_={};function mA(){return u_||(u_=1,pA.exports=(l_||(l_=1,function(n){function e(C,H){var N=C.length;C.push(H);e:for(;0<N;){var I=N-1>>>1,z=C[I];if(!(0<s(z,H)))break e;C[I]=H,C[N]=z,N=I}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var H=C[0],N=C.pop();if(N!==H){C[0]=N;e:for(var I=0,z=C.length,X=z>>>1;I<X;){var ie=2*(I+1)-1,he=C[ie],pe=ie+1,_e=C[pe];if(0>s(he,N))pe<z&&0>s(_e,he)?(C[I]=_e,C[pe]=N,I=pe):(C[I]=he,C[ie]=N,I=ie);else{if(!(pe<z&&0>s(_e,N)))break e;C[I]=_e,C[pe]=N,I=pe}}}return H}function s(C,H){var N=C.sortIndex-H.sortIndex;return N!==0?N:C.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,x=null,S=3,b=!1,T=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function F(C){for(var H=t(g);H!==null;){if(H.callback===null)r(g);else{if(!(H.startTime<=C))break;r(g),H.sortIndex=H.expirationTime,e(p,H)}H=t(g)}}function j(C){if(R=!1,F(C),!T)if(t(p)!==null)T=!0,B(U);else{var H=t(g);H!==null&&G(j,H.startTime-C)}}function U(C,H){T=!1,R&&(R=!1,M(ue),ue=-1),b=!0;var N=S;try{for(F(H),x=t(p);x!==null&&(!(x.expirationTime>H)||C&&!Q());){var I=x.callback;if(typeof I=="function"){x.callback=null,S=x.priorityLevel;var z=I(x.expirationTime<=H);H=n.unstable_now(),typeof z=="function"?x.callback=z:x===t(p)&&r(p),F(H)}else r(p);x=t(p)}if(x!==null)var X=!0;else{var ie=t(g);ie!==null&&G(j,ie.startTime-H),X=!1}return X}finally{x=null,S=N,b=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var q,D=!1,Z=null,ue=-1,ce=5,Se=-1;function Q(){return!(n.unstable_now()-Se<ce)}function J(){if(Z!==null){var C=n.unstable_now();Se=C;var H=!0;try{H=Z(!0,C)}finally{H?q():(D=!1,Z=null)}}else D=!1}if(typeof L=="function")q=function(){L(J)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,be=le.port2;le.port1.onmessage=J,q=function(){be.postMessage(null)}}else q=function(){P(J,0)};function B(C){Z=C,D||(D=!0,q())}function G(C,H){ue=P(function(){C(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_continueExecution=function(){T||b||(T=!0,B(U))},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(C){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var N=S;S=H;try{return C()}finally{S=N}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var N=S;S=C;try{return H()}finally{S=N}},n.unstable_scheduleCallback=function(C,H,N){var I=n.unstable_now();switch(N=typeof N=="object"&&N!==null&&typeof(N=N.delay)=="number"&&0<N?I+N:I,C){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return C={id:v++,callback:H,priorityLevel:C,startTime:N,expirationTime:z=N+z,sortIndex:-1},N>I?(C.sortIndex=N,e(g,C),t(p)===null&&C===t(g)&&(R?(M(ue),ue=-1):R=!0,G(j,N-I))):(C.sortIndex=z,e(p,C),T||b||(T=!0,B(U))),C},n.unstable_shouldYield=Q,n.unstable_wrapCallback=function(C){var H=S;return function(){var N=S;S=H;try{return C.apply(this,arguments)}finally{S=N}}}}(d_)),d_)),Ug}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function gA(){return c_||(c_=1,h_=function(n){var e={},t=pn,r=mA(),s=Object.assign;function o(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),b=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),j=Symbol.iterator;function U(l){return l===null||typeof l!="object"?null:typeof(l=j&&l[j]||l["@@iterator"])=="function"?l:null}function q(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case g:return"Fragment";case p:return"Portal";case x:return"Profiler";case v:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case b:return(l.displayName||"Context")+".Consumer";case S:return(l._context.displayName||"Context")+".Provider";case T:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case M:return(u=l.displayName||null)!==null?u:q(l.type)||"Memo";case L:u=l._payload,l=l._init;try{return q(l(u))}catch{}}return null}function D(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(u);case 8:return u===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Z(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function ue(l){if(Z(l)!==l)throw Error(o(188))}function ce(l){var u=l.alternate;if(!u){if((u=Z(l))===null)throw Error(o(188));return u!==l?null:l}for(var m=l,_=u;;){var w=m.return;if(w===null)break;var A=w.alternate;if(A===null){if((_=w.return)!==null){m=_;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===m)return ue(w),l;if(A===_)return ue(w),u;A=A.sibling}throw Error(o(188))}if(m.return!==_.return)m=w,_=A;else{for(var O=!1,V=w.child;V;){if(V===m){O=!0,m=w,_=A;break}if(V===_){O=!0,_=w,m=A;break}V=V.sibling}if(!O){for(V=A.child;V;){if(V===m){O=!0,m=A,_=w;break}if(V===_){O=!0,_=A,m=w;break}V=V.sibling}if(!O)throw Error(o(189))}}if(m.alternate!==_)throw Error(o(190))}if(m.tag!==3)throw Error(o(188));return m.stateNode.current===m?l:u}function Se(l){return(l=ce(l))!==null?Q(l):null}function Q(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Q(l);if(u!==null)return u;l=l.sibling}return null}function J(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=J(l);if(u!==null)return u}l=l.sibling}return null}var le,be=Array.isArray,B=n.getPublicInstance,G=n.getRootHostContext,C=n.getChildHostContext,H=n.prepareForCommit,N=n.resetAfterCommit,I=n.createInstance,z=n.appendInitialChild,X=n.finalizeInitialChildren,ie=n.prepareUpdate,he=n.shouldSetTextContent,pe=n.createTextInstance,_e=n.scheduleTimeout,Ae=n.cancelTimeout,Re=n.noTimeout,ye=n.isPrimaryRenderer,ke=n.supportsMutation,Ue=n.supportsPersistence,We=n.supportsHydration,lt=n.getInstanceFromNode,$e=n.preparePortalMount,Ve=n.getCurrentEventPriority,Dt=n.detachDeletedInstance,$t=n.supportsMicrotasks,ni=n.scheduleMicrotask,pr=n.supportsTestSelectors,mr=n.findFiberRoot,ii=n.getBoundingRect,_i=n.getTextContent,tn=n.isHiddenSubtree,jl=n.matchAccessibilityRole,Wl=n.setFocusIfFocusable,_a=n.setupIntersectionObserver,xa=n.appendChild,Ji=n.appendChildToContainer,xi=n.commitTextUpdate,es=n.commitMount,dh=n.commitUpdate,Vl=n.insertBefore,wa=n.insertInContainerBefore,Sa=n.removeChild,re=n.removeChildFromContainer,se=n.resetTextContent,ht=n.hideInstance,xt=n.hideTextInstance,Et=n.unhideInstance,rt=n.unhideTextInstance,Br=n.clearContainer,si=n.cloneInstance,_r=n.createContainerChildSet,yn=n.appendChildToContainerChildSet,Ea=n.finalizeContainerChildren,Hn=n.replaceContainerChildren,Ar=n.cloneHiddenInstance,ba=n.cloneHiddenTextInstance,ts=n.canHydrateInstance,Ta=n.canHydrateTextInstance,$n=n.canHydrateSuspenseInstance,Aa=n.isSuspenseInstancePending,vn=n.isSuspenseInstanceFallback,rs=n.getSuspenseInstanceFallbackErrorDetails,ns=n.registerSuspenseInstanceRetry,wi=n.getNextHydratableSibling,Xl=n.getFirstHydratableChild,Po=n.getFirstHydratableChildWithinContainer,Yl=n.getFirstHydratableChildWithinSuspenseInstance,jn=n.hydrateInstance,Ro=n.hydrateTextInstance,ql=n.hydrateSuspenseInstance,Io=n.getNextHydratableInstanceAfterSuspenseInstance,Si=n.commitHydratedContainer,Fs=n.commitHydratedSuspenseInstance,Ql=n.clearSuspenseBoundary,ko=n.clearSuspenseBoundaryFromContainer,Hf=n.shouldDeleteUnhydratedTailInstances,$f=n.didNotMatchHydratedContainerTextInstance,qt=n.didNotMatchHydratedTextInstance;function Mo(l){if(le===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);le=u&&u[1]||""}return`
`+le+l}var Do=!1;function Kl(l,u){if(!l||Do)return"";Do=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(de){var _=de}Reflect.construct(l,[],u)}else{try{u.call()}catch(de){_=de}l.call(u.prototype)}else{try{throw Error()}catch(de){_=de}l()}}catch(de){if(de&&_&&typeof de.stack=="string"){for(var w=de.stack.split(`
`),A=_.stack.split(`
`),O=w.length-1,V=A.length-1;1<=O&&0<=V&&w[O]!==A[V];)V--;for(;1<=O&&0<=V;O--,V--)if(w[O]!==A[V]){if(O!==1||V!==1)do if(O--,0>--V||w[O]!==A[V]){var te=`
`+w[O].replace(" at new "," at ");return l.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",l.displayName)),te}while(1<=O&&0<=V);break}}}finally{Do=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Mo(l):""}var Zl=Object.prototype.hasOwnProperty,fh=[],Bs=-1;function Wn(l){return{current:l}}function pt(l){0>Bs||(l.current=fh[Bs],fh[Bs]=null,Bs--)}function Ct(l,u){Bs++,fh[Bs]=l.current,l.current=u}var gr={},Cr=Wn(gr),jr=Wn(!1),Ls=gr;function Ei(l,u){var m=l.type.contextTypes;if(!m)return gr;var _=l.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===u)return _.__reactInternalMemoizedMaskedChildContext;var w,A={};for(w in m)A[w]=u[w];return _&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=A),A}function Pr(l){return(l=l.childContextTypes)!=null}function Us(){pt(jr),pt(Cr)}function No(l,u,m){if(Cr.current!==gr)throw Error(o(168));Ct(Cr,u),Ct(jr,m)}function zc(l,u,m){var _=l.stateNode;if(u=u.childContextTypes,typeof _.getChildContext!="function")return m;for(var w in _=_.getChildContext())if(!(w in u))throw Error(o(108,D(l)||"Unknown",w));return s({},m,_)}function Jl(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||gr,Ls=Cr.current,Ct(Cr,l),Ct(jr,jr.current),!0}function eu(l,u,m){var _=l.stateNode;if(!_)throw Error(o(169));m?(l=zc(l,u,Ls),_.__reactInternalMemoizedMergedChildContext=l,pt(jr),pt(Cr),Ct(Cr,l)):pt(jr),Ct(jr,m)}var _n=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(ph(l)/Oo|0)|0},ph=Math.log,Oo=Math.LN2,mh=64,Fo=4194304;function mt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Bo(l,u){var m=l.pendingLanes;if(m===0)return 0;var _=0,w=l.suspendedLanes,A=l.pingedLanes,O=268435455&m;if(O!==0){var V=O&~w;V!==0?_=mt(V):(A&=O)!==0&&(_=mt(A))}else(O=m&~w)!==0?_=mt(O):A!==0&&(_=mt(A));if(_===0)return 0;if(u!==0&&u!==_&&!(u&w)&&((w=_&-_)>=(A=u&-u)||w===16&&4194240&A))return u;if(4&_&&(_|=16&m),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=_;0<u;)w=1<<(m=31-_n(u)),_|=l[m],u&=~w;return _}function Gc(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function Lo(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function gh(){var l=mh;return!(4194240&(mh<<=1))&&(mh=64),l}function tu(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Ca(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-_n(u)]=m}function Uo(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var _=31-_n(m),w=1<<_;w&u|l[_]&u&&(l[_]|=u),m&=~w}}var ct=0;function bi(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var ai=r.unstable_scheduleCallback,Ti=r.unstable_cancelCallback,zo=r.unstable_shouldYield,Go=r.unstable_requestPaint,Nt=r.unstable_now,yh=r.unstable_ImmediatePriority,Hc=r.unstable_UserBlockingPriority,Pa=r.unstable_NormalPriority,jf=r.unstable_IdlePriority,Ho=null,rn=null,xn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},Ai=null,is=!1,zs=!1;function Gs(l){Ai===null?Ai=[l]:Ai.push(l)}function nn(){if(!zs&&Ai!==null){zs=!0;var l=0,u=ct;try{var m=Ai;for(ct=1;l<m.length;l++){var _=m[l];do _=_(!0);while(_!==null)}Ai=null,is=!1}catch(w){throw Ai!==null&&(Ai=Ai.slice(l+1)),ai(yh,nn),w}finally{ct=u,zs=!1}}return null}var Ra=[],Ia=0,ka=null,Hs=0,Wr=[],sn=0,Vr=null,wn=1,Sn="";function ss(l,u){Ra[Ia++]=Hs,Ra[Ia++]=ka,ka=l,Hs=u}function $o(l,u,m){Wr[sn++]=wn,Wr[sn++]=Sn,Wr[sn++]=Vr,Vr=l;var _=wn;l=Sn;var w=32-_n(_)-1;_&=~(1<<w),m+=1;var A=32-_n(u)+w;if(30<A){var O=w-w%5;A=(_&(1<<O)-1).toString(32),_>>=O,w-=O,wn=1<<32-_n(u)+w|m<<w|_,Sn=A+l}else wn=1<<A|m<<w|_,Sn=l}function Ma(l){l.return!==null&&(ss(l,1),$o(l,1,0))}function ru(l){for(;l===ka;)ka=Ra[--Ia],Ra[Ia]=null,Hs=Ra[--Ia],Ra[Ia]=null;for(;l===Vr;)Vr=Wr[--sn],Wr[sn]=null,Sn=Wr[--sn],Wr[sn]=null,wn=Wr[--sn],Wr[sn]=null}var Ot=null,xr=null,Pt=!1,Ci=!1,Vn=null;function nu(l,u){var m=cn(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,(u=l.deletions)===null?(l.deletions=[m],l.flags|=16):u.push(m)}function iu(l,u){switch(l.tag){case 5:return(u=ts(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Ot=l,xr=Xl(u),!0);case 6:return(u=Ta(u,l.pendingProps))!==null&&(l.stateNode=u,Ot=l,xr=null,!0);case 13:if((u=$n(u))!==null){var m=Vr!==null?{id:wn,overflow:Sn}:null;return l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},(m=cn(18,null,null,0)).stateNode=u,m.return=l,l.child=m,Ot=l,xr=null,!0}return!1;default:return!1}}function $s(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Da(l){if(Pt){var u=xr;if(u){var m=u;if(!iu(l,u)){if($s(l))throw Error(o(418));u=wi(m);var _=Ot;u&&iu(l,u)?nu(_,m):(l.flags=-4097&l.flags|2,Pt=!1,Ot=l)}}else{if($s(l))throw Error(o(418));l.flags=-4097&l.flags|2,Pt=!1,Ot=l}}}function vh(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ot=l}function su(l){if(!We||l!==Ot)return!1;if(!Pt)return vh(l),Pt=!0,!1;if(l.tag!==3&&(l.tag!==5||Hf(l.type)&&!he(l.type,l.memoizedProps))){var u=xr;if(u){if($s(l))throw $c(),Error(o(418));for(;u;)nu(l,u),u=wi(u)}}if(vh(l),l.tag===13){if(!We)throw Error(o(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(o(317));xr=Io(l)}else xr=Ot?wi(l.stateNode):null;return!0}function $c(){for(var l=xr;l;)l=wi(l)}function Na(){We&&(xr=Ot=null,Ci=Pt=!1)}function jo(l){Vn===null?Vn=[l]:Vn.push(l)}var Wf=c.ReactCurrentBatchConfig;function au(l,u){if(xn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),_=Object.keys(u);if(m.length!==_.length)return!1;for(_=0;_<m.length;_++){var w=m[_];if(!Zl.call(u,w)||!xn(l[w],u[w]))return!1}return!0}function Vf(l){switch(l.tag){case 5:return Mo(l.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return l=Kl(l.type,!1);case 11:return l=Kl(l.type.render,!1);case 1:return l=Kl(l.type,!0);default:return""}}function Xn(l,u){if(l&&l.defaultProps){for(var m in u=s({},u),l=l.defaultProps)u[m]===void 0&&(u[m]=l[m]);return u}return u}var ou=Wn(null),Wo=null,Oa=null,_h=null;function xh(){_h=Oa=Wo=null}function jc(l,u,m){ye?(Ct(ou,u._currentValue),u._currentValue=m):(Ct(ou,u._currentValue2),u._currentValue2=m)}function Vo(l){var u=ou.current;pt(ou),ye?l._currentValue=u:l._currentValue2=u}function wh(l,u,m){for(;l!==null;){var _=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,_!==null&&(_.childLanes|=u)):_!==null&&(_.childLanes&u)!==u&&(_.childLanes|=u),l===m)break;l=l.return}}function Fa(l,u){Wo=l,_h=Oa=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&(Wt=!0),l.firstContext=null)}function En(l){var u=ye?l._currentValue:l._currentValue2;if(_h!==l)if(l={context:l,memoizedValue:u,next:null},Oa===null){if(Wo===null)throw Error(o(308));Oa=l,Wo.dependencies={lanes:0,firstContext:l}}else Oa=Oa.next=l;return u}var as=null;function Sh(l){as===null?as=[l]:as.push(l)}function Wc(l,u,m,_){var w=u.interleaved;return w===null?(m.next=m,Sh(u)):(m.next=w.next,w.next=m),u.interleaved=m,oi(l,_)}function oi(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,(m=l.alternate)!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var os=!1;function Eh(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vc(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Pi(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function li(l,u,m){var _=l.updateQueue;if(_===null)return null;if(_=_.shared,(2&it)!=0){var w=_.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),_.pending=u,oi(l,m)}return(w=_.interleaved)===null?(u.next=u,Sh(_)):(u.next=w.next,w.next=u),_.interleaved=u,oi(l,m)}function ls(l,u,m){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&m)!=0)){var _=u.lanes;m|=_&=l.pendingLanes,u.lanes=m,Uo(l,m)}}function Xc(l,u){var m=l.updateQueue,_=l.alternate;if(_!==null&&m===(_=_.updateQueue)){var w=null,A=null;if((m=m.firstBaseUpdate)!==null){do{var O={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};A===null?w=A=O:A=A.next=O,m=m.next}while(m!==null);A===null?w=A=u:A=A.next=u}else w=A=u;return m={baseState:_.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:_.shared,effects:_.effects},void(l.updateQueue=m)}(l=m.lastBaseUpdate)===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function Xo(l,u,m,_){var w=l.updateQueue;os=!1;var A=w.firstBaseUpdate,O=w.lastBaseUpdate,V=w.shared.pending;if(V!==null){w.shared.pending=null;var te=V,de=te.next;te.next=null,O===null?A=de:O.next=de,O=te;var me=l.alternate;me!==null&&(V=(me=me.updateQueue).lastBaseUpdate)!==O&&(V===null?me.firstBaseUpdate=de:V.next=de,me.lastBaseUpdate=te)}if(A!==null){var Ie=w.baseState;for(O=0,me=de=te=null,V=A;;){var fe=V.lane,Te=V.eventTime;if((_&fe)===fe){me!==null&&(me=me.next={eventTime:Te,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ge=l,at=V;switch(fe=u,Te=m,at.tag){case 1:if(typeof(Ge=at.payload)=="function"){Ie=Ge.call(Te,Ie,fe);break e}Ie=Ge;break e;case 3:Ge.flags=-65537&Ge.flags|128;case 0:if((fe=typeof(Ge=at.payload)=="function"?Ge.call(Te,Ie,fe):Ge)==null)break e;Ie=s({},Ie,fe);break e;case 2:os=!0}}V.callback!==null&&V.lane!==0&&(l.flags|=64,(fe=w.effects)===null?w.effects=[V]:fe.push(V))}else Te={eventTime:Te,lane:fe,tag:V.tag,payload:V.payload,callback:V.callback,next:null},me===null?(de=me=Te,te=Ie):me=me.next=Te,O|=fe;if((V=V.next)===null){if((V=w.shared.pending)===null)break;V=(fe=V).next,fe.next=null,w.lastBaseUpdate=fe,w.shared.pending=null}}if(me===null&&(te=Ie),w.baseState=te,w.firstBaseUpdate=de,w.lastBaseUpdate=me,(u=w.shared.interleaved)!==null){w=u;do O|=w.lane,w=w.next;while(w!==u)}else A===null&&(w.shared.lanes=0);vs|=O,l.lanes=O,l.memoizedState=Ie}}function bh(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var _=l[u],w=_.callback;if(w!==null){if(_.callback=null,_=m,typeof w!="function")throw Error(o(191,w));w.call(_)}}}var Th=new t.Component().refs;function lu(l,u,m,_){m=(m=m(_,u=l.memoizedState))==null?u:s({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Yo={isMounted:function(l){return!!(l=l._reactInternals)&&Z(l)===l},enqueueSetState:function(l,u,m){l=l._reactInternals;var _=ur(),w=On(l),A=Pi(_,w);A.payload=u,m!=null&&(A.callback=m),(u=li(l,A,w))!==null&&(kr(u,l,w,_),ls(u,l,w))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var _=ur(),w=On(l),A=Pi(_,w);A.tag=1,A.payload=u,m!=null&&(A.callback=m),(u=li(l,A,w))!==null&&(kr(u,l,w,_),ls(u,l,w))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=ur(),_=On(l),w=Pi(m,_);w.tag=2,u!=null&&(w.callback=u),(u=li(l,w,_))!==null&&(kr(u,l,_,m),ls(u,l,_))}};function js(l,u,m,_,w,A,O){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(_,A,O):!u.prototype||!u.prototype.isPureReactComponent||!au(m,_)||!au(w,A)}function Yc(l,u,m){var _=!1,w=gr,A=u.contextType;return typeof A=="object"&&A!==null?A=En(A):(w=Pr(u)?Ls:Cr.current,A=(_=(_=u.contextTypes)!=null)?Ei(l,w):gr),u=new u(m,A),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Yo,l.stateNode=u,u._reactInternals=l,_&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=w,l.__reactInternalMemoizedMaskedChildContext=A),u}function qc(l,u,m,_){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,_),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,_),u.state!==l&&Yo.enqueueReplaceState(u,u.state,null)}function Ah(l,u,m,_){var w=l.stateNode;w.props=m,w.state=l.memoizedState,w.refs=Th,Eh(l);var A=u.contextType;typeof A=="object"&&A!==null?w.context=En(A):(A=Pr(u)?Ls:Cr.current,w.context=Ei(l,A)),w.state=l.memoizedState,typeof(A=u.getDerivedStateFromProps)=="function"&&(lu(l,u,A,m),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(u=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),u!==w.state&&Yo.enqueueReplaceState(w,w.state,null),Xo(l,m,w,_),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308)}function Ba(l,u,m){if((l=m.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner){if(m.tag!==1)throw Error(o(309));var _=m.stateNode}if(!_)throw Error(o(147,l));var w=_,A=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===A?u.ref:(u=function(O){var V=w.refs;V===Th&&(V=w.refs={}),O===null?delete V[A]:V[A]=O},u._stringRef=A,u)}if(typeof l!="string")throw Error(o(284));if(!m._owner)throw Error(o(290,l))}return l}function qo(l,u){throw l=Object.prototype.toString.call(u),Error(o(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function La(l){return(0,l._init)(l._payload)}function Ua(l){function u(ge,K){if(l){var oe=ge.deletions;oe===null?(ge.deletions=[K],ge.flags|=16):oe.push(K)}}function m(ge,K){if(!l)return null;for(;K!==null;)u(ge,K),K=K.sibling;return null}function _(ge,K){for(ge=new Map;K!==null;)K.key!==null?ge.set(K.key,K):ge.set(K.index,K),K=K.sibling;return ge}function w(ge,K){return(ge=Ui(ge,K)).index=0,ge.sibling=null,ge}function A(ge,K,oe){return ge.index=oe,l?(oe=ge.alternate)!==null?(oe=oe.index)<K?(ge.flags|=2,K):oe:(ge.flags|=2,K):(ge.flags|=1048576,K)}function O(ge){return l&&ge.alternate===null&&(ge.flags|=2),ge}function V(ge,K,oe,we){return K===null||K.tag!==6?((K=Nu(oe,ge.mode,we)).return=ge,K):((K=w(K,oe)).return=ge,K)}function te(ge,K,oe,we){var Ke=oe.type;return Ke===g?me(ge,K,oe.props.children,we,oe.key):K!==null&&(K.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===L&&La(Ke)===K.type)?((we=w(K,oe.props)).ref=Ba(ge,K,oe),we.return=ge,we):((we=_l(oe.type,oe.key,oe.props,null,ge.mode,we)).ref=Ba(ge,K,oe),we.return=ge,we)}function de(ge,K,oe,we){return K===null||K.tag!==4||K.stateNode.containerInfo!==oe.containerInfo||K.stateNode.implementation!==oe.implementation?((K=tc(oe,ge.mode,we)).return=ge,K):((K=w(K,oe.children||[])).return=ge,K)}function me(ge,K,oe,we,Ke){return K===null||K.tag!==7?((K=xs(oe,ge.mode,we,Ke)).return=ge,K):((K=w(K,oe)).return=ge,K)}function Ie(ge,K,oe){if(typeof K=="string"&&K!==""||typeof K=="number")return(K=Nu(""+K,ge.mode,oe)).return=ge,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case d:return(oe=_l(K.type,K.key,K.props,null,ge.mode,oe)).ref=Ba(ge,null,K),oe.return=ge,oe;case p:return(K=tc(K,ge.mode,oe)).return=ge,K;case L:return Ie(ge,(0,K._init)(K._payload),oe)}if(be(K)||U(K))return(K=xs(K,ge.mode,oe,null)).return=ge,K;qo(ge,K)}return null}function fe(ge,K,oe,we){var Ke=K!==null?K.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Ke!==null?null:V(ge,K,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case d:return oe.key===Ke?te(ge,K,oe,we):null;case p:return oe.key===Ke?de(ge,K,oe,we):null;case L:return fe(ge,K,(Ke=oe._init)(oe._payload),we)}if(be(oe)||U(oe))return Ke!==null?null:me(ge,K,oe,we,null);qo(ge,oe)}return null}function Te(ge,K,oe,we,Ke){if(typeof we=="string"&&we!==""||typeof we=="number")return V(K,ge=ge.get(oe)||null,""+we,Ke);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case d:return te(K,ge=ge.get(we.key===null?oe:we.key)||null,we,Ke);case p:return de(K,ge=ge.get(we.key===null?oe:we.key)||null,we,Ke);case L:return Te(ge,K,oe,(0,we._init)(we._payload),Ke)}if(be(we)||U(we))return me(K,ge=ge.get(oe)||null,we,Ke,null);qo(K,we)}return null}function Ge(ge,K,oe,we){for(var Ke=null,yt=null,je=K,gt=K=0,hr=null;je!==null&&gt<oe.length;gt++){je.index>gt?(hr=je,je=null):hr=je.sibling;var vt=fe(ge,je,oe[gt],we);if(vt===null){je===null&&(je=hr);break}l&&je&&vt.alternate===null&&u(ge,je),K=A(vt,K,gt),yt===null?Ke=vt:yt.sibling=vt,yt=vt,je=hr}if(gt===oe.length)return m(ge,je),Pt&&ss(ge,gt),Ke;if(je===null){for(;gt<oe.length;gt++)(je=Ie(ge,oe[gt],we))!==null&&(K=A(je,K,gt),yt===null?Ke=je:yt.sibling=je,yt=je);return Pt&&ss(ge,gt),Ke}for(je=_(ge,je);gt<oe.length;gt++)(hr=Te(je,ge,gt,oe[gt],we))!==null&&(l&&hr.alternate!==null&&je.delete(hr.key===null?gt:hr.key),K=A(hr,K,gt),yt===null?Ke=hr:yt.sibling=hr,yt=hr);return l&&je.forEach(function(fi){return u(ge,fi)}),Pt&&ss(ge,gt),Ke}function at(ge,K,oe,we){var Ke=U(oe);if(typeof Ke!="function")throw Error(o(150));if((oe=Ke.call(oe))==null)throw Error(o(151));for(var yt=Ke=null,je=K,gt=K=0,hr=null,vt=oe.next();je!==null&&!vt.done;gt++,vt=oe.next()){je.index>gt?(hr=je,je=null):hr=je.sibling;var fi=fe(ge,je,vt.value,we);if(fi===null){je===null&&(je=hr);break}l&&je&&fi.alternate===null&&u(ge,je),K=A(fi,K,gt),yt===null?Ke=fi:yt.sibling=fi,yt=fi,je=hr}if(vt.done)return m(ge,je),Pt&&ss(ge,gt),Ke;if(je===null){for(;!vt.done;gt++,vt=oe.next())(vt=Ie(ge,vt.value,we))!==null&&(K=A(vt,K,gt),yt===null?Ke=vt:yt.sibling=vt,yt=vt);return Pt&&ss(ge,gt),Ke}for(je=_(ge,je);!vt.done;gt++,vt=oe.next())(vt=Te(je,ge,gt,vt.value,we))!==null&&(l&&vt.alternate!==null&&je.delete(vt.key===null?gt:vt.key),K=A(vt,K,gt),yt===null?Ke=vt:yt.sibling=vt,yt=vt);return l&&je.forEach(function(sd){return u(ge,sd)}),Pt&&ss(ge,gt),Ke}return function ge(K,oe,we,Ke){if(typeof we=="object"&&we!==null&&we.type===g&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case d:e:{for(var yt=we.key,je=oe;je!==null;){if(je.key===yt){if((yt=we.type)===g){if(je.tag===7){m(K,je.sibling),(oe=w(je,we.props.children)).return=K,K=oe;break e}}else if(je.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===L&&La(yt)===je.type){m(K,je.sibling),(oe=w(je,we.props)).ref=Ba(K,je,we),oe.return=K,K=oe;break e}m(K,je);break}u(K,je),je=je.sibling}we.type===g?((oe=xs(we.props.children,K.mode,Ke,we.key)).return=K,K=oe):((Ke=_l(we.type,we.key,we.props,null,K.mode,Ke)).ref=Ba(K,oe,we),Ke.return=K,K=Ke)}return O(K);case p:e:{for(je=we.key;oe!==null;){if(oe.key===je){if(oe.tag===4&&oe.stateNode.containerInfo===we.containerInfo&&oe.stateNode.implementation===we.implementation){m(K,oe.sibling),(oe=w(oe,we.children||[])).return=K,K=oe;break e}m(K,oe);break}u(K,oe),oe=oe.sibling}(oe=tc(we,K.mode,Ke)).return=K,K=oe}return O(K);case L:return ge(K,oe,(je=we._init)(we._payload),Ke)}if(be(we))return Ge(K,oe,we,Ke);if(U(we))return at(K,oe,we,Ke);qo(K,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,oe!==null&&oe.tag===6?(m(K,oe.sibling),(oe=w(oe,we)).return=K,K=oe):(m(K,oe),(oe=Nu(we,K.mode,Ke)).return=K,K=oe),O(K)):m(K,oe)}}var za=Ua(!0),Qo=Ua(!1),Ko={},an=Wn(Ko),Ws=Wn(Ko),us=Wn(Ko);function Yn(l){if(l===Ko)throw Error(o(174));return l}function uu(l,u){Ct(us,u),Ct(Ws,l),Ct(an,Ko),l=G(u),pt(an),Ct(an,l)}function Vs(){pt(an),pt(Ws),pt(us)}function Qc(l){var u=Yn(us.current),m=Yn(an.current);m!==(u=C(m,l.type,u))&&(Ct(Ws,l),Ct(an,u))}function Ch(l){Ws.current===l&&(pt(an),pt(Ws))}var jt=Wn(0);function hu(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&((m=m.dehydrated)===null||Aa(m)||vn(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ph=[];function on(){for(var l=0;l<Ph.length;l++){var u=Ph[l];ye?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Ph.length=0}var hs=c.ReactCurrentDispatcher,cu=c.ReactCurrentBatchConfig,cs=0,Ut=null,or=null,Jt=null,du=!1,Zo=!1,ui=0,Rh=0;function er(){throw Error(o(321))}function Jo(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!xn(l[m],u[m]))return!1;return!0}function fu(l,u,m,_,w,A){if(cs=A,Ut=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,hs.current=l===null||l.memoizedState===null?Lh:Uh,l=m(_,w),Zo){A=0;do{if(Zo=!1,ui=0,25<=A)throw Error(o(301));A+=1,Jt=or=null,u.updateQueue=null,hs.current=zh,l=m(_,w)}while(Zo)}if(hs.current=Xa,u=or!==null&&or.next!==null,cs=0,Jt=or=Ut=null,du=!1,u)throw Error(o(300));return l}function Ga(){var l=ui!==0;return ui=0,l}function Lr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ut.memoizedState=Jt=l:Jt=Jt.next=l,Jt}function Xr(){if(or===null){var l=Ut.alternate;l=l!==null?l.memoizedState:null}else l=or.next;var u=Jt===null?Ut.memoizedState:Jt.next;if(u!==null)Jt=u,or=l;else{if(l===null)throw Error(o(310));l={memoizedState:(or=l).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},Jt===null?Ut.memoizedState=Jt=l:Jt=Jt.next=l}return Jt}function Ha(l,u){return typeof u=="function"?u(l):u}function $a(l){var u=Xr(),m=u.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=l;var _=or,w=_.baseQueue,A=m.pending;if(A!==null){if(w!==null){var O=w.next;w.next=A.next,A.next=O}_.baseQueue=w=A,m.pending=null}if(w!==null){A=w.next,_=_.baseState;var V=O=null,te=null,de=A;do{var me=de.lane;if((cs&me)===me)te!==null&&(te=te.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),_=de.hasEagerState?de.eagerState:l(_,de.action);else{var Ie={lane:me,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};te===null?(V=te=Ie,O=_):te=te.next=Ie,Ut.lanes|=me,vs|=me}de=de.next}while(de!==null&&de!==A);te===null?O=_:te.next=V,xn(_,u.memoizedState)||(Wt=!0),u.memoizedState=_,u.baseState=O,u.baseQueue=te,m.lastRenderedState=_}if((l=m.interleaved)!==null){w=l;do A=w.lane,Ut.lanes|=A,vs|=A,w=w.next;while(w!==l)}else w===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function pu(l){var u=Xr(),m=u.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=l;var _=m.dispatch,w=m.pending,A=u.memoizedState;if(w!==null){m.pending=null;var O=w=w.next;do A=l(A,O.action),O=O.next;while(O!==w);xn(A,u.memoizedState)||(Wt=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),m.lastRenderedState=A}return[A,_]}function Ih(){}function kh(l,u){var m=Ut,_=Xr(),w=u(),A=!xn(_.memoizedState,w);if(A&&(_.memoizedState=w,Wt=!0),_=_.queue,vu(Nh.bind(null,m,_,l),[l]),_.getSnapshot!==u||A||Jt!==null&&1&Jt.memoizedState.tag){if(m.flags|=2048,el(9,Dh.bind(null,m,_,w,u),void 0,null),rr===null)throw Error(o(349));30&cs||Mh(m,u,w)}return w}function Mh(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},(u=Ut.updateQueue)===null?(u={lastEffect:null,stores:null},Ut.updateQueue=u,u.stores=[l]):(m=u.stores)===null?u.stores=[l]:m.push(l)}function Dh(l,u,m,_){u.value=m,u.getSnapshot=_,Ri(u)&&mu(l)}function Nh(l,u,m){return m(function(){Ri(u)&&mu(l)})}function Ri(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!xn(l,m)}catch{return!0}}function mu(l){var u=oi(l,1);u!==null&&kr(u,l,1,-1)}function gu(l){var u=Lr();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:l},u.queue=l,l=l.dispatch=Yf.bind(null,Ut,l),[u.memoizedState,l]}function el(l,u,m,_){return l={tag:l,create:u,destroy:m,deps:_,next:null},(u=Ut.updateQueue)===null?(u={lastEffect:null,stores:null},Ut.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect)===null?u.lastEffect=l.next=l:(_=m.next,m.next=l,l.next=_,u.lastEffect=l),l}function Kc(){return Xr().memoizedState}function ds(l,u,m,_){var w=Lr();Ut.flags|=l,w.memoizedState=el(1|u,m,void 0,_===void 0?null:_)}function yu(l,u,m,_){var w=Xr();_=_===void 0?null:_;var A=void 0;if(or!==null){var O=or.memoizedState;if(A=O.destroy,_!==null&&Jo(_,O.deps))return void(w.memoizedState=el(u,m,A,_))}Ut.flags|=l,w.memoizedState=el(1|u,m,A,_)}function Oh(l,u){return ds(8390656,8,l,u)}function vu(l,u){return yu(2048,8,l,u)}function Rt(l,u){return yu(4,2,l,u)}function _u(l,u){return yu(4,4,l,u)}function tl(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function ja(l,u,m){return m=m!=null?m.concat([l]):null,yu(4,4,tl.bind(null,u,l),m)}function xu(){}function wu(l,u){var m=Xr();u=u===void 0?null:u;var _=m.memoizedState;return _!==null&&u!==null&&Jo(u,_[1])?_[0]:(m.memoizedState=[l,u],l)}function Wa(l,u){var m=Xr();u=u===void 0?null:u;var _=m.memoizedState;return _!==null&&u!==null&&Jo(u,_[1])?_[0]:(l=l(),m.memoizedState=[l,u],l)}function rl(l,u,m){return 21&cs?(xn(m,u)||(m=gh(),Ut.lanes|=m,vs|=m,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,Wt=!0),l.memoizedState=m)}function Va(l,u){var m=ct;ct=m!==0&&4>m?m:4,l(!0);var _=cu.transition;cu.transition={};try{l(!1),u()}finally{ct=m,cu.transition=_}}function Fh(){return Xr().memoizedState}function Xf(l,u,m){var _=On(l);m={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null},Bh(l)?nl(u,m):(m=Wc(l,u,m,_))!==null&&(kr(m,l,_,ur()),il(m,u,_))}function Yf(l,u,m){var _=On(l),w={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null};if(Bh(l))nl(u,w);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer)!==null)try{var O=u.lastRenderedState,V=A(O,m);if(w.hasEagerState=!0,w.eagerState=V,xn(V,O)){var te=u.interleaved;return te===null?(w.next=w,Sh(u)):(w.next=te.next,te.next=w),void(u.interleaved=w)}}catch{}(m=Wc(l,u,w,_))!==null&&(kr(m,l,_,w=ur()),il(m,u,_))}}function Bh(l){var u=l.alternate;return l===Ut||u!==null&&u===Ut}function nl(l,u){Zo=du=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function il(l,u,m){if(4194240&m){var _=u.lanes;m|=_&=l.pendingLanes,u.lanes=m,Uo(l,m)}}var Xa={readContext:En,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},Lh={readContext:En,useCallback:function(l,u){return Lr().memoizedState=[l,u===void 0?null:u],l},useContext:En,useEffect:Oh,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,ds(4194308,4,tl.bind(null,u,l),m)},useLayoutEffect:function(l,u){return ds(4194308,4,l,u)},useInsertionEffect:function(l,u){return ds(4,2,l,u)},useMemo:function(l,u){var m=Lr();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var _=Lr();return u=m!==void 0?m(u):u,_.memoizedState=_.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},_.queue=l,l=l.dispatch=Xf.bind(null,Ut,l),[_.memoizedState,l]},useRef:function(l){return l={current:l},Lr().memoizedState=l},useState:gu,useDebugValue:xu,useDeferredValue:function(l){return Lr().memoizedState=l},useTransition:function(){var l=gu(!1),u=l[0];return l=Va.bind(null,l[1]),Lr().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var _=Ut,w=Lr();if(Pt){if(m===void 0)throw Error(o(407));m=m()}else{if(m=u(),rr===null)throw Error(o(349));30&cs||Mh(_,u,m)}w.memoizedState=m;var A={value:m,getSnapshot:u};return w.queue=A,Oh(Nh.bind(null,_,A,l),[l]),_.flags|=2048,el(9,Dh.bind(null,_,A,m,u),void 0,null),m},useId:function(){var l=Lr(),u=rr.identifierPrefix;if(Pt){var m=Sn;u=":"+u+"R"+(m=(wn&~(1<<32-_n(wn)-1)).toString(32)+m),0<(m=ui++)&&(u+="H"+m.toString(32)),u+=":"}else u=":"+u+"r"+(m=Rh++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},Uh={readContext:En,useCallback:wu,useContext:En,useEffect:vu,useImperativeHandle:ja,useInsertionEffect:Rt,useLayoutEffect:_u,useMemo:Wa,useReducer:$a,useRef:Kc,useState:function(){return $a(Ha)},useDebugValue:xu,useDeferredValue:function(l){return rl(Xr(),or.memoizedState,l)},useTransition:function(){return[$a(Ha)[0],Xr().memoizedState]},useMutableSource:Ih,useSyncExternalStore:kh,useId:Fh,unstable_isNewReconciler:!1},zh={readContext:En,useCallback:wu,useContext:En,useEffect:vu,useImperativeHandle:ja,useInsertionEffect:Rt,useLayoutEffect:_u,useMemo:Wa,useReducer:pu,useRef:Kc,useState:function(){return pu(Ha)},useDebugValue:xu,useDeferredValue:function(l){var u=Xr();return or===null?u.memoizedState=l:rl(u,or.memoizedState,l)},useTransition:function(){return[pu(Ha)[0],Xr().memoizedState]},useMutableSource:Ih,useSyncExternalStore:kh,useId:Fh,unstable_isNewReconciler:!1};function Ya(l,u){try{var m="",_=u;do m+=Vf(_),_=_.return;while(_);var w=m}catch(A){w=`
Error generating stack: `+A.message+`
`+A.stack}return{value:l,source:u,stack:w,digest:null}}function Su(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function Gh(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var qf=typeof WeakMap=="function"?WeakMap:Map;function Eu(l,u,m){(m=Pi(-1,m)).tag=3,m.payload={element:null};var _=u.value;return m.callback=function(){kt||(kt=!0,io=_),Gh(0,u)},m}function Ii(l,u,m){(m=Pi(-1,m)).tag=3;var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var w=u.value;m.payload=function(){return _(w)},m.callback=function(){Gh(0,u)}}var A=l.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(m.callback=function(){Gh(0,u),typeof _!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})}),m}function Hh(l,u,m){var _=l.pingCache;if(_===null){_=l.pingCache=new qf;var w=new Set;_.set(u,w)}else(w=_.get(u))===void 0&&(w=new Set,_.set(u,w));w.has(m)||(w.add(m),l=Mu.bind(null,l,u,m),u.then(l,l))}function Xs(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function qn(l,u,m,_,w){return 1&l.mode?(l.flags|=65536,l.lanes=w,l):(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:((u=Pi(-1,1)).tag=2,li(m,u,1))),m.lanes|=1),l)}var sl=c.ReactCurrentOwner,Wt=!1;function Rr(l,u,m,_){u.child=l===null?Qo(u,null,m,_):za(u,l.child,m,_)}function Zc(l,u,m,_,w){m=m.render;var A=u.ref;return Fa(u,w),_=fu(l,u,m,_,A,w),m=Ga(),l===null||Wt?(Pt&&m&&Ma(u),u.flags|=1,Rr(l,u,_,w),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~w,An(l,u,w))}function Jc(l,u,m,_,w){if(l===null){var A=m.type;return typeof A!="function"||vl(A)||A.defaultProps!==void 0||m.compare!==null||m.defaultProps!==void 0?((l=_l(m.type,null,_,u,u.mode,w)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=A,fs(l,u,A,_,w))}if(A=l.child,(l.lanes&w)==0){var O=A.memoizedProps;if((m=(m=m.compare)!==null?m:au)(O,_)&&l.ref===u.ref)return An(l,u,w)}return u.flags|=1,(l=Ui(A,_)).ref=u.ref,l.return=u,u.child=l}function fs(l,u,m,_,w){if(l!==null){var A=l.memoizedProps;if(au(A,_)&&l.ref===u.ref){if(Wt=!1,u.pendingProps=_=A,(l.lanes&w)==0)return u.lanes=l.lanes,An(l,u,w);131072&l.flags&&(Wt=!0)}}return Qa(l,u,m,_,w)}function qa(l,u,m){var _=u.pendingProps,w=_.children,A=l!==null?l.memoizedState:null;if(_.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(Oi,nr),nr|=m;else{if(!(1073741824&m))return l=A!==null?A.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Ct(Oi,nr),nr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=A!==null?A.baseLanes:m,Ct(Oi,nr),nr|=_}else A!==null?(_=A.baseLanes|m,u.memoizedState=null):_=m,Ct(Oi,nr),nr|=_;return Rr(l,u,w,m),u.child}function Ys(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Qa(l,u,m,_,w){var A=Pr(m)?Ls:Cr.current;return A=Ei(u,A),Fa(u,w),m=fu(l,u,m,_,A,w),_=Ga(),l===null||Wt?(Pt&&_&&Ma(u),u.flags|=1,Rr(l,u,m,w),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~w,An(l,u,w))}function bu(l,u,m,_,w){if(Pr(m)){var A=!0;Jl(u)}else A=!1;if(Fa(u,w),u.stateNode===null)Tn(l,u),Yc(u,m,_),Ah(u,m,_,w),_=!0;else if(l===null){var O=u.stateNode,V=u.memoizedProps;O.props=V;var te=O.context,de=m.contextType;typeof de=="object"&&de!==null?de=En(de):de=Ei(u,de=Pr(m)?Ls:Cr.current);var me=m.getDerivedStateFromProps,Ie=typeof me=="function"||typeof O.getSnapshotBeforeUpdate=="function";Ie||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V!==_||te!==de)&&qc(u,O,_,de),os=!1;var fe=u.memoizedState;O.state=fe,Xo(u,_,O,w),te=u.memoizedState,V!==_||fe!==te||jr.current||os?(typeof me=="function"&&(lu(u,m,me,_),te=u.memoizedState),(V=os||js(u,m,V,_,fe,te,de))?(Ie||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=_,u.memoizedState=te),O.props=_,O.state=te,O.context=de,_=V):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),_=!1)}else{O=u.stateNode,Vc(l,u),V=u.memoizedProps,de=u.type===u.elementType?V:Xn(u.type,V),O.props=de,Ie=u.pendingProps,fe=O.context,typeof(te=m.contextType)=="object"&&te!==null?te=En(te):te=Ei(u,te=Pr(m)?Ls:Cr.current);var Te=m.getDerivedStateFromProps;(me=typeof Te=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V!==Ie||fe!==te)&&qc(u,O,_,te),os=!1,fe=u.memoizedState,O.state=fe,Xo(u,_,O,w);var Ge=u.memoizedState;V!==Ie||fe!==Ge||jr.current||os?(typeof Te=="function"&&(lu(u,m,Te,_),Ge=u.memoizedState),(de=os||js(u,m,de,_,fe,Ge,te)||!1)?(me||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(_,Ge,te),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(_,Ge,te)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||V===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),u.memoizedProps=_,u.memoizedState=Ge),O.props=_,O.state=Ge,O.context=te,_=de):(typeof O.componentDidUpdate!="function"||V===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),_=!1)}return ps(l,u,m,_,A,w)}function ps(l,u,m,_,w,A){Ys(l,u);var O=(128&u.flags)!=0;if(!_&&!O)return w&&eu(u,m,!1),An(l,u,A);_=u.stateNode,sl.current=u;var V=O&&typeof m.getDerivedStateFromError!="function"?null:_.render();return u.flags|=1,l!==null&&O?(u.child=za(u,l.child,null,A),u.child=za(u,null,V,A)):Rr(l,u,V,A),u.memoizedState=_.state,w&&eu(u,m,!0),u.child}function ki(l){var u=l.stateNode;u.pendingContext?No(0,u.pendingContext,u.pendingContext!==u.context):u.context&&No(0,u.context,!1),uu(l,u.containerInfo)}function It(l,u,m,_,w){return Na(),jo(w),u.flags|=256,Rr(l,u,m,_),u.child}var wt,bn,lr,wr,Mi={dehydrated:null,treeContext:null,retryLane:0};function ms(l){return{baseLanes:l,cachePool:null,transitions:null}}function Ur(l,u,m){var _,w=u.pendingProps,A=jt.current,O=!1,V=(128&u.flags)!=0;if((_=V)||(_=(l===null||l.memoizedState!==null)&&(2&A)!=0),_?(O=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(A|=1),Ct(jt,1&A),l===null)return Da(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?vn(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(V=w.children,l=w.fallback,O?(w=u.mode,O=u.child,V={mode:"hidden",children:V},!(1&w)&&O!==null?(O.childLanes=0,O.pendingProps=V):O=Du(V,w,0,null),l=xs(l,w,m,null),O.return=u,l.return=u,O.sibling=l,u.child=O,u.child.memoizedState=ms(m),u.memoizedState=Mi,l):Ka(u,V));if((A=l.memoizedState)!==null&&(_=A.dehydrated)!==null)return function(de,me,Ie,fe,Te,Ge,at){if(Ie)return 256&me.flags?(me.flags&=-257,al(de,me,at,fe=Su(Error(o(422))))):me.memoizedState!==null?(me.child=de.child,me.flags|=128,null):(Ge=fe.fallback,Te=me.mode,fe=Du({mode:"visible",children:fe.children},Te,0,null),(Ge=xs(Ge,Te,at,null)).flags|=2,fe.return=me,Ge.return=me,fe.sibling=Ge,me.child=fe,1&me.mode&&za(me,de.child,null,at),me.child.memoizedState=ms(at),me.memoizedState=Mi,Ge);if(!(1&me.mode))return al(de,me,at,null);if(vn(Te))return fe=rs(Te).digest,Ge=Error(o(419)),fe=Su(Ge,fe,void 0),al(de,me,at,fe);if(Ie=(at&de.childLanes)!=0,Wt||Ie){if((fe=rr)!==null){switch(at&-at){case 4:Te=2;break;case 16:Te=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Te=32;break;case 536870912:Te=268435456;break;default:Te=0}(Te=Te&(fe.suspendedLanes|at)?0:Te)!==0&&Te!==Ge.retryLane&&(Ge.retryLane=Te,oi(de,Te),kr(fe,de,Te,-1))}return ku(),al(de,me,at,fe=Su(Error(o(421))))}return Aa(Te)?(me.flags|=128,me.child=de.child,me=Jh.bind(null,de),ns(Te,me),null):(de=Ge.treeContext,We&&(xr=Yl(Te),Ot=me,Pt=!0,Vn=null,Ci=!1,de!==null&&(Wr[sn++]=wn,Wr[sn++]=Sn,Wr[sn++]=Vr,wn=de.id,Sn=de.overflow,Vr=me)),me=Ka(me,fe.children),me.flags|=4096,me)}(l,u,V,w,_,A,m);if(O){O=w.fallback,V=u.mode,_=(A=l.child).sibling;var te={mode:"hidden",children:w.children};return!(1&V)&&u.child!==A?((w=u.child).childLanes=0,w.pendingProps=te,u.deletions=null):(w=Ui(A,te)).subtreeFlags=14680064&A.subtreeFlags,_!==null?O=Ui(_,O):(O=xs(O,V,m,null)).flags|=2,O.return=u,w.return=u,w.sibling=O,u.child=w,w=O,O=u.child,V=(V=l.child.memoizedState)===null?ms(m):{baseLanes:V.baseLanes|m,cachePool:null,transitions:V.transitions},O.memoizedState=V,O.childLanes=l.childLanes&~m,u.memoizedState=Mi,w}return l=(O=l.child).sibling,w=Ui(O,{mode:"visible",children:w.children}),!(1&u.mode)&&(w.lanes=m),w.return=u,w.sibling=null,l!==null&&((m=u.deletions)===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=w,u.memoizedState=null,w}function Ka(l,u){return(u=Du({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function al(l,u,m,_){return _!==null&&jo(_),za(u,l.child,null,m),(l=Ka(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function $h(l,u,m){l.lanes|=u;var _=l.alternate;_!==null&&(_.lanes|=u),wh(l.return,u,m)}function Za(l,u,m,_,w){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:_,tail:m,tailMode:w}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=_,A.tail=m,A.tailMode=w)}function jh(l,u,m){var _=u.pendingProps,w=_.revealOrder,A=_.tail;if(Rr(l,u,_.children,m),(2&(_=jt.current))!=0)_=1&_|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&$h(l,m,u);else if(l.tag===19)$h(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}_&=1}if(Ct(jt,_),(1&u.mode)==0)u.memoizedState=null;else switch(w){case"forwards":for(m=u.child,w=null;m!==null;)(l=m.alternate)!==null&&hu(l)===null&&(w=m),m=m.sibling;(m=w)===null?(w=u.child,u.child=null):(w=m.sibling,m.sibling=null),Za(u,!1,w,m,A);break;case"backwards":for(m=null,w=u.child,u.child=null;w!==null;){if((l=w.alternate)!==null&&hu(l)===null){u.child=w;break}l=w.sibling,w.sibling=m,m=w,w=l}Za(u,!0,m,null,A);break;case"together":Za(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Tn(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function An(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),vs|=u.lanes,(m&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(o(153));if(u.child!==null){for(m=Ui(l=u.child,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,(m=m.sibling=Ui(l,l.pendingProps)).return=u;m.sibling=null}return u.child}function Cn(l){l.flags|=4}function Wh(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(ke)wt=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)z(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},bn=function(){},lr=function(l,u,m,_,w){if((l=l.memoizedProps)!==_){var A=u.stateNode,O=Yn(an.current);m=ie(A,m,l,_,w,O),(u.updateQueue=m)&&Cn(u)}},wr=function(l,u,m,_){m!==_&&Cn(u)};else if(Ue){wt=function(l,u,m,_){for(var w=u.child;w!==null;){if(w.tag===5){var A=w.stateNode;m&&_&&(A=Ar(A,w.type,w.memoizedProps,w)),z(l,A)}else if(w.tag===6)A=w.stateNode,m&&_&&(A=ba(A,w.memoizedProps,w)),z(l,A);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)(A=w.child)!==null&&(A.return=w),wt(l,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===u)break;for(;w.sibling===null;){if(w.return===null||w.return===u)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var ed=function(l,u,m,_){for(var w=u.child;w!==null;){if(w.tag===5){var A=w.stateNode;m&&_&&(A=Ar(A,w.type,w.memoizedProps,w)),yn(l,A)}else if(w.tag===6)A=w.stateNode,m&&_&&(A=ba(A,w.memoizedProps,w)),yn(l,A);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)(A=w.child)!==null&&(A.return=w),ed(l,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===u)break;for(;w.sibling===null;){if(w.return===null||w.return===u)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};bn=function(l,u){var m=u.stateNode;if(!Wh(l,u)){l=m.containerInfo;var _=_r(l);ed(_,u,!1,!1),m.pendingChildren=_,Cn(u),Ea(l,_)}},lr=function(l,u,m,_,w){var A=l.stateNode,O=l.memoizedProps;if((l=Wh(l,u))&&O===_)u.stateNode=A;else{var V=u.stateNode,te=Yn(an.current),de=null;O!==_&&(de=ie(V,m,O,_,w,te)),l&&de===null?u.stateNode=A:(A=si(A,de,m,O,_,u,l,V),X(A,m,_,w,te)&&Cn(u),u.stateNode=A,l?Cn(u):wt(A,u,!1,!1))}},wr=function(l,u,m,_){m!==_?(l=Yn(us.current),m=Yn(an.current),u.stateNode=pe(_,l,m,u),Cn(u)):u.stateNode=l.stateNode}}else bn=function(){},lr=function(){},wr=function(){};function Pn(l,u){if(!Pt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:_.sibling=null}}function tr(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,_=0;if(u)for(var w=l.child;w!==null;)m|=w.lanes|w.childLanes,_|=14680064&w.subtreeFlags,_|=14680064&w.flags,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)m|=w.lanes|w.childLanes,_|=w.subtreeFlags,_|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=_,l.childLanes=m,u}function Ja(l,u,m){var _=u.pendingProps;switch(ru(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(u),null;case 1:case 17:return Pr(u.type)&&Us(),tr(u),null;case 3:return m=u.stateNode,Vs(),pt(jr),pt(Cr),on(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),l!==null&&l.child!==null||(su(u)?Cn(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,Vn!==null&&(gl(Vn),Vn=null))),bn(l,u),tr(u),null;case 5:Ch(u),m=Yn(us.current);var w=u.type;if(l!==null&&u.stateNode!=null)lr(l,u,w,_,m),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!_){if(u.stateNode===null)throw Error(o(166));return tr(u),null}if(l=Yn(an.current),su(u)){if(!We)throw Error(o(175));l=jn(u.stateNode,u.type,u.memoizedProps,m,l,u,!Ci),u.updateQueue=l,l!==null&&Cn(u)}else{var A=I(w,_,m,l,u);wt(A,u,!1,!1),u.stateNode=A,X(A,w,_,m,l)&&Cn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return tr(u),null;case 6:if(l&&u.stateNode!=null)wr(l,u,l.memoizedProps,_);else{if(typeof _!="string"&&u.stateNode===null)throw Error(o(166));if(l=Yn(us.current),m=Yn(an.current),su(u)){if(!We)throw Error(o(176));if(l=u.stateNode,m=u.memoizedProps,(_=Ro(l,m,u,!Ci))&&(w=Ot)!==null)switch(w.tag){case 3:$f(w.stateNode.containerInfo,l,m,(1&w.mode)!=0);break;case 5:qt(w.type,w.memoizedProps,w.stateNode,l,m,(1&w.mode)!=0)}_&&Cn(u)}else u.stateNode=pe(_,l,m,u)}return tr(u),null;case 13:if(pt(jt),_=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Pt&&xr!==null&&1&u.mode&&!(128&u.flags))$c(),Na(),u.flags|=98560,w=!1;else if(w=su(u),_!==null&&_.dehydrated!==null){if(l===null){if(!w)throw Error(o(318));if(!We)throw Error(o(344));if(!(w=(w=u.memoizedState)!==null?w.dehydrated:null))throw Error(o(317));ql(w,u)}else Na(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;tr(u),w=!1}else Vn!==null&&(gl(Vn),Vn=null),w=!0;if(!w)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=m,u):((m=_!==null)!=(l!==null&&l.memoizedState!==null)&&m&&(u.child.flags|=8192,1&u.mode&&(l===null||1&jt.current?ir===0&&(ir=3):ku())),u.updateQueue!==null&&(u.flags|=4),tr(u),null);case 4:return Vs(),bn(l,u),l===null&&$e(u.stateNode.containerInfo),tr(u),null;case 10:return Vo(u.type._context),tr(u),null;case 19:if(pt(jt),(w=u.memoizedState)===null)return tr(u),null;if(_=(128&u.flags)!=0,(A=w.rendering)===null)if(_)Pn(w,!1);else{if(ir!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((A=hu(l))!==null){for(u.flags|=128,Pn(w,!1),(l=A.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=m,m=u.child;m!==null;)w=l,(_=m).flags&=14680066,(A=_.alternate)===null?(_.childLanes=0,_.lanes=w,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=A.childLanes,_.lanes=A.lanes,_.child=A.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=A.memoizedProps,_.memoizedState=A.memoizedState,_.updateQueue=A.updateQueue,_.type=A.type,w=A.dependencies,_.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),m=m.sibling;return Ct(jt,1&jt.current|2),u.child}l=l.sibling}w.tail!==null&&Nt()>pl&&(u.flags|=128,_=!0,Pn(w,!1),u.lanes=4194304)}else{if(!_)if((l=hu(A))!==null){if(u.flags|=128,_=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),Pn(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!Pt)return tr(u),null}else 2*Nt()-w.renderingStartTime>pl&&m!==1073741824&&(u.flags|=128,_=!0,Pn(w,!1),u.lanes=4194304);w.isBackwards?(A.sibling=u.child,u.child=A):((l=w.last)!==null?l.sibling=A:u.child=A,w.last=A)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=Nt(),u.sibling=null,l=jt.current,Ct(jt,_?1&l|2:1&l),u):(tr(u),null);case 22:case 23:return na(),m=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(u.flags|=8192),m&&1&u.mode?1073741824&nr&&(tr(u),ke&&6&u.subtreeFlags&&(u.flags|=8192)):tr(u),null;case 24:case 25:return null}throw Error(o(156,u.tag))}function Tu(l,u){switch(ru(u),u.tag){case 1:return Pr(u.type)&&Us(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return Vs(),pt(jr),pt(Cr),on(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return Ch(u),null;case 13:if(pt(jt),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(o(340));Na()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return pt(jt),null;case 4:return Vs(),null;case 10:return Vo(u.type._context),null;case 22:case 23:return na(),null;default:return null}}var qs=!1,Tt=!1,Rn=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Yr(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(_){At(l,u,_)}else m.current=null}function hi(l,u,m){try{m()}catch(_){At(l,u,_)}}var gs=!1;function eo(l,u,m){var _=u.updateQueue;if((_=_!==null?_.lastEffect:null)!==null){var w=_=_.next;do{if((w.tag&l)===l){var A=w.destroy;w.destroy=void 0,A!==void 0&&hi(u,m,A)}w=w.next}while(w!==_)}}function to(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var m=u=u.next;do{if((m.tag&l)===l){var _=m.create;m.destroy=_()}m=m.next}while(m!==u)}}function ol(l){var u=l.ref;if(u!==null){var m=l.stateNode;l.tag===5?l=B(m):l=m,typeof u=="function"?u(l):u.current=l}}function qr(l){var u=l.alternate;u!==null&&(l.alternate=null,qr(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&Dt(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Qr(l){return l.tag===5||l.tag===3||l.tag===4}function Ft(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Qr(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function ln(l,u,m){var _=l.tag;if(_===5||_===6)l=l.stateNode,u?wa(m,l,u):Ji(m,l);else if(_!==4&&(l=l.child)!==null)for(ln(l,u,m),l=l.sibling;l!==null;)ln(l,u,m),l=l.sibling}function Au(l,u,m){var _=l.tag;if(_===5||_===6)l=l.stateNode,u?Vl(m,l,u):xa(m,l);else if(_!==4&&(l=l.child)!==null)for(Au(l,u,m),l=l.sibling;l!==null;)Au(l,u,m),l=l.sibling}var Ir=null,In=!1;function kn(l,u,m){for(m=m.child;m!==null;)Cu(l,u,m),m=m.sibling}function Cu(l,u,m){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ho,m)}catch{}switch(m.tag){case 5:Tt||Yr(m,u);case 6:if(ke){var _=Ir,w=In;Ir=null,kn(l,u,m),In=w,(Ir=_)!==null&&(In?re(Ir,m.stateNode):Sa(Ir,m.stateNode))}else kn(l,u,m);break;case 18:ke&&Ir!==null&&(In?ko(Ir,m.stateNode):Ql(Ir,m.stateNode));break;case 4:ke?(_=Ir,w=In,Ir=m.stateNode.containerInfo,In=!0,kn(l,u,m),Ir=_,In=w):(Ue&&(_=m.stateNode.containerInfo,w=_r(_),Hn(_,w)),kn(l,u,m));break;case 0:case 11:case 14:case 15:if(!Tt&&(_=m.updateQueue)!==null&&(_=_.lastEffect)!==null){w=_=_.next;do{var A=w,O=A.destroy;A=A.tag,O!==void 0&&(2&A||4&A)&&hi(m,u,O),w=w.next}while(w!==_)}kn(l,u,m);break;case 1:if(!Tt&&(Yr(m,u),typeof(_=m.stateNode).componentWillUnmount=="function"))try{_.props=m.memoizedProps,_.state=m.memoizedState,_.componentWillUnmount()}catch(V){At(m,u,V)}kn(l,u,m);break;case 21:kn(l,u,m);break;case 22:1&m.mode?(Tt=(_=Tt)||m.memoizedState!==null,kn(l,u,m),Tt=_):kn(l,u,m);break;default:kn(l,u,m)}}function ll(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new Rn),u.forEach(function(_){var w=nd.bind(null,l,_);m.has(_)||(m.add(_),_.then(w,w))})}}function Mn(l,u){var m=u.deletions;if(m!==null)for(var _=0;_<m.length;_++){var w=m[_];try{var A=l,O=u;if(ke){var V=O;e:for(;V!==null;){switch(V.tag){case 5:Ir=V.stateNode,In=!1;break e;case 3:case 4:Ir=V.stateNode.containerInfo,In=!0;break e}V=V.return}if(Ir===null)throw Error(o(160));Cu(A,O,w),Ir=null,In=!1}else Cu(A,O,w);var te=w.alternate;te!==null&&(te.return=null),w.return=null}catch(de){At(w,u,de)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)Qs(u,l),u=u.sibling}function Qs(l,u){var m=l.alternate,_=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Mn(u,l),Dn(l),4&_){try{eo(3,l,l.return),to(3,l)}catch(fe){At(l,l.return,fe)}try{eo(5,l,l.return)}catch(fe){At(l,l.return,fe)}}break;case 1:Mn(u,l),Dn(l),512&_&&m!==null&&Yr(m,m.return);break;case 5:if(Mn(u,l),Dn(l),512&_&&m!==null&&Yr(m,m.return),ke){if(32&l.flags){var w=l.stateNode;try{se(w)}catch(fe){At(l,l.return,fe)}}if(4&_&&(w=l.stateNode)!=null){var A=l.memoizedProps;if(m=m!==null?m.memoizedProps:A,_=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{dh(w,u,_,m,A,l)}catch(fe){At(l,l.return,fe)}}}break;case 6:if(Mn(u,l),Dn(l),4&_&&ke){if(l.stateNode===null)throw Error(o(162));w=l.stateNode,A=l.memoizedProps,m=m!==null?m.memoizedProps:A;try{xi(w,m,A)}catch(fe){At(l,l.return,fe)}}break;case 3:if(Mn(u,l),Dn(l),4&_){if(ke&&We&&m!==null&&m.memoizedState.isDehydrated)try{Si(u.containerInfo)}catch(fe){At(l,l.return,fe)}if(Ue){w=u.containerInfo,A=u.pendingChildren;try{Hn(w,A)}catch(fe){At(l,l.return,fe)}}}break;case 4:if(Mn(u,l),Dn(l),4&_&&Ue){w=(A=l.stateNode).containerInfo,A=A.pendingChildren;try{Hn(w,A)}catch(fe){At(l,l.return,fe)}}break;case 13:Mn(u,l),Dn(l),8192&(w=l.child).flags&&(A=w.memoizedState!==null,w.stateNode.isHidden=A,!A||w.alternate!==null&&w.alternate.memoizedState!==null||(Bi=Nt())),4&_&&ll(l);break;case 22:var O=m!==null&&m.memoizedState!==null;if(1&l.mode?(Tt=(m=Tt)||O,Mn(u,l),Tt=m):Mn(u,l),Dn(l),8192&_){if(m=l.memoizedState!==null,(l.stateNode.isHidden=m)&&!O&&(1&l.mode)!=0)for(Ne=l,_=l.child;_!==null;){for(u=Ne=_;Ne!==null;){var V=(O=Ne).child;switch(O.tag){case 0:case 11:case 14:case 15:eo(4,O,O.return);break;case 1:Yr(O,O.return);var te=O.stateNode;if(typeof te.componentWillUnmount=="function"){var de=O,me=O.return;try{var Ie=de;te.props=Ie.memoizedProps,te.state=Ie.memoizedState,te.componentWillUnmount()}catch(fe){At(de,me,fe)}}break;case 5:Yr(O,O.return);break;case 22:if(O.memoizedState!==null){Vh(u);continue}}V!==null?(V.return=O,Ne=V):Vh(u)}_=_.sibling}if(ke){e:if(_=null,ke)for(u=l;;){if(u.tag===5){if(_===null){_=u;try{w=u.stateNode,m?ht(w):Et(u.stateNode,u.memoizedProps)}catch(fe){At(l,l.return,fe)}}}else if(u.tag===6){if(_===null)try{A=u.stateNode,m?xt(A):rt(A,u.memoizedProps)}catch(fe){At(l,l.return,fe)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;_===u&&(_=null),u=u.return}_===u&&(_=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Mn(u,l),Dn(l),4&_&&ll(l);break;case 21:break;default:Mn(u,l),Dn(l)}}function Dn(l){var u=l.flags;if(2&u){try{if(ke){e:{for(var m=l.return;m!==null;){if(Qr(m)){var _=m;break e}m=m.return}throw Error(o(160))}switch(_.tag){case 5:var w=_.stateNode;32&_.flags&&(se(w),_.flags&=-33),Au(l,Ft(l),w);break;case 3:case 4:var A=_.stateNode.containerInfo;ln(l,Ft(l),A);break;default:throw Error(o(161))}}}catch(O){At(l,l.return,O)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function Qf(l,u,m){Ne=l,ro(l)}function ro(l,u,m){for(var _=(1&l.mode)!=0;Ne!==null;){var w=Ne,A=w.child;if(w.tag===22&&_){var O=w.memoizedState!==null||qs;if(!O){var V=w.alternate,te=V!==null&&V.memoizedState!==null||Tt;V=qs;var de=Tt;if(qs=O,(Tt=te)&&!de)for(Ne=w;Ne!==null;)te=(O=Ne).child,O.tag===22&&O.memoizedState!==null?Xh(w):te!==null?(te.return=O,Ne=te):Xh(w);for(;A!==null;)Ne=A,ro(A),A=A.sibling;Ne=w,qs=V,Tt=de}ul(l)}else 8772&w.subtreeFlags&&A!==null?(A.return=w,Ne=A):ul(l)}}function ul(l){for(;Ne!==null;){var u=Ne;if(8772&u.flags){var m=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:Tt||to(5,u);break;case 1:var _=u.stateNode;if(4&u.flags&&!Tt)if(m===null)_.componentDidMount();else{var w=u.elementType===u.type?m.memoizedProps:Xn(u.type,m.memoizedProps);_.componentDidUpdate(w,m.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var A=u.updateQueue;A!==null&&bh(u,A,_);break;case 3:var O=u.updateQueue;if(O!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=B(u.child.stateNode);break;case 1:m=u.child.stateNode}bh(u,O,m)}break;case 5:var V=u.stateNode;m===null&&4&u.flags&&es(V,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(We&&u.memoizedState===null){var te=u.alternate;if(te!==null){var de=te.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Fs(me)}}}break;default:throw Error(o(163))}Tt||512&u.flags&&ol(u)}catch(Ie){At(u,u.return,Ie)}}if(u===l){Ne=null;break}if((m=u.sibling)!==null){m.return=u.return,Ne=m;break}Ne=u.return}}function Vh(l){for(;Ne!==null;){var u=Ne;if(u===l){Ne=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Ne=m;break}Ne=u.return}}function Xh(l){for(;Ne!==null;){var u=Ne;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{to(4,u)}catch(te){At(u,m,te)}break;case 1:var _=u.stateNode;if(typeof _.componentDidMount=="function"){var w=u.return;try{_.componentDidMount()}catch(te){At(u,w,te)}}var A=u.return;try{ol(u)}catch(te){At(u,A,te)}break;case 5:var O=u.return;try{ol(u)}catch(te){At(u,O,te)}}}catch(te){At(u,u.return,te)}if(u===l){Ne=null;break}var V=u.sibling;if(V!==null){V.return=u.return,Ne=V;break}Ne=u.return}}var Di=0,hl=1,Ks=2,Zs=3,Ni=4;if(typeof Symbol=="function"&&Symbol.for){var Js=Symbol.for;Di=Js("selector.component"),hl=Js("selector.has_pseudo_class"),Ks=Js("selector.role"),Zs=Js("selector.test_id"),Ni=Js("selector.text")}function cl(l){var u=lt(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(o(364));return u}if((l=mr(l))===null)throw Error(o(362));return l.stateNode.current}function dl(l,u){switch(u.$$typeof){case Di:if(l.type===u.value)return!0;break;case hl:e:{u=u.value,l=[l,0];for(var m=0;m<l.length;){var _=l[m++],w=l[m++],A=u[w];if(_.tag!==5||!tn(_)){for(;A!=null&&dl(_,A);)A=u[++w];if(w===u.length){u=!0;break e}for(_=_.child;_!==null;)l.push(_,w),_=_.sibling}}u=!1}return u;case Ks:if(l.tag===5&&jl(l.stateNode,u.value))return!0;break;case Ni:if((l.tag===5||l.tag===6)&&(l=_i(l))!==null&&0<=l.indexOf(u.value))return!0;break;case Zs:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(o(365))}return!1}function fl(l){switch(l.$$typeof){case Di:return"<"+(q(l.value)||"Unknown")+">";case hl:return":has("+(fl(l)||"")+")";case Ks:return'[role="'+l.value+'"]';case Ni:return'"'+l.value+'"';case Zs:return'[data-testname="'+l.value+'"]';default:throw Error(o(365))}}function ea(l,u){var m=[];l=[l,0];for(var _=0;_<l.length;){var w=l[_++],A=l[_++],O=u[A];if(w.tag!==5||!tn(w)){for(;O!=null&&dl(w,O);)O=u[++A];if(A===u.length)m.push(w);else for(w=w.child;w!==null;)l.push(w,A),w=w.sibling}}return m}function Kr(l,u){if(!pr)throw Error(o(363));l=ea(l=cl(l),u),u=[],l=Array.from(l);for(var m=0;m<l.length;){var _=l[m++];if(_.tag===5)tn(_)||u.push(_.stateNode);else for(_=_.child;_!==null;)l.push(_),_=_.sibling}return u}var ta=Math.ceil,no=c.ReactCurrentDispatcher,Pu=c.ReactCurrentOwner,bt=c.ReactCurrentBatchConfig,it=0,rr=null,Qt=null,Bt=0,nr=0,Oi=Wn(0),ir=0,ys=null,vs=0,_s=0,Nn=0,Fi=null,Sr=null,Bi=0,pl=1/0,un=null;function ra(){pl=Nt()+500}var Ru,kt=!1,io=null,ci=null,so=!1,Qn=null,ao=0,Kn=0,Lt=null,Vt=-1,Kt=0;function ur(){return 6&it?Nt():Vt!==-1?Vt:Vt=Nt()}function On(l){return 1&l.mode?2&it&&Bt!==0?Bt&-Bt:Wf.transition!==null?(Kt===0&&(Kt=gh()),Kt):(l=ct)!==0?l:Ve():1}function kr(l,u,m,_){if(50<Kn)throw Kn=0,Lt=null,Error(o(185));Ca(l,m,_),2&it&&l===rr||(l===rr&&(!(2&it)&&(_s|=m),ir===4&&di(l,Bt)),Zr(l,_),m===1&&it===0&&!(1&u.mode)&&(ra(),is&&nn()))}function Zr(l,u){var m=l.callbackNode;(function(w,A){for(var O=w.suspendedLanes,V=w.pingedLanes,te=w.expirationTimes,de=w.pendingLanes;0<de;){var me=31-_n(de),Ie=1<<me,fe=te[me];fe===-1?Ie&O&&!(Ie&V)||(te[me]=Gc(Ie,A)):fe<=A&&(w.expiredLanes|=Ie),de&=~Ie}})(l,u);var _=Bo(l,l===rr?Bt:0);if(_===0)m!==null&&Ti(m),l.callbackNode=null,l.callbackPriority=0;else if(u=_&-_,l.callbackPriority!==u){if(m!=null&&Ti(m),u===1)l.tag===0?function(w){is=!0,Gs(w)}(Zn.bind(null,l)):Gs(Zn.bind(null,l)),$t?ni(function(){!(6&it)&&nn()}):ai(yh,nn),m=null;else{switch(bi(_)){case 1:m=yh;break;case 4:m=Hc;break;case 16:default:m=Pa;break;case 536870912:m=jf}m=ec(m,Er.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function Er(l,u){if(Vt=-1,Kt=0,(6&it)!=0)throw Error(o(327));var m=l.callbackNode;if(Jn()&&l.callbackNode!==m)return null;var _=Bo(l,l===rr?Bt:0);if(_===0)return null;if(30&_||_&l.expiredLanes||u)u=yl(l,_);else{u=_;var w=it;it|=2;var A=Yh();for(rr===l&&Bt===u||(un=null,ra(),Li(l,u));;)try{rd();break}catch(V){Iu(l,V)}xh(),no.current=A,it=w,Qt!==null?u=0:(rr=null,Bt=0,u=ir)}if(u!==0){if(u===2&&(w=Lo(l))!==0&&(_=w,u=ml(l,w)),u===1)throw m=ys,Li(l,0),di(l,_),Zr(l,Nt()),m;if(u===6)di(l,_);else{if(w=l.current.alternate,(30&_)==0&&!function(V){for(var te=V;;){if(16384&te.flags){var de=te.updateQueue;if(de!==null&&(de=de.stores)!==null)for(var me=0;me<de.length;me++){var Ie=de[me],fe=Ie.getSnapshot;Ie=Ie.value;try{if(!xn(fe(),Ie))return!1}catch{return!1}}}if(de=te.child,16384&te.subtreeFlags&&de!==null)de.return=te,te=de;else{if(te===V)break;for(;te.sibling===null;){if(te.return===null||te.return===V)return!0;te=te.return}te.sibling.return=te.return,te=te.sibling}}return!0}(w)&&((u=yl(l,_))===2&&(A=Lo(l))!==0&&(_=A,u=ml(l,A)),u===1))throw m=ys,Li(l,0),di(l,_),Zr(l,Nt()),m;switch(l.finishedWork=w,l.finishedLanes=_,u){case 0:case 1:throw Error(o(345));case 2:case 5:ia(l,Sr,un);break;case 3:if(di(l,_),(130023424&_)===_&&10<(u=Bi+500-Nt())){if(Bo(l,0)!==0)break;if(((w=l.suspendedLanes)&_)!==_){ur(),l.pingedLanes|=l.suspendedLanes&w;break}l.timeoutHandle=_e(ia.bind(null,l,Sr,un),u);break}ia(l,Sr,un);break;case 4:if(di(l,_),(4194240&_)===_)break;for(u=l.eventTimes,w=-1;0<_;){var O=31-_n(_);A=1<<O,(O=u[O])>w&&(w=O),_&=~A}if(_=w,10<(_=(120>(_=Nt()-_)?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*ta(_/1960))-_)){l.timeoutHandle=_e(ia.bind(null,l,Sr,un),_);break}ia(l,Sr,un);break;default:throw Error(o(329))}}}return Zr(l,Nt()),l.callbackNode===m?Er.bind(null,l):null}function ml(l,u){var m=Fi;return l.current.memoizedState.isDehydrated&&(Li(l,u).flags|=256),(l=yl(l,u))!==2&&(u=Sr,Sr=m,u!==null&&gl(u)),l}function gl(l){Sr===null?Sr=l:Sr.push.apply(Sr,l)}function di(l,u){for(u&=~Nn,u&=~_s,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-_n(u),_=1<<m;l[m]=-1,u&=~_}}function Zn(l){if(6&it)throw Error(o(327));Jn();var u=Bo(l,0);if(!(1&u))return Zr(l,Nt()),null;var m=yl(l,u);if(l.tag!==0&&m===2){var _=Lo(l);_!==0&&(u=_,m=ml(l,_))}if(m===1)throw m=ys,Li(l,0),di(l,u),Zr(l,Nt()),m;if(m===6)throw Error(o(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,ia(l,Sr,un),Zr(l,Nt()),null}function hn(l){Qn!==null&&Qn.tag===0&&!(6&it)&&Jn();var u=it;it|=1;var m=bt.transition,_=ct;try{if(bt.transition=null,ct=1,l)return l()}finally{ct=_,bt.transition=m,!(6&(it=u))&&nn()}}function na(){nr=Oi.current,pt(Oi)}function Li(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==Re&&(l.timeoutHandle=Re,Ae(m)),Qt!==null)for(m=Qt.return;m!==null;){var _=m;switch(ru(_),_.tag){case 1:(_=_.type.childContextTypes)!=null&&Us();break;case 3:Vs(),pt(jr),pt(Cr),on();break;case 5:Ch(_);break;case 4:Vs();break;case 13:case 19:pt(jt);break;case 10:Vo(_.type._context);break;case 22:case 23:na()}m=m.return}if(rr=l,Qt=l=Ui(l.current,null),Bt=nr=u,ir=0,ys=null,Nn=_s=vs=0,Sr=Fi=null,as!==null){for(u=0;u<as.length;u++)if((_=(m=as[u]).interleaved)!==null){m.interleaved=null;var w=_.next,A=m.pending;if(A!==null){var O=A.next;A.next=w,_.next=O}m.pending=_}as=null}return l}function Iu(l,u){for(;;){var m=Qt;try{if(xh(),hs.current=Xa,du){for(var _=Ut.memoizedState;_!==null;){var w=_.queue;w!==null&&(w.pending=null),_=_.next}du=!1}if(cs=0,Jt=or=Ut=null,Zo=!1,ui=0,Pu.current=null,m===null||m.return===null){ir=1,ys=u,Qt=null;break}e:{var A=l,O=m.return,V=m,te=u;if(u=Bt,V.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var de=te,me=V,Ie=me.tag;if(!(1&me.mode)&&(Ie===0||Ie===11||Ie===15)){var fe=me.alternate;fe?(me.updateQueue=fe.updateQueue,me.memoizedState=fe.memoizedState,me.lanes=fe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Te=Xs(O);if(Te!==null){Te.flags&=-257,qn(Te,O,V,0,u),1&Te.mode&&Hh(A,de,u),te=de;var Ge=(u=Te).updateQueue;if(Ge===null){var at=new Set;at.add(te),u.updateQueue=at}else Ge.add(te);break e}if(!(1&u)){Hh(A,de,u),ku();break e}te=Error(o(426))}else if(Pt&&1&V.mode){var ge=Xs(O);if(ge!==null){!(65536&ge.flags)&&(ge.flags|=256),qn(ge,O,V,0,u),jo(Ya(te,V));break e}}A=te=Ya(te,V),ir!==4&&(ir=2),Fi===null?Fi=[A]:Fi.push(A),A=O;do{switch(A.tag){case 3:A.flags|=65536,u&=-u,A.lanes|=u,Xc(A,Eu(0,te,u));break e;case 1:V=te;var K=A.type,oe=A.stateNode;if(!(128&A.flags)&&(typeof K.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(ci===null||!ci.has(oe)))){A.flags|=65536,u&=-u,A.lanes|=u,Xc(A,Ii(A,V,u));break e}}A=A.return}while(A!==null)}Qh(m)}catch(we){u=we,Qt===m&&m!==null&&(Qt=m=m.return);continue}break}}function Yh(){var l=no.current;return no.current=Xa,l===null?Xa:l}function ku(){ir!==0&&ir!==3&&ir!==2||(ir=4),rr===null||!(268435455&vs)&&!(268435455&_s)||di(rr,Bt)}function yl(l,u){var m=it;it|=2;var _=Yh();for(rr===l&&Bt===u||(un=null,Li(l,u));;)try{td();break}catch(w){Iu(l,w)}if(xh(),it=m,no.current=_,Qt!==null)throw Error(o(261));return rr=null,Bt=0,ir}function td(){for(;Qt!==null;)qh(Qt)}function rd(){for(;Qt!==null&&!zo();)qh(Qt)}function qh(l){var u=Ru(l.alternate,l,nr);l.memoizedProps=l.pendingProps,u===null?Qh(l):Qt=u,Pu.current=null}function Qh(l){var u=l;do{var m=u.alternate;if(l=u.return,(32768&u.flags)==0){if((m=Ja(m,u,nr))!==null)return void(Qt=m)}else{if((m=Tu(m,u))!==null)return m.flags&=32767,void(Qt=m);if(l===null)return ir=6,void(Qt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(Qt=u);Qt=u=l}while(u!==null);ir===0&&(ir=5)}function ia(l,u,m){var _=ct,w=bt.transition;try{bt.transition=null,ct=1,function(A,O,V,te){do Jn();while(Qn!==null);if(6&it)throw Error(o(327));V=A.finishedWork;var de=A.finishedLanes;if(V===null)return null;if(A.finishedWork=null,A.finishedLanes=0,V===A.current)throw Error(o(177));A.callbackNode=null,A.callbackPriority=0;var me=V.lanes|V.childLanes;if(function(Te,Ge){var at=Te.pendingLanes&~Ge;Te.pendingLanes=Ge,Te.suspendedLanes=0,Te.pingedLanes=0,Te.expiredLanes&=Ge,Te.mutableReadLanes&=Ge,Te.entangledLanes&=Ge,Ge=Te.entanglements;var ge=Te.eventTimes;for(Te=Te.expirationTimes;0<at;){var K=31-_n(at),oe=1<<K;Ge[K]=0,ge[K]=-1,Te[K]=-1,at&=~oe}}(A,me),A===rr&&(Qt=rr=null,Bt=0),!(2064&V.subtreeFlags)&&!(2064&V.flags)||so||(so=!0,ec(Pa,function(){return Jn(),null})),me=(15990&V.flags)!=0,(15990&V.subtreeFlags)!=0||me){me=bt.transition,bt.transition=null;var Ie=ct;ct=1;var fe=it;it|=4,Pu.current=null,function(Te,Ge){for(H(Te.containerInfo),Ne=Ge;Ne!==null;)if(Ge=(Te=Ne).child,(1028&Te.subtreeFlags)!=0&&Ge!==null)Ge.return=Te,Ne=Ge;else for(;Ne!==null;){Te=Ne;try{var at=Te.alternate;if(1024&Te.flags)switch(Te.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(at!==null){var ge=at.memoizedProps,K=at.memoizedState,oe=Te.stateNode,we=oe.getSnapshotBeforeUpdate(Te.elementType===Te.type?ge:Xn(Te.type,ge),K);oe.__reactInternalSnapshotBeforeUpdate=we}break;case 3:ke&&Br(Te.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(Ke){At(Te,Te.return,Ke)}if((Ge=Te.sibling)!==null){Ge.return=Te.return,Ne=Ge;break}Ne=Te.return}at=gs,gs=!1}(A,V),Qs(V,A),N(A.containerInfo),A.current=V,Qf(V),Go(),it=fe,ct=Ie,bt.transition=me}else A.current=V;if(so&&(so=!1,Qn=A,ao=de),me=A.pendingLanes,me===0&&(ci=null),function(Te){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ho,Te,void 0,(128&Te.current.flags)==128)}catch{}}(V.stateNode),Zr(A,Nt()),O!==null)for(te=A.onRecoverableError,V=0;V<O.length;V++)de=O[V],te(de.value,{componentStack:de.stack,digest:de.digest});if(kt)throw kt=!1,A=io,io=null,A;1&ao&&A.tag!==0&&Jn(),me=A.pendingLanes,1&me?A===Lt?Kn++:(Kn=0,Lt=A):Kn=0,nn()}(l,u,m,_)}finally{bt.transition=w,ct=_}return null}function Jn(){if(Qn!==null){var l=bi(ao),u=bt.transition,m=ct;try{if(bt.transition=null,ct=16>l?16:l,Qn===null)var _=!1;else{if(l=Qn,Qn=null,ao=0,(6&it)!=0)throw Error(o(331));var w=it;for(it|=4,Ne=l.current;Ne!==null;){var A=Ne,O=A.child;if(16&Ne.flags){var V=A.deletions;if(V!==null){for(var te=0;te<V.length;te++){var de=V[te];for(Ne=de;Ne!==null;){var me=Ne;switch(me.tag){case 0:case 11:case 15:eo(8,me,A)}var Ie=me.child;if(Ie!==null)Ie.return=me,Ne=Ie;else for(;Ne!==null;){var fe=(me=Ne).sibling,Te=me.return;if(qr(me),me===de){Ne=null;break}if(fe!==null){fe.return=Te,Ne=fe;break}Ne=Te}}}var Ge=A.alternate;if(Ge!==null){var at=Ge.child;if(at!==null){Ge.child=null;do{var ge=at.sibling;at.sibling=null,at=ge}while(at!==null)}}Ne=A}}if(2064&A.subtreeFlags&&O!==null)O.return=A,Ne=O;else e:for(;Ne!==null;){if(2048&(A=Ne).flags)switch(A.tag){case 0:case 11:case 15:eo(9,A,A.return)}var K=A.sibling;if(K!==null){K.return=A.return,Ne=K;break e}Ne=A.return}}var oe=l.current;for(Ne=oe;Ne!==null;){var we=(O=Ne).child;if(2064&O.subtreeFlags&&we!==null)we.return=O,Ne=we;else e:for(O=oe;Ne!==null;){if(2048&(V=Ne).flags)try{switch(V.tag){case 0:case 11:case 15:to(9,V)}}catch(yt){At(V,V.return,yt)}if(V===O){Ne=null;break e}var Ke=V.sibling;if(Ke!==null){Ke.return=V.return,Ne=Ke;break e}Ne=V.return}}if(it=w,nn(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ho,l)}catch{}_=!0}return _}finally{ct=m,bt.transition=u}}return!1}function Kh(l,u,m){l=li(l,u=Eu(0,u=Ya(m,u),1),1),u=ur(),l!==null&&(Ca(l,1,u),Zr(l,u))}function At(l,u,m){if(l.tag===3)Kh(l,l,m);else for(;u!==null;){if(u.tag===3){Kh(u,l,m);break}if(u.tag===1){var _=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(ci===null||!ci.has(_))){u=li(u,l=Ii(u,l=Ya(m,l),1),1),l=ur(),u!==null&&(Ca(u,1,l),Zr(u,l));break}}u=u.return}}function Mu(l,u,m){var _=l.pingCache;_!==null&&_.delete(u),u=ur(),l.pingedLanes|=l.suspendedLanes&m,rr===l&&(Bt&m)===m&&(ir===4||ir===3&&(130023424&Bt)===Bt&&500>Nt()-Bi?Li(l,0):Nn|=m),Zr(l,u)}function Zh(l,u){u===0&&(1&l.mode?(u=Fo,!(130023424&(Fo<<=1))&&(Fo=4194304)):u=1);var m=ur();(l=oi(l,u))!==null&&(Ca(l,u,m),Zr(l,m))}function Jh(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),Zh(l,m)}function nd(l,u){var m=0;switch(l.tag){case 13:var _=l.stateNode,w=l.memoizedState;w!==null&&(m=w.retryLane);break;case 19:_=l.stateNode;break;default:throw Error(o(314))}_!==null&&_.delete(u),Zh(l,m)}function ec(l,u){return ai(l,u)}function id(l,u,m,_){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(l,u,m,_){return new id(l,u,m,_)}function vl(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Ui(l,u){var m=l.alternate;return m===null?((m=cn(l.tag,u,l.key,l.mode)).elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=14680064&l.flags,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function _l(l,u,m,_,w,A){var O=2;if(_=l,typeof l=="function")vl(l)&&(O=1);else if(typeof l=="string")O=5;else e:switch(l){case g:return xs(m.children,w,A,u);case v:O=8,w|=8;break;case x:return(l=cn(12,m,u,2|w)).elementType=x,l.lanes=A,l;case R:return(l=cn(13,m,u,w)).elementType=R,l.lanes=A,l;case P:return(l=cn(19,m,u,w)).elementType=P,l.lanes=A,l;case F:return Du(m,w,A,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:O=10;break e;case b:O=9;break e;case T:O=11;break e;case M:O=14;break e;case L:O=16,_=null;break e}throw Error(o(130,l==null?l:typeof l,""))}return(u=cn(O,m,u,w)).elementType=l,u.type=_,u.lanes=A,u}function xs(l,u,m,_){return(l=cn(7,l,_,u)).lanes=m,l}function Du(l,u,m,_){return(l=cn(22,l,_,u)).elementType=F,l.lanes=m,l.stateNode={isHidden:!1},l}function Nu(l,u,m){return(l=cn(6,l,null,u)).lanes=m,l}function tc(l,u,m){return(u=cn(4,l.children!==null?l.children:[],l.key,u)).lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function Kf(l,u,m,_,w){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Re,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=_,this.onRecoverableError=w,We&&(this.mutableSourceEagerHydrationData=null)}function rc(l,u,m,_,w,A,O,V,te){return l=new Kf(l,u,m,V,te),u===1?(u=1,A===!0&&(u|=8)):u=0,A=cn(3,null,null,u),l.current=A,A.stateNode=l,A.memoizedState={element:_,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eh(A),l}function nc(l){if(!l)return gr;e:{if(Z(l=l._reactInternals)!==l||l.tag!==1)throw Error(o(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Pr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(o(171))}if(l.tag===1){var m=l.type;if(Pr(m))return zc(l,m,u)}return u}function ic(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(o(188)):(l=Object.keys(l).join(","),Error(o(268,l)));return(l=Se(u))===null?null:l.stateNode}function xl(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Ou(l,u){xl(l,u),(l=l.alternate)&&xl(l,u)}function Zf(l){return(l=Se(l))===null?null:l.stateNode}function Jf(){return null}return Ru=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||jr.current)Wt=!0;else{if(!(l.lanes&m)&&!(128&u.flags))return Wt=!1,function(Ie,fe,Te){switch(fe.tag){case 3:ki(fe),Na();break;case 5:Qc(fe);break;case 1:Pr(fe.type)&&Jl(fe);break;case 4:uu(fe,fe.stateNode.containerInfo);break;case 10:jc(0,fe.type._context,fe.memoizedProps.value);break;case 13:var Ge=fe.memoizedState;if(Ge!==null)return Ge.dehydrated!==null?(Ct(jt,1&jt.current),fe.flags|=128,null):Te&fe.child.childLanes?Ur(Ie,fe,Te):(Ct(jt,1&jt.current),(Ie=An(Ie,fe,Te))!==null?Ie.sibling:null);Ct(jt,1&jt.current);break;case 19:if(Ge=(Te&fe.childLanes)!=0,(128&Ie.flags)!=0){if(Ge)return jh(Ie,fe,Te);fe.flags|=128}var at=fe.memoizedState;if(at!==null&&(at.rendering=null,at.tail=null,at.lastEffect=null),Ct(jt,jt.current),Ge)break;return null;case 22:case 23:return fe.lanes=0,qa(Ie,fe,Te)}return An(Ie,fe,Te)}(l,u,m);Wt=(131072&l.flags)!=0}else Wt=!1,Pt&&1048576&u.flags&&$o(u,Hs,u.index);switch(u.lanes=0,u.tag){case 2:var _=u.type;Tn(l,u),l=u.pendingProps;var w=Ei(u,Cr.current);Fa(u,m),w=fu(null,u,_,l,w,m);var A=Ga();return u.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Pr(_)?(A=!0,Jl(u)):A=!1,u.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Eh(u),w.updater=Yo,u.stateNode=w,w._reactInternals=u,Ah(u,_,l,m),u=ps(null,u,_,!0,A,m)):(u.tag=0,Pt&&A&&Ma(u),Rr(null,u,w,m),u=u.child),u;case 16:_=u.elementType;e:{switch(Tn(l,u),l=u.pendingProps,_=(w=_._init)(_._payload),u.type=_,w=u.tag=function(Ie){if(typeof Ie=="function")return vl(Ie)?1:0;if(Ie!=null){if((Ie=Ie.$$typeof)===T)return 11;if(Ie===M)return 14}return 2}(_),l=Xn(_,l),w){case 0:u=Qa(null,u,_,l,m);break e;case 1:u=bu(null,u,_,l,m);break e;case 11:u=Zc(null,u,_,l,m);break e;case 14:u=Jc(null,u,_,Xn(_.type,l),m);break e}throw Error(o(306,_,""))}return u;case 0:return _=u.type,w=u.pendingProps,Qa(l,u,_,w=u.elementType===_?w:Xn(_,w),m);case 1:return _=u.type,w=u.pendingProps,bu(l,u,_,w=u.elementType===_?w:Xn(_,w),m);case 3:e:{if(ki(u),l===null)throw Error(o(387));_=u.pendingProps,w=(A=u.memoizedState).element,Vc(l,u),Xo(u,_,null,m);var O=u.memoizedState;if(_=O.element,We&&A.isDehydrated){if(A={element:_,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},u.updateQueue.baseState=A,u.memoizedState=A,256&u.flags){u=It(l,u,_,m,w=Ya(Error(o(423)),u));break e}if(_!==w){u=It(l,u,_,m,w=Ya(Error(o(424)),u));break e}for(We&&(xr=Po(u.stateNode.containerInfo),Ot=u,Pt=!0,Vn=null,Ci=!1),m=Qo(u,null,_,m),u.child=m;m;)m.flags=-3&m.flags|4096,m=m.sibling}else{if(Na(),_===w){u=An(l,u,m);break e}Rr(l,u,_,m)}u=u.child}return u;case 5:return Qc(u),l===null&&Da(u),_=u.type,w=u.pendingProps,A=l!==null?l.memoizedProps:null,O=w.children,he(_,w)?O=null:A!==null&&he(_,A)&&(u.flags|=32),Ys(l,u),Rr(l,u,O,m),u.child;case 6:return l===null&&Da(u),null;case 13:return Ur(l,u,m);case 4:return uu(u,u.stateNode.containerInfo),_=u.pendingProps,l===null?u.child=za(u,null,_,m):Rr(l,u,_,m),u.child;case 11:return _=u.type,w=u.pendingProps,Zc(l,u,_,w=u.elementType===_?w:Xn(_,w),m);case 7:return Rr(l,u,u.pendingProps,m),u.child;case 8:case 12:return Rr(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(_=u.type._context,w=u.pendingProps,A=u.memoizedProps,jc(0,_,O=w.value),A!==null)if(xn(A.value,O)){if(A.children===w.children&&!jr.current){u=An(l,u,m);break e}}else for((A=u.child)!==null&&(A.return=u);A!==null;){var V=A.dependencies;if(V!==null){O=A.child;for(var te=V.firstContext;te!==null;){if(te.context===_){if(A.tag===1){(te=Pi(-1,m&-m)).tag=2;var de=A.updateQueue;if(de!==null){var me=(de=de.shared).pending;me===null?te.next=te:(te.next=me.next,me.next=te),de.pending=te}}A.lanes|=m,(te=A.alternate)!==null&&(te.lanes|=m),wh(A.return,m,u),V.lanes|=m;break}te=te.next}}else if(A.tag===10)O=A.type===u.type?null:A.child;else if(A.tag===18){if((O=A.return)===null)throw Error(o(341));O.lanes|=m,(V=O.alternate)!==null&&(V.lanes|=m),wh(O,m,u),O=A.sibling}else O=A.child;if(O!==null)O.return=A;else for(O=A;O!==null;){if(O===u){O=null;break}if((A=O.sibling)!==null){A.return=O.return,O=A;break}O=O.return}A=O}Rr(l,u,w.children,m),u=u.child}return u;case 9:return w=u.type,_=u.pendingProps.children,Fa(u,m),_=_(w=En(w)),u.flags|=1,Rr(l,u,_,m),u.child;case 14:return w=Xn(_=u.type,u.pendingProps),Jc(l,u,_,w=Xn(_.type,w),m);case 15:return fs(l,u,u.type,u.pendingProps,m);case 17:return _=u.type,w=u.pendingProps,w=u.elementType===_?w:Xn(_,w),Tn(l,u),u.tag=1,Pr(_)?(l=!0,Jl(u)):l=!1,Fa(u,m),Yc(u,_,w),Ah(u,_,w,m),ps(null,u,_,!0,l,m);case 19:return jh(l,u,m);case 22:return qa(l,u,m)}throw Error(o(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=oi(l,134217728);u!==null&&kr(u,l,134217728,ur()),Ou(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=oi(l,1);u!==null&&kr(u,l,1,ur()),Ou(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=On(l),m=oi(l,u);m!==null&&kr(m,l,u,ur()),Ou(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=mt(u.pendingLanes);m!==0&&(Uo(u,1|m),Zr(u,Nt()),!(6&it)&&(ra(),nn()))}break;case 13:hn(function(){var _=oi(l,1);if(_!==null){var w=ur();kr(_,l,1,w)}}),Ou(l,1)}},e.batchedUpdates=function(l,u){var m=it;it|=1;try{return l(u)}finally{(it=m)===0&&(ra(),is&&nn())}},e.createComponentSelector=function(l){return{$$typeof:Di,value:l}},e.createContainer=function(l,u,m,_,w,A,O){return rc(l,u,!1,null,0,_,0,A,O)},e.createHasPseudoClassSelector=function(l){return{$$typeof:hl,value:l}},e.createHydrationContainer=function(l,u,m,_,w,A,O,V,te){return(l=rc(m,_,!0,l,0,A,0,V,te)).context=nc(null),m=l.current,(A=Pi(_=ur(),w=On(m))).callback=u??null,li(m,A,w),l.current.lanes=w,Ca(l,w,_),Zr(l,_),l},e.createPortal=function(l,u,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:_==null?null:""+_,children:l,containerInfo:u,implementation:m}},e.createRoleSelector=function(l){return{$$typeof:Ks,value:l}},e.createTestNameSelector=function(l){return{$$typeof:Zs,value:l}},e.createTextSelector=function(l){return{$$typeof:Ni,value:l}},e.deferredUpdates=function(l){var u=ct,m=bt.transition;try{return bt.transition=null,ct=16,l()}finally{ct=u,bt.transition=m}},e.discreteUpdates=function(l,u,m,_,w){var A=ct,O=bt.transition;try{return bt.transition=null,ct=1,l(u,m,_,w)}finally{ct=A,bt.transition=O,it===0&&ra()}},e.findAllNodes=Kr,e.findBoundingRects=function(l,u){if(!pr)throw Error(o(363));u=Kr(l,u),l=[];for(var m=0;m<u.length;m++)l.push(ii(u[m]));for(u=l.length-1;0<u;u--)for(var _=(m=l[u]).x,w=_+m.width,A=m.y,O=A+m.height,V=u-1;0<=V;V--)if(u!==V){var te=l[V],de=te.x,me=de+te.width,Ie=te.y,fe=Ie+te.height;if(_>=de&&A>=Ie&&w<=me&&O<=fe){l.splice(u,1);break}if(!(_!==de||m.width!==te.width||fe<A||Ie>O)){Ie>A&&(te.height+=Ie-A,te.y=A),fe<O&&(te.height=O-Ie),l.splice(u,1);break}if(!(A!==Ie||m.height!==te.height||me<_||de>w)){de>_&&(te.width+=de-_,te.x=_),me<w&&(te.width=w-de),l.splice(u,1);break}}return l},e.findHostInstance=ic,e.findHostInstanceWithNoPortals=function(l){return(l=(l=ce(l))!==null?J(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return ic(l)},e.flushControlled=function(l){var u=it;it|=1;var m=bt.transition,_=ct;try{bt.transition=null,ct=1,l()}finally{ct=_,bt.transition=m,(it=u)===0&&(ra(),nn())}},e.flushPassiveEffects=Jn,e.flushSync=hn,e.focusWithin=function(l,u){if(!pr)throw Error(o(363));for(u=ea(l=cl(l),u),u=Array.from(u),l=0;l<u.length;){var m=u[l++];if(!tn(m)){if(m.tag===5&&Wl(m.stateNode))return!0;for(m=m.child;m!==null;)u.push(m),m=m.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ct},e.getFindAllNodesFailureDescription=function(l,u){if(!pr)throw Error(o(363));var m=0,_=[];l=[cl(l),0];for(var w=0;w<l.length;){var A=l[w++],O=l[w++],V=u[O];if((A.tag!==5||!tn(A))&&(dl(A,V)&&(_.push(fl(V)),++O>m&&(m=O)),O<u.length))for(A=A.child;A!==null;)l.push(A,O),A=A.sibling}if(m<u.length){for(l=[];m<u.length;m++)l.push(fl(u[m]));return`findAllNodes was able to match part of the selector:
  `+_.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?B(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:Zf,findFiberByHostInstance:l.findFiberByHostInstance||Jf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{Ho=u.inject(l),rn=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,m,_){if(!pr)throw Error(o(363));l=Kr(l,u);var w=_a(l,m,_).disconnect;return{disconnect:function(){w()}}},e.registerMutableSourceForHydration=function(l,u){var m=u._getVersion;m=m(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,m]:l.mutableSourceEagerHydrationData.push(u,m)},e.runWithPriority=function(l,u){var m=ct;try{return ct=l,u()}finally{ct=m}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,m,_){var w=u.current,A=ur(),O=On(w);return m=nc(m),u.context===null?u.context=m:u.pendingContext=m,(u=Pi(A,O)).payload={element:l},(_=_===void 0?null:_)!==null&&(u.callback=_),(l=li(w,u,O))!==null&&(kr(l,w,O,A),ls(l,w,O)),O},e}),h_}({get exports(){return Lg},set exports(n){Lg=n}}).exports=gA();var yA=$T(Lg),i1={name:"root",dependencies:{"react-dom":"^18.0.0"}},zg={},jd={get exports(){return zg},set exports(n){zg=n}};(function(){var n,e,t,r,s,o;typeof performance<"u"&&performance!==null&&performance.now?jd.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(jd.exports=function(){return(n()-s)/1e6},e=process.hrtime,r=(n=function(){var c;return 1e9*(c=e())[0]+c[1]})(),o=1e9*process.uptime(),s=r-o):Date.now?(jd.exports=function(){return Date.now()-t},t=Date.now()):(jd.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(HT);var f_,eh={},Rl={};({get exports(){return eh},set exports(n){eh=n}}).exports=(f_||(f_=1,Rl.ConcurrentRoot=1,Rl.ContinuousEventPriority=4,Rl.DefaultEventPriority=16,Rl.DiscreteEventPriority=1,Rl.IdleEventPriority=536870912,Rl.LegacyRoot=0),Rl);var vA={};function tg(n,e){n.addChild&&(n.addChild(e),typeof e.didMount=="function"&&e.didMount(e,n))}function s1(n,e){var t,r,s;(t=n.willUnmount)===null||t===void 0||t.call(n,n,e),((r=n.config)===null||r===void 0?void 0:r.destroyChildren)!==!1&&(s=n.children)!==null&&s!==void 0&&s.length&&va(n.children).forEach(function(o){s1(o,n)})}function p_(n,e){var t;s1(e,n),n.removeChild(e);var r=(t=e.config)!==null&&t!==void 0?t:{},s=r.destroy,o=s===void 0||s,c=r.destroyChildren,d=c===void 0||c,p=r.destroyTexture,g=p!==void 0&&p,v=r.destroyBaseTexture,x=v!==void 0&&v;o&&e.destroy({children:d,texture:g,baseTexture:x})}function m_(n,e,t){var r,s;ar(e!==t,"Cannot insert node before itself"),n.children.indexOf(e)!==-1&&n.removeChild(e);var o=n.getChildIndex(t);n.addChildAt(e,o),(r=n.__reactpixi)===null||r===void 0||(s=r.root)===null||s===void 0||s.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var g_=null,qi=yA({getRootHostContext:function(){return vA},getChildHostContext:function(n){return n},getChildHostContextForEventComponent:function(n){return n},getPublicInstance:function(n){return n},getCurrentEventPriority:function(){return function(){var n,e;if(typeof window>"u")return eh.DefaultEventPriority;switch((n=window)===null||n===void 0||(e=n.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return eh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return eh.ContinuousEventPriority;default:return eh.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(n){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=dA[n];if(typeof o=="function"&&(e=o(s,r)),!e){var c=n1[n];c&&((e=c.create(r,{root:s})).didMount=c.didMount?c.didMount.bind(e):void 0,e.willUnmount=c.willUnmount?c.willUnmount.bind(e):void 0,e.applyProps=c.applyProps?c.applyProps.bind(e):void 0,e.config=c.config)}return e&&(e.__reactpixi={root:s},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:Ds)(e,{},r)),e},hideInstance:function(n){n.visible=!1},unhideInstance:function(n,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;n.visible=t},finalizeInitialChildren:function(n,e,t){return!1},prepareUpdate:function(n,e,t,r,s,o){return g_=function(c,d,p,g){var v=null;for(var x in p)!g.hasOwnProperty(x)&&p.hasOwnProperty(x)&&p[x]!==null&&(x===Fg||(v||(v=[]),v.push(x,null)));for(var S in g){var b=g[S],T=p!==null?p[S]:void 0;!g.hasOwnProperty(S)||b===T||b===null&&T===null||S===Fg||(v||(v=[]),v.push(S,b))}return v}(0,0,t,r)},shouldSetTextContent:function(n,e){return!1},shouldDeprioritizeSubtree:function(n,e){var t=e.alpha===void 0||e.alpha>0,r=e.renderable===void 0||e.renderable===!0,s=e.visible===void 0||e.visible===!0;return!(t&&r&&s)},createTextInstance:function(n,e,t){ar(!1,'Error trying to add text node "'.concat(n,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(n,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:zg,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=tg.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),o},appendChild:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=tg.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),o},appendChildToContainer:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=tg.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),o},removeChild:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=p_.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),o},removeChildFromContainer:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=p_.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),o},insertBefore:m_,insertInContainerBefore:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=m_.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),o},commitUpdate:function(n,e,t,r,s){var o,c,d=n&&n.applyProps;typeof d!="function"&&(d=Ds),(d(n,r,s)||g_)&&((o=n.__reactpixi)===null||o===void 0||(c=o.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(n,e,t,r,s){},commitTextUpdate:function(n,e,t){},resetTextContent:function(n){},clearContainer:function(n){},getFundamentalComponentInstance:function(n){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(n){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(n){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(n){throw new Error("Not yet implemented.")},getInstanceFromNode:function(n){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(n){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(n){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(n){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(n){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(n){}}),_A=i1.dependencies["react-dom"].replace(/[^0-9.]/g,""),xA=i1.name;qi.injectIntoDevTools({bundleType:0,version:_A,rendererPackageName:xA,findHostInstanceByFiber:qi.findHostInstance});var Eo=new Map;function a1(n){if(ar(gn.prototype.isPrototypeOf(n),"Invalid argument `container`, expected instance of `Container`."),Eo.has(n)){var e=Eo.get(n).pixiFiberContainer;qi.updateContainer(null,e,void 0,function(){Eo.delete(n)})}}function o1(n){ar(gn.prototype.isPrototypeOf(n),"Invalid argument `container`, expected instance of `Container`.");var e=Eo.get(n);if(ar(!e,"createRoot should only be called once"),!e){var t=qi.createContainer(n);e={pixiFiberContainer:t,reactRoot:{render:function(r){return qi.updateContainer(r,t,void 0),qi.getPublicRootInstance(t)},unmount:function(){a1(n),Eo.delete(n)}}},Eo.set(n,e)}return e.reactRoot}function wA(n,e,t){var r;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Eo.has(e)?r=Eo.get(e).reactRoot:r=o1(e),r.render(n)}function SA(n){a1(n)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Oc.apply(this,arguments)}function EA(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function bA(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,e1(r.key),r)}}function ua(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ef(n,e){return Ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Ef(n,e)}function TA(n,e){if(e&&(ri(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ua(n)}function bf(n){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bf(n)}var Gf=pn.createContext(null),l1=Gf.Provider,u1=Gf.Consumer,AA=function(n){var e=pn.forwardRef(function(t,r){return pn.createElement(u1,null,function(s){return pn.createElement(n,Oc({},t,{ref:r,app:s}))})});return e.displayName="withPIXIApp(".concat(n.displayName||n.name,")"),e};function CA(n){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=bf(n);if(e){var s=bf(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return TA(this,t)}}function y_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Wd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?y_(Object(t),!0).forEach(function(r){dr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var v_=function(){},h1={width:Gt.number,height:Gt.number,onMount:Gt.func,onUnmount:Gt.func,raf:Gt.bool,renderOnComponentChange:Gt.bool,children:Gt.node,options:Gt.shape({autoStart:Gt.bool,width:Gt.number,height:Gt.number,useContextAlpha:Gt.bool,backgroundAlpha:Gt.number,autoDensity:Gt.bool,antialias:Gt.bool,preserveDrawingBuffer:Gt.bool,resolution:Gt.number,forceCanvas:Gt.bool,backgroundColor:Gt.number,clearBeforeRender:Gt.bool,powerPreference:Gt.string,sharedTicker:Gt.bool,sharedLoader:Gt.bool,resizeTo:function(n,e){var t=n[e];t&&ar(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(ri(t),", expect `window` or an `HTMLElement`."))},view:function(n,e,t){var r=n[e];r&&ar(r instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(ri(r),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},PA={width:800,height:600,onMount:v_,onUnmount:v_,raf:!0,renderOnComponentChange:!0},Gg=function(n){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&Ef(o,c)})(s,pn.Component);var e,t,r=CA(s);function s(){var o;EA(this,s);for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return dr(ua(o=r.call.apply(r,[this].concat(d))),"_canvas",null),dr(ua(o),"_mediaQuery",null),dr(ua(o),"_ticker",null),dr(ua(o),"_needsUpdate",!0),dr(ua(o),"app",null),dr(ua(o),"updateSize",function(){var g=o.props,v=g.width,x=g.height,S=g.options;S!=null&&S.resolution||(o.app.renderer.resolution=window.devicePixelRatio,o.resetInteractionManager()),o.app.renderer.resize(v,x)}),dr(ua(o),"needsRenderUpdate",function(){o._needsUpdate=!0}),dr(ua(o),"renderStage",function(){var g=o.props,v=g.renderOnComponentChange;!g.raf&&v&&o._needsUpdate&&(o._needsUpdate=!1,o.app.renderer.render(o.app.stage))}),o}return e=s,(t=[{key:"componentDidMount",value:function(){var o=this.props,c=o.onMount,d=o.width,p=o.height,g=o.options,v=o.raf,x=o.renderOnComponentChange;this.app=new zf(Wd(Wd({width:d,height:p,view:this._canvas},g),{},{autoDensity:(g==null?void 0:g.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[v?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=qi.createContainer(this.app.stage),qi.updateContainer(this.getChildren(),this.mountNode,this),c(this.app),g!=null&&g.autoDensity&&window.matchMedia&&(g==null?void 0:g.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),x&&!v&&(this._ticker=new Or,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(o,c,d){var p,g=this.props,v=g.width,x=g.height,S=g.raf,b=g.renderOnComponentChange,T=g.options;(T==null?void 0:T.resolution)!==void 0&&(o==null?void 0:o.options.resolution)!==(T==null?void 0:T.resolution)&&(this.app.renderer.resolution=T.resolution,this.resetInteractionManager()),o.height===x&&o.width===v&&((p=o.options)===null||p===void 0?void 0:p.resolution)===(T==null?void 0:T.resolution)||this.updateSize(),o.raf!==S&&this.app.ticker[S?"start":"stop"](),qi.updateContainer(this.getChildren(),this.mountNode,this),o.width===v&&o.height===x&&o.raf===S&&o.renderOnComponentChange===b&&o.options===T||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var o=this.app.renderer.plugins.interaction;o!=null&&o.resolution&&(o.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var o=this.props.children;return pn.createElement(l1,{value:this.app},o)}},{key:"componentDidCatch",value:function(o,c){console.error("Error occurred in `Stage`."),console.error(o),console.error(c)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),qi.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var o,c,d=this,p=this.props.options;return p&&p.view?(ar(p.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):pn.createElement("canvas",Oc({},(o=this.props,c=[].concat(va(Object.keys(h1)),va(Object.keys(Bg))),Object.keys(o).filter(function(g){return!c.includes(g)}).reduce(function(g,v){return Wd(Wd({},g),{},dr({},v,o[v]))},{})),{ref:function(g){return d._canvas=g}}))}}])&&bA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),s}();Gg.propTypes=h1,Gg.defaultProps=PA;var RA=Gg;function c1(){var n=Un.useContext(Gf);return ar(n instanceof zf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),n}function IA(n){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=c1();ar(typeof n=="function","`useTick` needs a callback function."),ar(t instanceof zf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var r=Un.useRef(null);Un.useEffect(function(){r.current=n},[n]),Un.useEffect(function(){if(e){var s=function(o){return r.current.apply(t.ticker,[o,t.ticker])};return t.ticker.add(s),function(){t.ticker&&t.ticker.remove(s)}}},[e])}function kA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hg(n,e,t){return Hg=kA()?Reflect.construct.bind():function(r,s,o){var c=[null];c.push.apply(c,s);var d=new(Function.bind.apply(r,c));return o&&Ef(d,o.prototype),d},Hg.apply(null,arguments)}var MA=["children","apply"];function __(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Vd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?__(Object(t),!0).forEach(function(r){dr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):__(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var DA=function(n,e){ar(ri(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),r=function(s){var o=s.children,c=s.apply,d=Co(s,MA),p=Un.useRef(Un.useMemo(function(){return t.map(function(x){var S,b=(d==null||(S=d[x])===null||S===void 0?void 0:S.construct)||[];return Hg(e[x],va(b))})},[t])),g=Un.useMemo(function(){return t.reduce(function(x,S,b){return Vd(Vd({},x),{},dr({},S,p.current[b]))},{})},[t]),v=Un.useMemo(function(){return Object.keys(d).filter(r1(t1(t))).reduce(function(x,S){return Vd(Vd({},x),{},dr({},S,d[S]))},{})},[d,t]);return t.forEach(function(x,S){return Object.assign(p.current[S],d[x])}),c&&function(){for(var x=arguments.length,S=new Array(x),b=0;b<x;b++)S[b]=arguments[b];return S.every(function(T){return typeof T=="function"})}(c)&&c.call(n,g),pn.createElement(n,Oc({},v,{filters:p.current}),o)};return r.displayName="FilterWrapper",r.propTypes={children:Gt.node,apply:Gt.func},r},NA=Gn.BitmapText,OA=Gn.Container,FA=Gn.Graphics,BA=Gn.NineSlicePlane,LA=Gn.ParticleContainer,UA=Gn.Sprite,zA=Gn.AnimatedSprite,GA=Gn.Text,HA=Gn.TilingSprite,$A=Gn.SimpleMesh,jA=Gn.SimpleRope;const WA=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:zA,AppConsumer:u1,AppContext:Gf,AppProvider:l1,BitmapText:NA,Container:OA,Graphics:FA,NineSlicePlane:BA,ParticleContainer:LA,PixiComponent:fA,PixiFiber:qi,SimpleMesh:$A,SimpleRope:jA,Sprite:UA,Stage:RA,TYPES:Gn,Text:GA,TilingSprite:HA,applyDefaultProps:Ds,createRoot:o1,eventHandlers:Sf,render:wA,unmountComponentAtNode:SA,useApp:c1,useTick:IA,withFilters:DA,withPixiApp:AA},Symbol.toStringTag,{value:"Module"})),VA=I_(WA);var x_;function XA(){return x_||(x_=1,Rc.exports=VA),Rc.exports}var Ac=XA();const YA=()=>{const[n,e]=Un.useState({width:(window==null?void 0:window.innerWidth)||0,height:(window==null?void 0:window.innerHeight)||0});return Un.useEffect(()=>{if(typeof window>"u")return;const t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n},d1=new Ht;Yt.prototype._cacheAsBitmap=!1;Yt.prototype._cacheData=null;Yt.prototype._cacheAsBitmapResolution=null;Yt.prototype._cacheAsBitmapMultisample=null;class qA{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Yt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(n){if(this._cacheAsBitmap===n)return;this._cacheAsBitmap=n;let e;n?(this._cacheData||(this._cacheData=new qA),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Yt.prototype._renderCached=function(n){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(n),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(n))};Yt.prototype._initCachedDisplayObject=function(n){var S,b;if((S=this._cacheData)!=null&&S.sprite)return;const e=this.alpha;this.alpha=1,n.batch.flush();const t=this.getLocalBounds(new ot,!0);if((b=this.filters)!=null&&b.length){const T=this.filters[0].padding;t.pad(T)}const r=this.cacheAsBitmapResolution||n.resolution;t.ceil(r),t.width=Math.max(t.width,1/r),t.height=Math.max(t.height,1/r);const s=n.renderTexture.current,o=n.renderTexture.sourceFrame.clone(),c=n.renderTexture.destinationFrame.clone(),d=n.projection.transform,p=$l.create({width:t.width,height:t.height,resolution:r,multisample:this.cacheAsBitmapMultisample??n.multisample}),g=`cacheAsBitmap_${Gl()}`;this._cacheData.textureCacheId=g,st.addToCache(p.baseTexture,g),Me.addToCache(p,g);const v=this.transform.localTransform.copyTo(d1).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,n.render(this,{renderTexture:p,clear:!0,transform:v,skipUpdateTransform:!1}),n.framebuffer.blit(),n.projection.transform=d,n.renderTexture.bind(s,o,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const x=new Os(p);x.transform.worldTransform=this.transform.worldTransform,x.anchor.x=-(t.x/t.width),x.anchor.y=-(t.y/t.height),x.alpha=e,x._bounds=this._bounds,this._cacheData.sprite=x,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=x.containsPoint.bind(x)};Yt.prototype._renderCachedCanvas=function(n){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(n),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(n))};Yt.prototype._initCachedDisplayObjectCanvas=function(n){var v;if((v=this._cacheData)!=null&&v.sprite)return;const e=this.getLocalBounds(new ot,!0),t=this.alpha;this.alpha=1;const r=n.canvasContext.activeContext,s=n._projTransform,o=this.cacheAsBitmapResolution||n.resolution;e.ceil(o),e.width=Math.max(e.width,1/o),e.height=Math.max(e.height,1/o);const c=$l.create({width:e.width,height:e.height,resolution:o}),d=`cacheAsBitmap_${Gl()}`;this._cacheData.textureCacheId=d,st.addToCache(c.baseTexture,d),Me.addToCache(c,d);const p=d1;this.transform.localTransform.copyTo(p),p.invert(),p.tx-=e.x,p.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,n.render(this,{renderTexture:c,clear:!0,transform:p,skipUpdateTransform:!1}),n.canvasContext.activeContext=r,n._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const g=new Os(c);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(e.x/e.width),g.anchor.y=-(e.y/e.height),g.alpha=t,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=n._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=g.containsPoint.bind(g)};Yt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Yt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Yt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,st.removeFromCache(this._cacheData.textureCacheId),Me.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Yt.prototype._cacheAsBitmapDestroy=function(n){this.cacheAsBitmap=!1,this.destroy(n)};Yt.prototype.name=null;gn.prototype.getChildByName=function(n,e){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].name===n)return this.children[t];if(e)for(let t=0,r=this.children.length;t<r;t++){const s=this.children[t];if(!s.getChildByName)continue;const o=s.getChildByName(n,!0);if(o)return o}return null};Yt.prototype.getGlobalPosition=function(n=new ft,e=!1){return this.parent?this.parent.toGlobal(this.position,n,e):(n.x=this.position.x,n.y=this.position.y),n};var QA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class KA extends mn{constructor(e=1){super(ob,QA,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const ZA={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},JA=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function eC(n){const e=ZA[n],t=e.length;let r=JA,s="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let c;for(let d=0;d<n;d++){let p=o.replace("%index%",d.toString());c=d,d>=t&&(c=n-d-1),p=p.replace("%value%",e[c].toString()),s+=p,s+=`
`}return r=r.replace("%blur%",s),r=r.replace("%size%",n.toString()),r}const tC=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function rC(n,e){const t=Math.ceil(n/2);let r=tC,s="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let c=0;c<n;c++){let d=o.replace("%index%",c.toString());d=d.replace("%sampleIndex%",`${c-(t-1)}.0`),s+=d,s+=`
`}return r=r.replace("%blur%",s),r=r.replace("%size%",n.toString()),r}class $g extends mn{constructor(e,t=8,r=4,s=mn.defaultResolution,o=5){const c=rC(o,e),d=eC(o);super(c,d),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,s){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,r,s);else{const o=e.getFilterTexture(),c=e.renderer;let d=t,p=o;this.state.blend=!1,e.applyFilter(this,d,p,Cs.CLEAR);for(let g=1;g<this.passes-1;g++){e.bindAndClear(d,Cs.BLIT),this.uniforms.uSampler=p;const v=p;p=d,d=v,c.shader.bind(this),c.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,p,r,s),e.returnFilterTexture(o)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class nC extends mn{constructor(e=8,t=4,r=mn.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new $g(!0,e,t,r,s),this.blurYFilter=new $g(!1,e,t,r,s),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,s){const o=Math.abs(this.blurXFilter.strength),c=Math.abs(this.blurYFilter.strength);if(o&&c){const d=e.getFilterTexture();this.blurXFilter.apply(e,t,d,Cs.CLEAR),this.blurYFilter.apply(e,d,r,s),e.returnFilterTexture(d)}else c?this.blurYFilter.apply(e,t,r,s):this.blurXFilter.apply(e,t,r,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var iC=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class jg extends mn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Rx,iC,e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const[r,s,o]=zt.shared.setValue(e).toArray(),c=[r,0,0,0,0,0,s,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(c,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),s=Math.sin(e),o=Math.sqrt,c=1/3,d=o(c),p=r+(1-r)*c,g=c*(1-r)-d*s,v=c*(1-r)+d*s,x=c*(1-r)+d*s,S=r+c*(1-r),b=c*(1-r)-d*s,T=c*(1-r)-d*s,R=c*(1-r)+d*s,P=r+c*(1-r),M=[p,g,v,0,0,x,S,b,0,0,T,R,P,0,0,0,0,0,1,0];this._loadMatrix(M,t)}contrast(e,t){const r=(e||0)+1,s=-.5*(r-1),o=[r,0,0,0,s,0,r,0,0,s,0,0,r,0,s,0,0,0,1,0];this._loadMatrix(o,t)}saturate(e=0,t){const r=e*2/3+1,s=(r-1)*-.5,o=[r,s,s,0,0,s,r,s,0,0,s,s,r,0,0,0,0,0,1,0];this._loadMatrix(o,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,r,s,o){e=e||.2,t=t||.15,r=r||16770432,s=s||3375104;const c=zt.shared,[d,p,g]=c.setValue(r).toArray(),[v,x,S]=c.setValue(s).toArray(),b=[.3,.59,.11,0,0,d,p,g,e,0,v,x,S,t,0,d-v,p-x,g-S,0,0];this._loadMatrix(b,o)}night(e,t){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}jg.prototype.grayscale=jg.prototype.greyscale;var sC=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,aC=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class oC extends mn{constructor(e,t){const r=new Ht;e.renderable=!1,super(aC,sC,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,t==null&&(t=20),this.scale=new ft(t,t)}apply(e,t,r,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,c=Math.sqrt(o.a*o.a+o.b*o.b),d=Math.sqrt(o.c*o.c+o.d*o.d);c!==0&&d!==0&&(this.uniforms.rotation[0]=o.a/c,this.uniforms.rotation[1]=o.b/c,this.uniforms.rotation[2]=o.c/d,this.uniforms.rotation[3]=o.d/d),e.applyFilter(this,t,r,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var lC=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,uC=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class hC extends mn{constructor(){super(uC,lC)}}var cC=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class dC extends mn{constructor(e=.5,t=Math.random()){super(Rx,cC,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const w_={AlphaFilter:KA,BlurFilter:nC,BlurFilterPass:$g,ColorMatrixFilter:jg,DisplacementFilter:oC,FXAAFilter:hC,NoiseFilter:dC};Object.entries(w_).forEach(([n,e])=>{Object.defineProperty(w_,n,{get(){return dt("7.1.0",`filters.${n} has moved to ${n}`),e}})});class fC{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Or.system.add(this.tickerUpdate,this,To.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Or.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const xo=new fC;class Uc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Uc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ft,this.page=new ft,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,s,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Tf extends Uc{constructor(){super(...arguments),this.client=new ft,this.movement=new ft,this.offset=new ft,this.global=new ft,this.screen=new ft}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,s,o,c,d,p,g,v,x,S,b,T,R){throw new Error("Method not implemented.")}}class Vi extends Tf{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class oh extends Tf{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}oh.DOM_DELTA_PIXEL=0,oh.DOM_DELTA_LINE=1,oh.DOM_DELTA_PAGE=2;const pC=2048,mC=new ft,rg=new ft;class gC{constructor(e){this.dispatch=new Bc,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((r,s)=>r.priority-s.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,s=t.length;r<s;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){xo.pauseUpdate=!0;const r=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[r](this.rootTarget,this.rootTarget.eventMode,mC.set(e,t),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,o=r.length-1;s<o;s++)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=r.length-2;s>=0;s--)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this._allInteractiveElements){if(r.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(t)?t:[t];for(let o=r.length-1;o>=0;o--)s.forEach(c=>{e.currentTarget=r[o],this.notifyTarget(e,c)})}propagationPath(e){const t=[e];for(let r=0;r<pC&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,s,o,c=!1){let d=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(xo.pauseUpdate=!1),e.interactiveChildren&&e.children){const v=e.children;for(let x=v.length-1;x>=0;x--){const S=v[x],b=this.hitTestMoveRecursive(S,this._isInteractive(t)?t:S.eventMode,r,s,o,c||o(e,r));if(b){if(b.length>0&&!b[b.length-1].parent)continue;const T=e.isInteractive();(b.length>0||T)&&(T&&this._allInteractiveElements.push(e),b.push(e)),this._hitElements.length===0&&(this._hitElements=b),d=!0}}}const p=this._isInteractive(t),g=e.isInteractive();return p&&g&&this._allInteractiveElements.push(e),c||this._hitElements.length>0?null:d?this._hitElements:p&&!o(e,r)&&s(e,r)?g?[e]:[]:null}hitTestRecursive(e,t,r,s,o){if(this._interactivePrune(e)||o(e,r))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(xo.pauseUpdate=!1),e.interactiveChildren&&e.children){const p=e.children;for(let g=p.length-1;g>=0;g--){const v=p[g],x=this.hitTestRecursive(v,this._isInteractive(t)?t:v.eventMode,r,s,o);if(x){if(x.length>0&&!x[x.length-1].parent)continue;const S=e.isInteractive();return(x.length>0||S)&&x.push(e),x}}}const c=this._isInteractive(t),d=e.isInteractive();return c&&s(e,r)?d?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){var r;if(e.hitArea&&(e.worldTransform.applyInverse(t,rg),!e.hitArea.contains(rg.x,rg.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((r=s.containsPoint)!=null&&r.call(s,t)))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var o,c;t=t??e.type;const r=`on${t}`;(c=(o=e.currentTarget)[r])==null||c.call(o,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof Vi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const s=t.button===2;this.dispatchEvent(t,s?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var p,g;if(!(e instanceof Vi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r=t.pointerType==="mouse"||t.pointerType==="pen",s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.overTargets);if(((p=s.overTargets)==null?void 0:p.length)>0&&o!==t.target){const v=e.type==="mousemove"?"mouseout":"pointerout",x=this.createPointerEvent(e,v,o);if(this.dispatchEvent(x,"pointerout"),r&&this.dispatchEvent(x,"mouseout"),!t.composedPath().includes(o)){const S=this.createPointerEvent(e,"pointerleave",o);for(S.eventPhase=S.AT_TARGET;S.target&&!t.composedPath().includes(S.target);)S.currentTarget=S.target,this.notifyTarget(S),r&&this.notifyTarget(S,"mouseleave"),S.target=S.target.parent;this.freeEvent(S)}this.freeEvent(x)}if(o!==t.target){const v=e.type==="mousemove"?"mouseover":"pointerover",x=this.clonePointerEvent(t,v);this.dispatchEvent(x,"pointerover"),r&&this.dispatchEvent(x,"mouseover");let S=o==null?void 0:o.parent;for(;S&&S!==this.rootTarget.parent&&S!==t.target;)S=S.parent;if(!S||S===this.rootTarget.parent){const b=this.clonePointerEvent(t,"pointerenter");for(b.eventPhase=b.AT_TARGET;b.target&&b.target!==o&&b.target!==this.rootTarget.parent;)b.currentTarget=b.target,this.notifyTarget(b),r&&this.notifyTarget(b,"mouseenter"),b.target=b.target.parent;this.freeEvent(b)}this.freeEvent(x)}const c=[],d=this.enableGlobalMoveEvents??!0;this.moveOnAll?c.push("pointermove"):this.dispatchEvent(t,"pointermove"),d&&c.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?c.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),d&&c.push("globaltouchmove")),r&&(this.moveOnAll?c.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),d&&c.push("globalmousemove"),this.cursor=(g=t.target)==null?void 0:g.cursor),c.length>0&&this.all(t,c),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var c;if(!(e instanceof Vi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),s=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),s&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(c=r.target)==null?void 0:c.cursor);const o=this.clonePointerEvent(r,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),s&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(o)}mapPointerOut(e){if(!(e instanceof Vi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(t.overTargets),o=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(o),r&&this.dispatchEvent(o,"mouseout");const c=this.createPointerEvent(e,"pointerleave",s);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),r&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;t.overTargets=null,this.freeEvent(o),this.freeEvent(c)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Vi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const d=r.button===2;this.dispatchEvent(r,d?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.pressTargetsByButton[e.button]);let c=o;if(o&&!r.composedPath().includes(o)){let d=o;for(;d&&!r.composedPath().includes(d);){if(r.currentTarget=d,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const p=r.button===2;this.notifyTarget(r,p?"rightupoutside":"mouseupoutside")}d=d.parent}delete s.pressTargetsByButton[e.button],c=d}if(c){const d=this.clonePointerEvent(r,"click");d.target=c,d.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:d.target,timeStamp:t});const p=s.clicksByButton[e.button];if(p.target===d.target&&t-p.timeStamp<200?++p.clickCount:p.clickCount=1,p.target=d.target,p.timeStamp=t,d.detail=p.clickCount,d.pointerType==="mouse"){const g=d.button===2;this.dispatchEvent(d,g?"rightclick":"click")}else d.pointerType==="touch"&&this.dispatchEvent(d,"tap");this.dispatchEvent(d,"pointertap"),this.freeEvent(d)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof Vi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(r){let o=r;for(;o;)s.currentTarget=o,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof oh)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const s=this.allocateEvent(Vi);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=r??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],typeof t=="string"&&(s.type=t),s}createWheelEvent(e){const t=this.allocateEvent(oh);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(Vi);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof Vi&&t instanceof Vi&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof Tf&&t instanceof Tf&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const r=e.currentTarget._events[t];if(r&&e.currentTarget.isInteractive())if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let s=0,o=r.length;s<o&&!e.propagationImmediatelyStopped;s++)r[s].once&&e.currentTarget.removeListener(t,r[s].fn,void 0,!0),r[s].fn.call(r[s].context,e)}}const yC=1,vC={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Wg=class Vg{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new gC(null),xo.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Vi(null),this.rootWheelEvent=new oh(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Vg.defaultEventFeatures},{set:(t,r,s)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),t[r]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:r}=this.renderer;this.setTargetElement(t),this.resolution=r,Vg._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,s=t.length;r<s;r++){const o=t[r],c=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,xo.pointerMoved();const t=this.normalizeToPointerData(e);for(let r=0,s=t.length;r<s;r++){const o=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let o=0,c=s.length;o<c;o++){const d=this.bootstrapEvent(this.rootPointerEvent,s[o]);d.type+=r,this.rootBoundary.mapEvent(d)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let r=0,s=t.length;r<s;r++){const o=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,xo.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;xo.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;xo.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;e.x=(t-s.left)*(this.domElement.width/s.width)*o,e.y=(r-s.top)*(this.domElement.height/s.height)*o}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,s=e.changedTouches.length;r<s;r++){const o=e.changedTouches[r];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=e.type,t.push(o)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=yC),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=vC[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};Wg.extension={name:"events",type:[De.RendererSystem,De.CanvasRendererSystem]},Wg.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Xg=Wg;Ye.add(Xg);function S_(n){return n==="dynamic"||n==="static"}const _C={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??S_(Xg.defaultEventMode)},set interactive(n){dt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=n,this.eventMode=n?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Xg.defaultEventMode},set eventMode(n){this._internalInteractive=S_(n),this._internalEventMode=n},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(n,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof t=="object"?t.signal:void 0,o=typeof t=="object"?t.once===!0:!1,c=typeof e=="function"?void 0:e;n=r?`${n}capture`:n;const d=typeof e=="function"?e:e.handleEvent,p=this;s&&s.addEventListener("abort",()=>{p.off(n,d,c)}),o?p.once(n,d,c):p.on(n,d,c)},removeEventListener(n,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof e=="function"?void 0:e;n=r?`${n}capture`:n,e=typeof e=="function"?e:e.handleEvent,this.off(n,e,s)},dispatchEvent(n){if(!(n instanceof Uc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return n.defaultPrevented=!1,n.path=null,n.target=this,n.manager.dispatchEvent(n),!n.defaultPrevented}};Yt.mixin(_C);const xC={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Yt.mixin(xC);const wC=9,Xd=100,SC=0,EC=0,E_=2,b_=1,bC=-1e3,TC=-1e3,AC=2;class f1{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ca.tablet||ca.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${Xd}px`,t.style.height=`${Xd}px`,t.style.position="absolute",t.style.top=`${SC}px`,t.style.left=`${EC}px`,t.style.zIndex=E_.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${b_}px`,e.style.height=`${b_}px`,e.style.position="absolute",e.style.top=`${bC}px`,e.style.left=`${TC}px`,e.style.zIndex=AC.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}update(){const e=performance.now();if(ca.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:r,width:s,height:o}=this.renderer.view.getBoundingClientRect(),{width:c,height:d,resolution:p}=this.renderer,g=s/c*p,v=o/d*p;let x=this.div;x.style.left=`${t}px`,x.style.top=`${r}px`,x.style.width=`${c}px`,x.style.height=`${d}px`;for(let S=0;S<this.children.length;S++){const b=this.children[S];if(b.renderId!==this.renderId)b._accessibleActive=!1,rh(this.children,S,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,S--;else{x=b._accessibleDiv;let T=b.hitArea;const R=b.worldTransform;b.hitArea?(x.style.left=`${(R.tx+T.x*R.a)*g}px`,x.style.top=`${(R.ty+T.y*R.d)*v}px`,x.style.width=`${T.width*R.a*g}px`,x.style.height=`${T.height*R.d*v}px`):(T=b.getBounds(),this.capHitArea(T),x.style.left=`${T.x*g}px`,x.style.top=`${T.y*v}px`,x.style.width=`${T.width*g}px`,x.style.height=`${T.height*v}px`,x.title!==b.accessibleTitle&&b.accessibleTitle!==null&&(x.title=b.accessibleTitle),x.getAttribute("aria-label")!==b.accessibleHint&&b.accessibleHint!==null&&x.setAttribute("aria-label",b.accessibleHint)),(b.accessibleTitle!==x.title||b.tabIndex!==x.tabIndex)&&(x.title=b.accessibleTitle,x.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(x))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${Xd}px`,t.style.height=`${Xd}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=E_.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:r}=e.target,s=this.renderer.events.rootBoundary,o=Object.assign(new Uc(s),{target:r});s.rootTarget=this.renderer.lastObjectRendered,t.forEach(c=>s.dispatchEvent(o,c))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===wC&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}f1.extension={name:"accessibility",type:[De.RendererPlugin,De.CanvasRendererPlugin]};Ye.add(f1);var Hr=(n=>(n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",n[n.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",n[n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",n[n.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",n[n.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",n))(Hr||{});const Af={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let As,qu;function T_(){qu={bptc:As.getExtension("EXT_texture_compression_bptc"),astc:As.getExtension("WEBGL_compressed_texture_astc"),etc:As.getExtension("WEBGL_compressed_texture_etc"),s3tc:As.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:As.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:As.getExtension("WEBGL_compressed_texture_pvrtc")||As.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:As.getExtension("WEBGL_compressed_texture_etc1"),atc:As.getExtension("WEBGL_compressed_texture_atc")}}const CC={extension:{type:De.DetectionParser,priority:2},test:async()=>{const n=Be.ADAPTER.createCanvas().getContext("webgl");return n?(As=n,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async n=>{qu||T_();const e=[];for(const t in qu)qu[t]&&e.push(t);return[...e,...n]},remove:async n=>(qu||T_(),n.filter(e=>!(e in qu)))};Ye.add(CC);class PC extends If{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,s;typeof e=="string"?(r=e,s=new Uint8Array):(r=null,s=e),super(s,t),this.origin=r,this.buffer=s?new dg(s):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new dg(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class zl extends PC{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=zl._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||zl._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){const s=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let o=0,c=this.levels;o<c;o++){const{levelID:d,levelWidth:p,levelHeight:g,levelBuffer:v}=this._levelBuffers[o];s.compressedTexImage2D(s.TEXTURE_2D,d,this.format,p,g,0,v)}return!0}onBlobLoaded(){this._levelBuffers=zl._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,r,s,o,c,d){const p=new Array(r);let g=e.byteOffset,v=c,x=d,S=v+s-1&~(s-1),b=x+o-1&~(o-1),T=S*b*Af[t];for(let R=0;R<r;R++)p[R]={levelID:R,levelWidth:r>1?v:S,levelHeight:r>1?x:b,levelBuffer:new Uint8Array(e.buffer,g,T)},g+=T,v=v>>1||1,x=x>>1||1,S=v+s-1&~(s-1),b=x+o-1&~(o-1),T=S*b*Af[t];return p}}const ng=4,Yd=124,RC=32,A_=20,IC=542327876,qd={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},kC={FOURCC:2},Qd={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},MC=1,DC=2,NC=4,OC=64,FC=512,BC=131072,LC=827611204,UC=861165636,zC=894720068,GC=808540228,HC=4,$C={[LC]:Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[UC]:Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[zC]:Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT},jC={70:Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Hr.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Hr.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Hr.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Hr.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function WC(n){const e=new Uint32Array(n);if(e[0]!==IC)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(n,0,Yd/Uint32Array.BYTES_PER_ELEMENT),r=t[qd.HEIGHT],s=t[qd.WIDTH],o=t[qd.MIPMAP_COUNT],c=new Uint32Array(n,qd.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,RC/Uint32Array.BYTES_PER_ELEMENT),d=c[MC];if(d&NC){const p=c[kC.FOURCC];if(p!==GC){const L=$C[p],F=ng+Yd,j=new Uint8Array(n,F);return[new zl(j,{format:L,width:s,height:r,levels:o})]}const g=ng+Yd,v=new Uint32Array(e.buffer,g,A_/Uint32Array.BYTES_PER_ELEMENT),x=v[Qd.DXGI_FORMAT],S=v[Qd.RESOURCE_DIMENSION],b=v[Qd.MISC_FLAG],T=v[Qd.ARRAY_SIZE],R=jC[x];if(R===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${x}`);if(b===HC)throw new Error("DDSParser does not support cubemap textures");if(S===6)throw new Error("DDSParser does not supported 3D texture data");const P=new Array,M=ng+Yd+A_;if(T===1)P.push(new Uint8Array(n,M));else{const L=Af[R];let F=0,j=s,U=r;for(let D=0;D<o;D++){const Z=Math.max(1,j+3&-4),ue=Math.max(1,U+3&-4),ce=Z*ue*L;F+=ce,j=j>>>1,U=U>>>1}let q=M;for(let D=0;D<T;D++)P.push(new Uint8Array(n,q,F)),q+=F}return P.map(L=>new zl(L,{format:R,width:s,height:r,levels:o}))}throw d&OC?new Error("DDSParser does not support uncompressed texture data."):d&FC?new Error("DDSParser does not supported YUV uncompressed texture data."):d&BC?new Error("DDSParser does not support single-channel (lumninance) texture data!"):d&DC?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const C_=[171,75,84,88,32,49,49,187,13,10,26,10],VC=67305985,ji={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Yg=64,P_={[Ze.UNSIGNED_BYTE]:1,[Ze.UNSIGNED_SHORT]:2,[Ze.INT]:4,[Ze.UNSIGNED_INT]:4,[Ze.FLOAT]:4,[Ze.HALF_FLOAT]:8},XC={[Ce.RGBA]:4,[Ce.RGB]:3,[Ce.RG]:2,[Ce.RED]:1,[Ce.LUMINANCE]:1,[Ce.LUMINANCE_ALPHA]:2,[Ce.ALPHA]:1},YC={[Ze.UNSIGNED_SHORT_4_4_4_4]:2,[Ze.UNSIGNED_SHORT_5_5_5_1]:2,[Ze.UNSIGNED_SHORT_5_6_5]:2};function qC(n,e,t=!1){const r=new DataView(e);if(!QC(n,r))return null;const s=r.getUint32(ji.ENDIANNESS,!0)===VC,o=r.getUint32(ji.GL_TYPE,s),c=r.getUint32(ji.GL_FORMAT,s),d=r.getUint32(ji.GL_INTERNAL_FORMAT,s),p=r.getUint32(ji.PIXEL_WIDTH,s),g=r.getUint32(ji.PIXEL_HEIGHT,s)||1,v=r.getUint32(ji.PIXEL_DEPTH,s)||1,x=r.getUint32(ji.NUMBER_OF_ARRAY_ELEMENTS,s)||1,S=r.getUint32(ji.NUMBER_OF_FACES,s),b=r.getUint32(ji.NUMBER_OF_MIPMAP_LEVELS,s),T=r.getUint32(ji.BYTES_OF_KEY_VALUE_DATA,s);if(g===0||v!==1)throw new Error("Only 2D textures are supported");if(S!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(x!==1)throw new Error("WebGL does not support array textures");const R=4,P=4,M=p+3&-4,L=g+3&-4,F=new Array(x);let j=p*g;o===0&&(j=M*L);let U;if(o!==0?P_[o]?U=P_[o]*XC[c]:U=YC[o]:U=Af[d],U===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const q=t?ZC(r,T,s):null;let D=j*U,Z=p,ue=g,ce=M,Se=L,Q=Yg+T;for(let J=0;J<b;J++){const le=r.getUint32(Q,s);let be=Q+4;for(let B=0;B<x;B++){let G=F[B];G||(G=F[B]=new Array(b)),G[J]={levelID:J,levelWidth:b>1||o!==0?Z:ce,levelHeight:b>1||o!==0?ue:Se,levelBuffer:new Uint8Array(e,be,D)},be+=D}Q+=le+4,Q=Q%4!==0?Q+4-Q%4:Q,Z=Z>>1||1,ue=ue>>1||1,ce=Z+R-1&-4,Se=ue+P-1&-4,D=ce*Se*U}return o!==0?{uncompressed:F.map(J=>{let le=J[0].levelBuffer,be=!1;return o===Ze.FLOAT?le=new Float32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4):o===Ze.UNSIGNED_INT?(be=!0,le=new Uint32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4)):o===Ze.INT&&(be=!0,le=new Int32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4)),{resource:new If(le,{width:J[0].levelWidth,height:J[0].levelHeight}),type:o,format:be?KC(c):c}}),kvData:q}:{compressed:F.map(J=>new zl(null,{format:d,width:p,height:g,levels:b,levelBuffers:J})),kvData:q}}function QC(n,e){for(let t=0;t<C_.length;t++)if(e.getUint8(t)!==C_[t])return console.error(`${n} is not a valid *.ktx file!`),!1;return!0}function KC(n){switch(n){case Ce.RGBA:return Ce.RGBA_INTEGER;case Ce.RGB:return Ce.RGB_INTEGER;case Ce.RG:return Ce.RG_INTEGER;case Ce.RED:return Ce.RED_INTEGER;default:return n}}function ZC(n,e,t){const r=new Map;let s=0;for(;s<e;){const o=n.getUint32(Yg+s,t),c=Yg+s+4,d=3-(o+3)%4;if(o===0||o>e-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let p=0;for(;p<o&&n.getUint8(c+p)!==0;p++);if(p===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const g=new TextDecoder().decode(new Uint8Array(n.buffer,c,p)),v=new DataView(n.buffer,c+p+1,o-p-1);r.set(g,v),s+=4+o+d}return r}const JC={extension:{type:De.LoadParser,priority:Zi.High},name:"loadDDS",test(n){return Ao(n,".dds")},async load(n,e,t){const r=await(await Be.ADAPTER.fetch(n)).arrayBuffer(),s=WC(r).map(o=>{const c=new st(o,{mipmap:ks.OFF,alphaMode:zn.NO_PREMULTIPLIED_ALPHA,resolution:ma(n),...e.data});return Lc(c,t,n)});return s.length===1?s[0]:s},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};Ye.add(JC);const eP={extension:{type:De.LoadParser,priority:Zi.High},name:"loadKTX",test(n){return Ao(n,".ktx")},async load(n,e,t){const r=await(await Be.ADAPTER.fetch(n)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:c}=qC(n,r),d=s??o,p={mipmap:ks.OFF,alphaMode:zn.NO_PREMULTIPLIED_ALPHA,resolution:ma(n),...e.data},g=d.map(v=>{d===o&&Object.assign(p,{type:v.type,format:v.format});const x=v.resource??v,S=new st(x,p);return S.ktxKeyValueData=c,Lc(S,t,n)});return g.length===1?g[0]:g},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};Ye.add(eP);const tP=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],rP={extension:De.ResolveParser,test:n=>{const e=Fr.extname(n).slice(1);return["basis","ktx","dds"].includes(e)},parse:n=>{var r,s;const e=n.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const o=e.pop();if(tP.includes(o))return{resolution:parseFloat(((r=Be.RETINA_PREFIX.exec(n))==null?void 0:r[1])??"1"),format:o,src:n}}return{resolution:parseFloat(((s=Be.RETINA_PREFIX.exec(n))==null?void 0:s[1])??"1"),format:t,src:n}}};Ye.add(rP);const Kd=new ot,nP=4,p1=class Cc{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,r,s){const o=new Image;return o.src=await this.base64(e,t,r,s),o}async base64(e,t,r,s){const o=this.canvas(e,s);if(o.toBlob!==void 0)return new Promise((c,d)=>{o.toBlob(p=>{if(!p){d(new Error("ICanvas.toBlob failed!"));return}const g=new FileReader;g.onload=()=>c(g.result),g.onerror=d,g.readAsDataURL(p)},t,r)});if(o.toDataURL!==void 0)return o.toDataURL(t,r);if(o.convertToBlob!==void 0){const c=await o.convertToBlob({type:t,quality:r});return new Promise((d,p)=>{const g=new FileReader;g.onload=()=>d(g.result),g.onerror=p,g.readAsDataURL(c)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:r,width:s,height:o,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);c&&Cc._flipY(r,s,o),d&&Cc._unpremultiplyAlpha(r);const p=new VS(s,o,1),g=new ImageData(new Uint8ClampedArray(r.buffer),s,o);return p.context.putImageData(g,0,0),p.canvas}pixels(e,t){const{pixels:r,width:s,height:o,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);return c&&Cc._flipY(r,s,o),d&&Cc._unpremultiplyAlpha(r),r}_rawPixels(e,t){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let s,o=!1,c=!1,d,p=!1;e&&(e instanceof $l?d=e:(d=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),p=!0,t&&(Kd.width=t.width,Kd.height=t.height,t=Kd)));const g=r.gl;if(d){if(s=d.baseTexture.resolution,t=t??d.frame,o=!1,c=d.baseTexture.alphaMode>0&&d.baseTexture.format===Ce.RGBA,!p){r.renderTexture.bind(d);const b=d.framebuffer.glFramebuffers[r.CONTEXT_UID];b.blitFramebuffer&&r.framebuffer.bind(b.blitFramebuffer)}}else s=r.resolution,t||(t=Kd,t.width=r.width/s,t.height=r.height/s),o=!0,c=this._rendererPremultipliedAlpha,r.renderTexture.bind();const v=Math.max(Math.round(t.width*s),1),x=Math.max(Math.round(t.height*s),1),S=new Uint8Array(nP*v*x);return g.readPixels(Math.round(t.x*s),Math.round(t.y*s),v,x,g.RGBA,g.UNSIGNED_BYTE,S),p&&(d==null||d.destroy(!0)),{pixels:S,width:v,height:x,flipY:o,premultipliedAlpha:c}}destroy(){this.renderer=null}static _flipY(e,t,r){const s=t<<2,o=r>>1,c=new Uint8Array(s);for(let d=0;d<o;d++){const p=d*s,g=(r-d-1)*s;c.set(e.subarray(p,p+s)),e.copyWithin(p,g,g+s),e.set(c,g)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let r=0;r<t;r+=4){const s=e[r+3];if(s!==0){const o=255.001/s;e[r]=e[r]*o+.5,e[r+1]=e[r+1]*o+.5,e[r+2]=e[r+2]*o+.5}}}};p1.extension={name:"extract",type:De.RendererSystem};let iP=p1;Ye.add(iP);class sP{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function aP(n,e){var r;let t=!1;if((r=n==null?void 0:n._textures)!=null&&r.length){for(let s=0;s<n._textures.length;s++)if(n._textures[s]instanceof Me){const o=n._textures[s].baseTexture;e.includes(o)||(e.push(o),t=!0)}}return t}function oP(n,e){if(n.baseTexture instanceof st){const t=n.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function lP(n,e){if(n._texture&&n._texture instanceof Me){const t=n._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function uP(n,e){return e instanceof ay?(e.updateText(!0),!0):!1}function hP(n,e){if(e instanceof ya){const t=e.toFontString();return _o.measureFont(t),!0}return!1}function cP(n,e){if(n instanceof ay){e.includes(n.style)||e.push(n.style),e.includes(n)||e.push(n);const t=n._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function dP(n,e){return n instanceof ya?(e.includes(n)||e.push(n),!0):!1}const m1=class g1{constructor(e){this.limiter=new sP(g1.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(cP),this.registerFindHook(dP),this.registerFindHook(aP),this.registerFindHook(oP),this.registerFindHook(lP),this.registerUploadHook(uP),this.registerUploadHook(hP)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,Or.system.addOnce(this.tick,this,To.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let r=0,s=this.uploadHooks.length;r<s;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)Or.system.addOnce(this.tick,this,To.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof gn)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&Or.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};m1.uploadsPerFrame=4;let qg=m1;Object.defineProperties(Be,{UPLOADS_PER_FRAME:{get(){return qg.uploadsPerFrame},set(n){dt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),qg.uploadsPerFrame=n}}});function y1(n,e){return e instanceof st?(e._glTextures[n.CONTEXT_UID]||n.texture.bind(e),!0):!1}function fP(n,e){if(!(e instanceof ah))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:r}=t;for(let s=0;s<r.length;s++){const{texture:o}=r[s].style;o&&y1(n,o.baseTexture)}return t.batchable||n.geometry.bind(t,e._resolveDirectShader(n)),!0}function pP(n,e){return n instanceof ah?(e.push(n),!0):!1}class v1 extends qg{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(pP),this.registerUploadHook(y1),this.registerUploadHook(fP)}}v1.extension={name:"prepare",type:De.RendererSystem};Ye.add(v1);const _1=class Pc{constructor(e,t,r){this.linkedSheets=[],(e instanceof st||e instanceof Me)&&(e={texture:e,data:t,resolutionFilename:r});const{texture:s,data:o,resolutionFilename:c=null,cachePrefix:d=""}=e;this.cachePrefix=d,this._texture=s instanceof Me?s:null,this.baseTexture=s instanceof st?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=o;const p=this.baseTexture.resource;this.resolution=this._updateResolution(c||(p?p.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let r=ma(e,null);return r===null&&(r=typeof t=="number"?t:parseFloat(t??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Pc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const r=Pc.BATCH_SIZE;for(;t-e<r&&t<this._frameKeys.length;){const s=this._frameKeys[t],o=this._frames[s],c=o.frame;if(c){let d=null,p=null;const g=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,v=new ot(0,0,Math.floor(g.w)/this.resolution,Math.floor(g.h)/this.resolution);o.rotated?d=new ot(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):d=new ot(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(p=new ot(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[s]=new Me(this.baseTexture,d,v,p,o.rotated?2:0,o.anchor,o.borders),Me.addToCache(this.textures[s],this.cachePrefix+s.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const s=e[t][r];this.animations[t].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Pc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Pc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};_1.BATCH_SIZE=1e3;let R_=_1;const mP=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function x1(n,e,t){const r={};if(n.forEach(s=>{r[s]=e}),Object.keys(e.textures).forEach(s=>{r[`${e.cachePrefix}${s}`]=e.textures[s]}),!t){const s=Fr.dirname(n[0]);e.linkedSheets.forEach((o,c)=>{Object.assign(r,x1([`${s}/${e.data.meta.related_multi_packs[c]}`],o,!0))})}return r}const gP={extension:De.Asset,cache:{test:n=>n instanceof R_,getCacheableAssets:(n,e)=>x1(n,e,!1)},resolver:{test:n=>{const e=n.split("?")[0].split("."),t=e.pop(),r=e.pop();return t==="json"&&mP.includes(r)},parse:n=>{var t;const e=n.split(".");return{resolution:parseFloat(((t=Be.RETINA_PREFIX.exec(n))==null?void 0:t[1])??"1"),format:e[e.length-2],src:n}}},loader:{name:"spritesheetLoader",extension:{type:De.LoadParser,priority:Zi.Normal},async testParse(n,e){return Fr.extname(e.src).toLowerCase()===".json"&&!!n.frames},async parse(n,e,t){var v,x;const{texture:r,imageFilename:s,cachePrefix:o}=(e==null?void 0:e.data)??{};let c=Fr.dirname(e.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let d;if(r&&r.baseTexture)d=r;else{const S=Mg(c+(s??n.meta.image),e.src);d=(await t.load([S]))[S]}const p=new R_({texture:d.baseTexture,data:n,resolutionFilename:e.src,cachePrefix:o});await p.parse();const g=(v=n==null?void 0:n.meta)==null?void 0:v.related_multi_packs;if(Array.isArray(g)){const S=[];for(const T of g){if(typeof T!="string")continue;let R=c+T;(x=e.data)!=null&&x.ignoreMultiPack||(R=Mg(R,e.src),S.push(t.load({src:R,data:{ignoreMultiPack:!0}})))}const b=await Promise.all(S);p.linkedSheets=b,b.forEach(T=>{T.linkedSheets=[p].concat(p.linkedSheets.filter(R=>R!==T))})}return p},unload(n){n.destroy(!0)}}};Ye.add(gP);const Qg=class Qu extends ya{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Qu(Object.keys(Qu.defaultOptions).reduce((t,r)=>({...t,[r]:e[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Qu.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:r}=Qu;if(r[e]){const s=r[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Be.ADAPTER.fetch(e).then(s=>s.blob()).then(async s=>new Promise((o,c)=>{const d=URL.createObjectURL(s),p=new FileReader;p.onload=()=>o([d,p.result]),p.onerror=c,p.readAsDataURL(s)})).then(async([s,o])=>{const c=Object.assign({family:Fr.basename(e,Fr.extname(e)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:o,refs:1,originalUrl:e,fontFace:null},t);r[e]=c,this._fonts.push(c),this.styleID++;const d=new FontFace(c.family,`url(${c.src})`,{weight:c.weight,style:c.style,display:c.display});c.fontFace=d,await d.load(),document.fonts.add(d),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(r=>!this._overrides.includes(r));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(r=>this._overrides.includes(r));t.length>0&&(this._overrides=this._overrides.filter(r=>!t.includes(r)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=HS(e)),typeof e=="number"?GS(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const o=`${r}px ${s}px`;return this.dropShadowBlur>0?`text-shadow: ${o} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${o} ${e}`}reset(){Object.assign(this,Qu.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Be.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};Qg.availableFonts={},Qg.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let ig=Qg;const Zd=class Ku extends Os{constructor(e="",t={}){super(Me.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const r=new Image,s=Me.from(r,{scaleMode:Be.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new ot,s.trim=new ot,this.texture=s;const o="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xhtml",d=document.createElementNS(o,"svg"),p=document.createElementNS(o,"foreignObject"),g=document.createElementNS(c,"div"),v=document.createElementNS(c,"style");p.setAttribute("width","10000"),p.setAttribute("height","10000"),p.style.overflow="hidden",d.appendChild(p),this.maxWidth=Ku.defaultMaxWidth,this.maxHeight=Ku.defaultMaxHeight,this._domElement=g,this._styleElement=v,this._svgRoot=d,this._foreignObject=p,this._foreignObject.appendChild(v),this._foreignObject.appendChild(g),this._image=r,this._loadImage=new Image,this._autoResolution=Ku.defaultAutoResolution,this._resolution=Ku.defaultResolution??Be.RESOLUTION,this.text=e,this.style=t}measureText(e){var v,x;const{text:t,style:r,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:r.toCSS(s)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:c,height:d}=o;(c>this.maxWidth||d>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const p=Math.min(this.maxWidth,Math.ceil(c)),g=Math.min(this.maxHeight,Math.ceil(d));return this._svgRoot.setAttribute("width",p.toString()),this._svgRoot.setAttribute("height",g.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(v=this._style)==null?void 0:v.toCSS(s)}),this._styleElement.textContent=(x=this._style)==null?void 0:x.toGlobalCSS()),{width:p+r.padding*2,height:g+r.padding*2}}async updateText(e=!0){const{style:t,_image:r,_loadImage:s}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:o,height:c}=this.measureText();r.width=s.width=Math.ceil(Math.max(1,o)),r.height=s.height=Math.ceil(Math.max(1,c)),this._updateID++;const d=this._updateID;await new Promise(p=>{s.onload=async()=>{if(d<this._updateID){p();return}await t.onBeforeDraw(),r.src=s.src,s.onload=null,s.src="",this.updateTexture(),p()};const g=new XMLSerializer().serializeToString(this._svgRoot);s.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(g)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:r,resolution:s}=this,{padding:o}=e,{baseTexture:c}=t;t.trim.width=t._frame.width=r.width/s,t.trim.height=t._frame.height=r.height/s,t.trim.x=-o,t.trim.y=-o,t.orig.width=t._frame.width-o*2,t.orig.height=t._frame.height-o*2,this._onTextureUpdate(),c.setRealSize(r.width,r.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var r,s,o,c,d;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Ku.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=t,(s=this._svgRoot)==null||s.remove(),this._svgRoot=t,(o=this._domElement)==null||o.remove(),this._domElement=t,(c=this._foreignObject)==null||c.remove(),this._foreignObject=t,(d=this._styleElement)==null||d.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=wo(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=wo(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof ig?(this.ownsStyle=!1,this._style=e):e instanceof ya?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=ig.from(e)):(this.ownsStyle=!0,this._style=new ig(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Zd.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Zd.defaultMaxWidth=2024,Zd.defaultMaxHeight=2024,Zd.defaultAutoResolution=!0;const Wu=Iw(Jd);function yP(n,e){n.beginFill(e.fill??12632256),n.lineStyle(e.strokeThickness??2,e.stroke??10040115,1),n.moveTo(Wu[0].x,Wu[0].y),n.drawPolygon(Wu);for(let t=1;t<Wu.length;t++)n.lineTo(Wu[t].x,Wu[t].y);n.closePath(),n.endFill()}const vP=Ac.PixiComponent("Hexagon",{create:()=>new ah,applyProps:(n,e,{hex:t,radius:r,style:s,onClick:o,onOver:c})=>{const d=ag(t,r);n.x=d.x,n.y=d.y,c==null?n.off("mouseover"):(n.off("mouseover"),n.on("mouseover",c)),o==null?n.off("click"):(n.off("click"),n.on("click",o)),yP(n,s)}}),_P={"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},xP=new ya({align:"right",fontFamily:'"Alpha Centauri", Helvetica, sans-serif',fontSize:16,fontWeight:"400",fill:"#00ff99",stroke:"#01d27e",strokeThickness:0,letterSpacing:0,dropShadow:!0,dropShadowColor:"#148d5f",dropShadowBlur:4,dropShadowAngle:Math.PI/5,dropShadowDistance:2,wordWrap:!0,wordWrapWidth:440}),wP=Fc("div",{width:"100vw",height:"100vh",backgroundColor:"#0a0a0a",fontFamily:'"Iosevka Term", monospace',..._P}),SP=Fc("div",{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center"}),EP=Fc("div",{backgroundColor:"#001122",padding:"2rem",borderRadius:"0.25rem",border:"1px solid #009999",boxShadow:"0 0 1rem rgba(0, 255, 255, 0.25)",color:"#33eaea",maxWidth:"75vw"}),bP=Fc("table",{width:"100%",borderCollapse:"collapse","td, th":{padding:"8px",borderBottom:"1px solid rgba(0, 255, 255, 0.2)",textAlign:"left"},th:{color:"#00ff00"}}),TP=({selectedHex:n,setSelectedHex:e})=>Xt.jsx(SP,{onClick:()=>e(null),children:Xt.jsxs(EP,{onClick:t=>t.stopPropagation(),children:[Xt.jsx("h2",{style:{marginTop:0},children:" Hex Data Transmission"}),Xt.jsx(bP,{children:Xt.jsxs("tbody",{children:[Xt.jsxs("tr",{children:[Xt.jsx("th",{children:"Hex coordinates:"}),Xt.jsxs("td",{children:["{ q: ",n.q,", r: ",n.r," }"]})]}),Xt.jsxs("tr",{children:[Xt.jsx("th",{children:"Type:"}),Xt.jsx("td",{children:"Hex type here"})]})]})}),Xt.jsx("p",{style:{color:"#00ff00",fontSize:"0.8em",marginTop:"1rem"},children:"[ Transmission Complete ]"})]})});function AP({map:n,colors:e}){const[t,r]=Un.useState(null),[s,o]=Un.useState(null),{width:c,height:d}=YA();return Xt.jsxs(wP,{children:[Xt.jsxs(Ac.Stage,{width:c,height:d,options:{backgroundColor:657930,antialias:!0,eventMode:"static"},raf:!1,renderOnComponentChange:!0,children:[Xt.jsx(Ac.Container,{x:c/2,y:d/2,eventMode:"static",children:n.map(({hex:p,type:g},v)=>Xt.jsx(vP,{hex:p,radius:Jd,style:{fill:e[g],stroke:t===p?10065201:s===p?3249561:2319463,strokeThickness:2},onOver:x=>o(p),onClick:x=>r(p)},`hex-${v}`))}),t&&Xt.jsx(Ac.Container,{x:c/2+ag(t,Jd).x,y:d/2+ag(t,Jd).y,children:Xt.jsx(Ac.Text,{text:`Hex ${t.q}, ${t.r}`,anchor:.5,x:0,y:0,style:xP})})]}),t&&TP({selectedHex:t,setSelectedHex:r}),Xt.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"20px",color:"#00ffff",textShadow:"0 0 10px rgba(0, 255, 255, 0.5)",fontSize:"0.9em",opacity:.8},children:["Galactic Sector 0x7A3F",Xt.jsx("br",{}),"Hex Coordinates: ",(t==null?void 0:t.q)??"--",", ",(t==null?void 0:t.r)??"--"]})]})}const CP=[{star_name:"Sol (The Sun)",distance_from_sun_ly:0,description:"Our own star, providing light and heat to the solar system.",x:0,y:0,spectral_class:"G",rgb_hex_color:"#FFD700",temperature_k:5778},{star_name:"Proxima Centauri",distance_from_sun_ly:4.24,description:"The closest known star to the Sun, a red dwarf located about 4.24 light-years away.",x:4.24,y:1,spectral_class:"M",rgb_hex_color:"#FF4500",temperature_k:3050},{star_name:"Alpha Centauri B",distance_from_sun_ly:4.37,description:"A K-type star in the closest star system to Earth, about 4.37 light-years away.",x:4.37,y:2,spectral_class:"K",rgb_hex_color:"#FFA500",temperature_k:5e3},{star_name:"Sirius A",distance_from_sun_ly:8.6,description:"The brightest star in the night sky, part of a binary system, about 8.6 light-years away.",x:8.6,y:3,spectral_class:"A",rgb_hex_color:"#FFFFFF",temperature_k:9940},{star_name:"Epsilon Eridani",distance_from_sun_ly:10.5,description:"A K-type main-sequence star about 10.5 light-years away, known for its planetary system.",x:10.5,y:4,spectral_class:"K",rgb_hex_color:"#FFA500",temperature_k:4800},{star_name:"Procyon A",distance_from_sun_ly:11.4,description:"A binary star system in Canis Minor, about 11.4 light-years away.",x:11.4,y:5,spectral_class:"F",rgb_hex_color:"#FFFFE0",temperature_k:6530},{star_name:"Altair (Alpha Aquilae)",distance_from_sun_ly:16.7,description:"A bright A-type star located about 16.7 light-years away in Aquila.",x:16.7,y:6,spectral_class:"A",rgb_hex_color:"#FFFFFF",temperature_k:7800},{star_name:"Zeta Ophiuchi",distance_from_sun_ly:50,description:"A massive blue supergiant star located about 50 light-years away.",x:50,y:7,spectral_class:"O",rgb_hex_color:"#0000FF",temperature_k:3e4},{star_name:"Bellatrix (Gamma Orionis)",distance_from_sun_ly:240,description:"A blue giant star in Orion, approximately 240 light-years away.",x:240,y:8,spectral_class:"B",rgb_hex_color:"#1E90FF",temperature_k:22e3},{star_name:"Rigel (Beta Orionis)",distance_from_sun_ly:860,description:"A blue supergiant in Orion, approximately 860 light-years away.",x:860,y:9,spectral_class:"B",rgb_hex_color:"#1E90FF",temperature_k:25e3}],PP=Fc("div",{display:"flex",width:"100%",height:"100%"}),RP=()=>{const n=kw(0,0),e=Fw(n,4),t=[1776411,3368499,3355494,6697830,6710835,1776411,3368499,3355494,6697830,6710835],r=new Array;return e.forEach(s=>r.push({hex:s,type:Math.round(Math.random()*CP.length)})),console.log("GalaxyApp -> map",r),Xt.jsx(PP,{children:Xt.jsx(AP,{map:r,colors:t})})};ew.createRoot(document.getElementById("root")).render(Xt.jsx(Un.StrictMode,{children:Xt.jsx(RP,{})}))});export default IP();
